{
  "version": 3,
  "sources": ["../../echarts/lib/util/clazz.js", "../../echarts/lib/model/mixin/makeStyleMapper.js", "../../echarts/lib/model/mixin/areaStyle.js", "../../zrender/lib/graphic/helper/parseText.js", "../../zrender/lib/graphic/helper/roundRect.js", "../../zrender/lib/graphic/helper/subPixelOptimize.js", "../../zrender/lib/graphic/shape/Rect.js", "../../zrender/lib/graphic/Text.js", "../../echarts/lib/util/number.js", "../../echarts/lib/util/log.js", "../../echarts/lib/util/model.js", "../../echarts/lib/util/innerStore.js", "../../echarts/lib/util/states.js", "../../echarts/lib/util/graphic.js", "../../zrender/lib/tool/transformPath.js", "../../zrender/lib/tool/path.js", "../../zrender/lib/graphic/Group.js", "../../zrender/lib/graphic/shape/Circle.js", "../../zrender/lib/graphic/shape/Ellipse.js", "../../zrender/lib/graphic/helper/roundSector.js", "../../zrender/lib/graphic/shape/Sector.js", "../../zrender/lib/graphic/shape/Ring.js", "../../zrender/lib/graphic/helper/smoothSpline.js", "../../zrender/lib/graphic/helper/smoothBezier.js", "../../zrender/lib/graphic/helper/poly.js", "../../zrender/lib/graphic/shape/Polygon.js", "../../zrender/lib/graphic/shape/Polyline.js", "../../zrender/lib/graphic/shape/Line.js", "../../zrender/lib/graphic/shape/BezierCurve.js", "../../zrender/lib/graphic/shape/Arc.js", "../../zrender/lib/graphic/CompoundPath.js", "../../zrender/lib/graphic/Gradient.js", "../../zrender/lib/graphic/LinearGradient.js", "../../zrender/lib/graphic/RadialGradient.js", "../../zrender/lib/core/OrientedBoundingRect.js", "../../echarts/lib/label/labelStyle.js", "../../echarts/lib/model/mixin/textStyle.js", "../../echarts/lib/model/mixin/lineStyle.js", "../../echarts/lib/model/mixin/itemStyle.js", "../../echarts/lib/model/Model.js", "../../echarts/lib/data/DataDiffer.js", "../../echarts/lib/util/types.js", "../../echarts/lib/data/Source.js", "../../echarts/lib/data/helper/dataProvider.js", "../../echarts/lib/data/helper/dimensionHelper.js", "../../echarts/lib/data/DataDimensionInfo.js", "../../echarts/lib/data/helper/dataValueHelper.js", "../../echarts/lib/data/List.js", "../../echarts/lib/i18n/langEN.js", "../../echarts/lib/i18n/langZH.js", "../../echarts/lib/core/locale.js", "../../echarts/lib/util/component.js", "../../echarts/lib/util/time.js", "../../echarts/lib/legacy/getTextRect.js", "../../echarts/lib/util/format.js", "../../echarts/lib/util/layout.js", "../../echarts/lib/model/Component.js", "../../echarts/lib/model/mixin/palette.js", "../../echarts/lib/model/mixin/dataFormat.js", "../../echarts/lib/core/task.js", "../../echarts/lib/data/helper/sourceHelper.js", "../../echarts/lib/data/helper/transform.js", "../../echarts/lib/data/helper/sourceManager.js", "../../echarts/lib/component/tooltip/tooltipMarkup.js", "../../echarts/lib/component/tooltip/seriesFormatTooltip.js", "../../echarts/lib/model/Series.js", "../../echarts/lib/chart/helper/createRenderPlanner.js", "../../echarts/lib/view/Chart.js", "../../echarts/lib/util/throttle.js", "../../zrender/lib/zrender.js", "../../zrender/lib/mixin/Draggable.js", "../../zrender/lib/core/fourPointsTransform.js", "../../zrender/lib/core/dom.js", "../../zrender/lib/core/event.js", "../../zrender/lib/core/GestureMgr.js", "../../zrender/lib/Handler.js", "../../zrender/lib/core/timsort.js", "../../zrender/lib/Storage.js", "../../zrender/lib/animation/Animation.js", "../../zrender/lib/dom/HandlerProxy.js", "../../echarts/lib/view/Component.js", "../../zrender/lib/contain/polygon.js", "../../echarts/lib/coord/geo/Region.js", "../../echarts/lib/coord/geo/parseGeoJson.js", "../../echarts/lib/model/globalDefault.js", "../../echarts/lib/model/internalComponentCreator.js", "../../echarts/lib/model/Global.js", "../../echarts/lib/core/ExtensionAPI.js", "../../echarts/lib/core/CoordinateSystem.js", "../../echarts/lib/model/OptionManager.js", "../../echarts/lib/preprocessor/helper/compatStyle.js", "../../echarts/lib/preprocessor/backwardCompat.js", "../../echarts/lib/processor/dataStack.js", "../../echarts/lib/visual/style.js", "../../echarts/lib/loading/default.js", "../../echarts/lib/core/Scheduler.js", "../../echarts/lib/theme/light.js", "../../echarts/lib/theme/dark.js", "../../echarts/lib/util/ECEventProcessor.js", "../../echarts/lib/visual/symbol.js", "../../echarts/lib/visual/helper.js", "../../echarts/lib/label/labelGuideHelper.js", "../../echarts/lib/label/labelLayoutHelper.js", "../../echarts/lib/label/LabelManager.js", "../../echarts/lib/legacy/dataSelectAction.js", "../../echarts/lib/util/event.js", "../../echarts/lib/util/symbol.js", "../../echarts/lib/util/decal.js", "../../echarts/lib/visual/decal.js", "../../zrender/lib/tool/parseXML.js", "../../zrender/lib/tool/parseSVG.js", "../../echarts/lib/coord/geo/GeoSVGResource.js", "../../echarts/lib/coord/geo/fix/nanhai.js", "../../echarts/lib/coord/geo/fix/textCoord.js", "../../echarts/lib/coord/geo/fix/geoCoord.js", "../../echarts/lib/coord/geo/fix/diaoyuIsland.js", "../../echarts/lib/coord/geo/GeoJSONResource.js", "../../echarts/lib/coord/geo/geoSourceManager.js", "../../echarts/lib/core/echarts.js", "../../echarts/lib/extension.js", "../../echarts/lib/scale/Scale.js", "../../echarts/lib/data/OrdinalMeta.js", "../../echarts/lib/scale/helper.js", "../../echarts/lib/scale/Ordinal.js", "../../echarts/lib/scale/Interval.js", "../../echarts/lib/data/helper/dataStackHelper.js", "../../echarts/lib/layout/barGrid.js", "../../echarts/lib/scale/Time.js", "../../echarts/lib/scale/Log.js", "../../echarts/lib/coord/scaleRawExtentInfo.js", "../../echarts/lib/coord/axisHelper.js", "../../echarts/lib/coord/axisTickLabelBuilder.js", "../../echarts/lib/coord/Axis.js", "../../echarts/lib/coord/axisModelCommonMixin.js"],
  "sourcesContent": ["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __spreadArrays } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar IS_EXTENDED_CLASS = '___EC__EXTENDED_CLASS___';\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\n\nexport function parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n\n  if (componentType) {\n    var typeArr = componentType.split(TYPE_DELIMITER);\n    ret.main = typeArr[0] || '';\n    ret.sub = typeArr[1] || '';\n  }\n\n  return ret;\n}\n/**\n * @public\n */\n\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\n\nexport function isExtendedClass(clz) {\n  return !!(clz && clz[IS_EXTENDED_CLASS]);\n}\n/**\n * Implements `ExtendableConstructor` for `rootClz`.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ExtendableConstructor\n * enableClassExtend(Xxx as XxxConstructor);\n * ```\n */\n\nexport function enableClassExtend(rootClz, mandatoryMethods) {\n  rootClz.$constructor = rootClz; // FIXME: not necessary?\n\n  rootClz.extend = function (proto) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(mandatoryMethods, function (method) {\n        if (!proto[method]) {\n          console.warn('Method `' + method + '` should be implemented' + (proto.type ? ' in ' + proto.type : '') + '.');\n        }\n      });\n    }\n\n    var superClass = this; // For backward compat, we both support ts class inheritance and this\n    // \"extend\" approach.\n    // The constructor should keep the same behavior as ts class inheritance:\n    // If this constructor/$constructor is not declared, auto invoke the super\n    // constructor.\n    // If this constructor/$constructor is declared, it is responsible for\n    // calling the super constructor.\n\n    function ExtendedClass() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      if (!proto.$constructor) {\n        if (!isESClass(superClass)) {\n          // Will throw error if superClass is an es6 native class.\n          superClass.apply(this, arguments);\n        } else {\n          var ins = zrUtil.createObject( // @ts-ignore\n          ExtendedClass.prototype, new (superClass.bind.apply(superClass, __spreadArrays([void 0], args)))());\n          return ins;\n        }\n      } else {\n        proto.$constructor.apply(this, arguments);\n      }\n    }\n\n    ExtendedClass[IS_EXTENDED_CLASS] = true;\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    zrUtil.inherits(ExtendedClass, this);\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n}\n\nfunction isESClass(fn) {\n  return typeof fn === 'function' && /^class\\s/.test(Function.prototype.toString.call(fn));\n}\n/**\n * A work around to both support ts extend and this extend mechanism.\n * on sub-class.\n * @usage\n * ```ts\n * class Component { ... }\n * classUtil.enableClassExtend(Component);\n * classUtil.enableClassManagement(Component, {registerWhenExtend: true});\n *\n * class Series extends Component { ... }\n * // Without calling `markExtend`, `registerWhenExtend` will not work.\n * Component.markExtend(Series);\n * ```\n */\n\n\nexport function mountExtend(SubClz, SupperClz) {\n  SubClz.extend = SupperClz.extend;\n} // A random offset.\n\nvar classBase = Math.round(Math.random() * 10);\n/**\n * Implements `CheckableConstructor` for `target`.\n * Can not use instanceof, consider different scope by\n * cross domain or es module import in ec extensions.\n * Mount a method \"isInstance()\" to Clz.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & CheckableConstructor;\n * enableClassCheck(Xxx as XxxConstructor)\n * ```\n */\n\nexport function enableClassCheck(target) {\n  var classAttr = ['__\\0is_clz', classBase++].join('_');\n  target.prototype[classAttr] = true;\n\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(!target.isInstance, 'The method \"is\" can not be defined.');\n  }\n\n  target.isInstance = function (obj) {\n    return !!(obj && obj[classAttr]);\n  };\n} // superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\n\nfunction superCall(context, methodName) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * Implements `ClassManager` for `target`\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ClassManager\n * enableClassManagement(Xxx as XxxConstructor);\n * ```\n */\n\n\nexport function enableClassManagement(target) {\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'xxx'\n   *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n   */\n  var storage = {};\n\n  target.registerClass = function (clz) {\n    // `type` should not be a \"instance memeber\".\n    // If using TS class, should better declared as `static type = 'series.pie'`.\n    // otherwise users have to mount `type` on prototype manually.\n    // For backward compat and enable instance visit type via `this.type`,\n    // we stil support fetch `type` from prototype.\n    var componentFullType = clz.type || clz.prototype.type;\n\n    if (componentFullType) {\n      checkClassType(componentFullType); // If only static type declared, we assign it to prototype mandatorily.\n\n      clz.prototype.type = componentFullType;\n      var componentTypeInfo = parseClassType(componentFullType);\n\n      if (!componentTypeInfo.sub) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (storage[componentTypeInfo.main]) {\n            console.warn(componentTypeInfo.main + ' exists.');\n          }\n        }\n\n        storage[componentTypeInfo.main] = clz;\n      } else if (componentTypeInfo.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentTypeInfo);\n        container[componentTypeInfo.sub] = clz;\n      }\n    }\n\n    return clz;\n  };\n\n  target.getClass = function (mainType, subType, throwWhenNotFound) {\n    var clz = storage[mainType];\n\n    if (clz && clz[IS_CONTAINER]) {\n      clz = subType ? clz[subType] : null;\n    }\n\n    if (throwWhenNotFound && !clz) {\n      throw new Error(!subType ? mainType + '.' + 'type should be specified.' : 'Component ' + mainType + '.' + (subType || '') + ' is used but not imported.');\n    }\n\n    return clz;\n  };\n\n  target.getClassesByMainType = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentTypeInfo.main];\n\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n\n    return result;\n  };\n\n  target.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    var componentTypeInfo = parseClassType(componentType);\n    return !!storage[componentTypeInfo.main];\n  };\n  /**\n   * @return Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n\n\n  target.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   */\n\n\n  target.hasSubTypes = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var obj = storage[componentTypeInfo.main];\n    return obj && obj[IS_CONTAINER];\n  };\n\n  function makeContainer(componentTypeInfo) {\n    var container = storage[componentTypeInfo.main];\n\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentTypeInfo.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n\n    return container;\n  }\n} // /**\n//  * @param {string|Array.<string>} properties\n//  */\n// export function setReadOnly(obj, properties) {\n// FIXME It seems broken in IE8 simulation of IE11\n// if (!zrUtil.isArray(properties)) {\n//     properties = properties != null ? [properties] : [];\n// }\n// zrUtil.each(properties, function (prop) {\n//     let value = obj[prop];\n//     Object.defineProperty\n//         && Object.defineProperty(obj, prop, {\n//             value: value, writable: false\n//         });\n//     zrUtil.isArray(obj[prop])\n//         && Object.freeze\n//         && Object.freeze(obj[prop]);\n// });\n// }", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\nimport * as zrUtil from 'zrender/lib/core/util';\nexport default function makeStyleMapper(properties, ignoreParent) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  ignoreParent = ignoreParent || false;\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName, ignoreParent);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    } // TODO Text or image?\n\n\n    return style;\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper';\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\n\nvar AreaStyleMixin =\n/** @class */\nfunction () {\n  function AreaStyleMixin() {}\n\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  };\n\n  return AreaStyleMixin;\n}();\n\n;\nexport { AreaStyleMixin };", "import * as imageHelper from '../helper/image';\nimport { extend, retrieve2, retrieve3, reduce } from '../../core/util';\nimport { getLineHeight, getWidth, parsePercent } from '../../contain/text';\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nexport function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        return '';\n    }\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n    return textLines.join('\\n');\n}\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = options || {};\n    var preparedOpts = extend({}, options);\n    preparedOpts.font = font;\n    ellipsis = retrieve2(ellipsis, '...');\n    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);\n    preparedOpts.cnCharWidth = getWidth('\u56FD', font);\n    var ascCharWidth = preparedOpts.ascCharWidth = getWidth('a', font);\n    preparedOpts.placeholder = retrieve2(options.placeholder, '');\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n    var ellipsisWidth = getWidth(ellipsis, font);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n    contentWidth = containerWidth - ellipsisWidth;\n    preparedOpts.ellipsis = ellipsis;\n    preparedOpts.ellipsisWidth = ellipsisWidth;\n    preparedOpts.contentWidth = contentWidth;\n    preparedOpts.containerWidth = containerWidth;\n    return preparedOpts;\n}\nfunction truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n    if (!containerWidth) {\n        return '';\n    }\n    var lineWidth = getWidth(textLine, font);\n    if (lineWidth <= containerWidth) {\n        return textLine;\n    }\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth)\n            : lineWidth > 0\n                ? Math.floor(textLine.length * contentWidth / lineWidth)\n                : 0;\n        textLine = textLine.substr(0, subLength);\n        lineWidth = getWidth(textLine, font);\n    }\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n    return textLine;\n}\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        var charCode = text.charCodeAt(i);\n        width += (0 <= charCode && charCode <= 127) ? ascCharWidth : cnCharWidth;\n    }\n    return i;\n}\nexport function parsePlainText(text, style) {\n    text != null && (text += '');\n    var overflow = style.overflow;\n    var padding = style.padding;\n    var font = style.font;\n    var truncate = overflow === 'truncate';\n    var calculatedLineHeight = getLineHeight(font);\n    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);\n    var truncateLineOverflow = style.lineOverflow === 'truncate';\n    var width = style.width;\n    var lines;\n    if (width != null && overflow === 'break' || overflow === 'breakAll') {\n        lines = text ? wrapText(text, style.font, width, overflow === 'breakAll', 0).lines : [];\n    }\n    else {\n        lines = text ? text.split('\\n') : [];\n    }\n    var contentHeight = lines.length * lineHeight;\n    var height = retrieve2(style.height, contentHeight);\n    if (contentHeight > height && truncateLineOverflow) {\n        var lineCount = Math.floor(height / lineHeight);\n        lines = lines.slice(0, lineCount);\n    }\n    var outerHeight = height;\n    var outerWidth = width;\n    if (padding) {\n        outerHeight += padding[0] + padding[2];\n        if (outerWidth != null) {\n            outerWidth += padding[1] + padding[3];\n        }\n    }\n    if (text && truncate && outerWidth != null) {\n        var options = prepareTruncateOptions(width, font, style.ellipsis, {\n            minChar: style.truncateMinChar,\n            placeholder: style.placeholder\n        });\n        for (var i = 0; i < lines.length; i++) {\n            lines[i] = truncateSingleLine(lines[i], options);\n        }\n    }\n    if (width == null) {\n        var maxWidth = 0;\n        for (var i = 0; i < lines.length; i++) {\n            maxWidth = Math.max(getWidth(lines[i], font), maxWidth);\n        }\n        width = maxWidth;\n    }\n    return {\n        lines: lines,\n        height: height,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight,\n        calculatedLineHeight: calculatedLineHeight,\n        contentHeight: contentHeight,\n        width: width\n    };\n}\nvar RichTextToken = (function () {\n    function RichTextToken() {\n    }\n    return RichTextToken;\n}());\nvar RichTextLine = (function () {\n    function RichTextLine(tokens) {\n        this.tokens = [];\n        if (tokens) {\n            this.tokens = tokens;\n        }\n    }\n    return RichTextLine;\n}());\nvar RichTextContentBlock = (function () {\n    function RichTextContentBlock() {\n        this.width = 0;\n        this.height = 0;\n        this.contentWidth = 0;\n        this.contentHeight = 0;\n        this.outerWidth = 0;\n        this.outerHeight = 0;\n        this.lines = [];\n    }\n    return RichTextContentBlock;\n}());\nexport { RichTextContentBlock };\nexport function parseRichText(text, style) {\n    var contentBlock = new RichTextContentBlock();\n    text != null && (text += '');\n    if (!text) {\n        return contentBlock;\n    }\n    var topWidth = style.width;\n    var topHeight = style.height;\n    var overflow = style.overflow;\n    var wrapInfo = (overflow === 'break' || overflow === 'breakAll') && topWidth != null\n        ? { width: topWidth, accumWidth: 0, breakAll: overflow === 'breakAll' }\n        : null;\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);\n        }\n        pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);\n    }\n    var pendingList = [];\n    var calculatedHeight = 0;\n    var calculatedWidth = 0;\n    var stlPadding = style.padding;\n    var truncate = overflow === 'truncate';\n    var truncateLine = style.lineOverflow === 'truncate';\n    function finishLine(line, lineWidth, lineHeight) {\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        calculatedHeight += lineHeight;\n        calculatedWidth = Math.max(calculatedWidth, lineWidth);\n    }\n    outer: for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            var textPadding = token.textPadding = tokenStyle.padding;\n            var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;\n            var font = token.font = tokenStyle.font || style.font;\n            token.contentHeight = getLineHeight(font);\n            var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);\n            token.innerHeight = tokenHeight;\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);\n            token.align = tokenStyle && tokenStyle.align || style.align;\n            token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || 'middle';\n            if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {\n                if (j > 0) {\n                    line.tokens = line.tokens.slice(0, j);\n                    finishLine(line, lineWidth, lineHeight);\n                    contentBlock.lines = contentBlock.lines.slice(0, i + 1);\n                }\n                else {\n                    contentBlock.lines = contentBlock.lines.slice(0, i);\n                }\n                break outer;\n            }\n            var styleTokenWidth = tokenStyle.width;\n            var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === 'auto';\n            if (typeof styleTokenWidth === 'string' && styleTokenWidth.charAt(styleTokenWidth.length - 1) === '%') {\n                token.percentWidth = styleTokenWidth;\n                pendingList.push(token);\n                token.contentWidth = getWidth(token.text, font);\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    var textBackgroundColor = tokenStyle.backgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n                    if (bgImg) {\n                        bgImg = imageHelper.findExistImage(bgImg);\n                        if (imageHelper.isImageReady(bgImg)) {\n                            token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n                var remainTruncWidth = truncate && topWidth != null\n                    ? topWidth - lineWidth : null;\n                if (remainTruncWidth != null && remainTruncWidth < token.width) {\n                    if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {\n                        token.text = '';\n                        token.width = token.contentWidth = 0;\n                    }\n                    else {\n                        token.text = truncateText(token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });\n                        token.width = token.contentWidth = getWidth(token.text, font);\n                    }\n                }\n                else {\n                    token.contentWidth = getWidth(token.text, font);\n                }\n            }\n            token.width += paddingH;\n            lineWidth += token.width;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n        finishLine(line, lineWidth, lineHeight);\n    }\n    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);\n    contentBlock.contentHeight = calculatedHeight;\n    contentBlock.contentWidth = calculatedWidth;\n    if (stlPadding) {\n        contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n        contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;\n    }\n    return contentBlock;\n}\nfunction pushTokens(block, str, style, wrapInfo, styleName) {\n    var isEmptyStr = str === '';\n    var tokenStyle = styleName && style.rich[styleName] || {};\n    var lines = block.lines;\n    var font = tokenStyle.font || style.font;\n    var newLine = false;\n    var strLines;\n    var linesWidths;\n    if (wrapInfo) {\n        var tokenPadding = tokenStyle.padding;\n        var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;\n        if (tokenStyle.width != null && tokenStyle.width !== 'auto') {\n            var outerWidth_1 = parsePercent(tokenStyle.width, wrapInfo.width) + tokenPaddingH;\n            if (lines.length > 0) {\n                if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {\n                    strLines = str.split('\\n');\n                    newLine = true;\n                }\n            }\n            wrapInfo.accumWidth = outerWidth_1;\n        }\n        else {\n            var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);\n            wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;\n            linesWidths = res.linesWidths;\n            strLines = res.lines;\n        }\n    }\n    else {\n        strLines = str.split('\\n');\n    }\n    for (var i = 0; i < strLines.length; i++) {\n        var text = strLines[i];\n        var token = new RichTextToken();\n        token.styleName = styleName;\n        token.text = text;\n        token.isLineHolder = !text && !isEmptyStr;\n        if (typeof tokenStyle.width === 'number') {\n            token.width = tokenStyle.width;\n        }\n        else {\n            token.width = linesWidths\n                ? linesWidths[i]\n                : getWidth(text, font);\n        }\n        if (!i && !newLine) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        else {\n            lines.push(new RichTextLine([token]));\n        }\n    }\n}\nfunction isLatin(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 0x21 && code <= 0xFF;\n}\nvar breakCharMap = reduce(',&?/;] '.split(''), function (obj, ch) {\n    obj[ch] = true;\n    return obj;\n}, {});\nfunction isWordBreakChar(ch) {\n    if (isLatin(ch)) {\n        if (breakCharMap[ch]) {\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\nfunction wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {\n    var lines = [];\n    var linesWidths = [];\n    var line = '';\n    var currentWord = '';\n    var currentWordWidth = 0;\n    var accumWidth = 0;\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\n') {\n            if (currentWord) {\n                line += currentWord;\n                accumWidth += currentWordWidth;\n            }\n            lines.push(line);\n            linesWidths.push(accumWidth);\n            line = '';\n            currentWord = '';\n            currentWordWidth = 0;\n            accumWidth = 0;\n            continue;\n        }\n        var chWidth = getWidth(ch, font);\n        var inWord = isBreakAll ? false : !isWordBreakChar(ch);\n        if (!lines.length\n            ? lastAccumWidth + accumWidth + chWidth > lineWidth\n            : accumWidth + chWidth > lineWidth) {\n            if (!accumWidth) {\n                if (inWord) {\n                    lines.push(currentWord);\n                    linesWidths.push(currentWordWidth);\n                    currentWord = ch;\n                    currentWordWidth = chWidth;\n                }\n                else {\n                    lines.push(ch);\n                    linesWidths.push(chWidth);\n                }\n            }\n            else if (line || currentWord) {\n                if (inWord) {\n                    if (!line) {\n                        line = currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                        accumWidth = currentWordWidth;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth - currentWordWidth);\n                    currentWord += ch;\n                    currentWordWidth += chWidth;\n                    line = '';\n                    accumWidth = currentWordWidth;\n                }\n                else {\n                    if (currentWord) {\n                        line += currentWord;\n                        accumWidth += currentWordWidth;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth);\n                    line = ch;\n                    accumWidth = chWidth;\n                }\n            }\n            continue;\n        }\n        accumWidth += chWidth;\n        if (inWord) {\n            currentWord += ch;\n            currentWordWidth += chWidth;\n        }\n        else {\n            if (currentWord) {\n                line += currentWord;\n                currentWord = '';\n                currentWordWidth = 0;\n            }\n            line += ch;\n        }\n    }\n    if (!lines.length && !line) {\n        line = text;\n        currentWord = '';\n        currentWordWidth = 0;\n    }\n    if (currentWord) {\n        line += currentWord;\n    }\n    if (line) {\n        lines.push(line);\n        linesWidths.push(accumWidth);\n    }\n    if (lines.length === 1) {\n        accumWidth += lastAccumWidth;\n    }\n    return {\n        accumWidth: accumWidth,\n        lines: lines,\n        linesWidths: linesWidths\n    };\n}\n", "export function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n", "var round = Math.round;\nexport function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    if (round(x1 * 2) === round(x2 * 2)) {\n        outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n    if (round(y1 * 2) === round(y2 * 2)) {\n        outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n    return outputShape;\n}\nexport function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n    return outputShape;\n}\nexport function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n        return position;\n    }\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport * as roundRectHelper from '../helper/roundRect';\nimport { subPixelOptimizeRect } from '../helper/subPixelOptimize';\nvar RectShape = (function () {\n    function RectShape() {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n    }\n    return RectShape;\n}());\nexport { RectShape };\nvar subPixelOptimizeOutputShape = {};\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Rect.prototype.getDefaultShape = function () {\n        return new RectShape();\n    };\n    Rect.prototype.buildPath = function (ctx, shape) {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n            x = optimizedShape.x;\n            y = optimizedShape.y;\n            width = optimizedShape.width;\n            height = optimizedShape.height;\n            optimizedShape.r = shape.r;\n            shape = optimizedShape;\n        }\n        else {\n            x = shape.x;\n            y = shape.y;\n            width = shape.width;\n            height = shape.height;\n        }\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            roundRectHelper.buildPath(ctx, shape);\n        }\n    };\n    Rect.prototype.isZeroArea = function () {\n        return !this.shape.width || !this.shape.height;\n    };\n    return Rect;\n}(Path));\nRect.prototype.type = 'rect';\nexport default Rect;\n", "import { __extends } from \"tslib\";\nimport { parseRichText, parsePlainText } from './helper/parseText';\nimport TSpan from './TSpan';\nimport { retrieve2, each, normalizeCssArray, trim, retrieve3, extend, keys, defaults } from '../core/util';\nimport { DEFAULT_FONT, adjustTextX, adjustTextY } from '../contain/text';\nimport ZRImage from './Image';\nimport Rect from './shape/Rect';\nimport BoundingRect from '../core/BoundingRect';\nimport { copy } from '../core/matrix';\nimport Displayable, { DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable';\nvar DEFAULT_RICH_TEXT_COLOR = {\n    fill: '#000'\n};\nvar DEFAULT_STROKE_LINE_WIDTH = 2;\nexport var DEFAULT_TEXT_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineWidth: true,\n        fontSize: true,\n        lineHeight: true,\n        width: true,\n        height: true,\n        textShadowColor: true,\n        textShadowBlur: true,\n        textShadowOffsetX: true,\n        textShadowOffsetY: true,\n        backgroundColor: true,\n        padding: true,\n        borderColor: true,\n        borderWidth: true,\n        borderRadius: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar ZRText = (function (_super) {\n    __extends(ZRText, _super);\n    function ZRText(opts) {\n        var _this = _super.call(this) || this;\n        _this.type = 'text';\n        _this._children = [];\n        _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;\n        _this.attr(opts);\n        return _this;\n    }\n    ZRText.prototype.childrenRef = function () {\n        return this._children;\n    };\n    ZRText.prototype.update = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.zlevel = this.zlevel;\n            child.z = this.z;\n            child.z2 = this.z2;\n            child.culling = this.culling;\n            child.cursor = this.cursor;\n            child.invisible = this.invisible;\n        }\n        var attachedTransform = this.attachedTransform;\n        if (attachedTransform) {\n            attachedTransform.updateTransform();\n            var m = attachedTransform.transform;\n            if (m) {\n                this.transform = this.transform || [];\n                copy(this.transform, m);\n            }\n            else {\n                this.transform = null;\n            }\n        }\n        else {\n            _super.prototype.update.call(this);\n        }\n    };\n    ZRText.prototype.getComputedTransform = function () {\n        if (this.__hostTarget) {\n            this.__hostTarget.getComputedTransform();\n            this.__hostTarget.updateInnerText(true);\n        }\n        return this.attachedTransform ? this.attachedTransform.getComputedTransform()\n            : _super.prototype.getComputedTransform.call(this);\n    };\n    ZRText.prototype._updateSubTexts = function () {\n        this._childCursor = 0;\n        normalizeTextStyle(this.style);\n        this.style.rich\n            ? this._updateRichTexts()\n            : this._updatePlainTexts();\n        this._children.length = this._childCursor;\n        this.styleUpdated();\n    };\n    ZRText.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = zr;\n        }\n    };\n    ZRText.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = null;\n        }\n    };\n    ZRText.prototype.getBoundingRect = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        if (!this._rect) {\n            var tmpRect = new BoundingRect(0, 0, 0, 0);\n            var children = this._children;\n            var tmpMat = [];\n            var rect = null;\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                var childRect = child.getBoundingRect();\n                var transform = child.getLocalTransform(tmpMat);\n                if (transform) {\n                    tmpRect.copy(childRect);\n                    tmpRect.applyTransform(transform);\n                    rect = rect || tmpRect.clone();\n                    rect.union(tmpRect);\n                }\n                else {\n                    rect = rect || childRect.clone();\n                    rect.union(childRect);\n                }\n            }\n            this._rect = rect || tmpRect;\n        }\n        return this._rect;\n    };\n    ZRText.prototype.setDefaultTextStyle = function (defaultTextStyle) {\n        this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;\n    };\n    ZRText.prototype.setTextContent = function (textContent) {\n        throw new Error('Can\\'t attach text on another text');\n    };\n    ZRText.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        if (!sourceStyle) {\n            return targetStyle;\n        }\n        var sourceRich = sourceStyle.rich;\n        var targetRich = targetStyle.rich || (sourceRich && {});\n        extend(targetStyle, sourceStyle);\n        if (sourceRich && targetRich) {\n            this._mergeRich(targetRich, sourceRich);\n            targetStyle.rich = targetRich;\n        }\n        else if (targetRich) {\n            targetStyle.rich = targetRich;\n        }\n        return targetStyle;\n    };\n    ZRText.prototype._mergeRich = function (targetRich, sourceRich) {\n        var richNames = keys(sourceRich);\n        for (var i = 0; i < richNames.length; i++) {\n            var richName = richNames[i];\n            targetRich[richName] = targetRich[richName] || {};\n            extend(targetRich[richName], sourceRich[richName]);\n        }\n    };\n    ZRText.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_TEXT_ANIMATION_PROPS;\n    };\n    ZRText.prototype._getOrCreateChild = function (Ctor) {\n        var child = this._children[this._childCursor];\n        if (!child || !(child instanceof Ctor)) {\n            child = new Ctor();\n        }\n        this._children[this._childCursor++] = child;\n        child.__zr = this.__zr;\n        child.parent = this;\n        return child;\n    };\n    ZRText.prototype._updatePlainTexts = function () {\n        var style = this.style;\n        var textFont = style.font || DEFAULT_FONT;\n        var textPadding = style.padding;\n        var text = getStyleText(style);\n        var contentBlock = parsePlainText(text, style);\n        var needDrawBg = needDrawBackground(style);\n        var bgColorDrawn = !!(style.backgroundColor);\n        var outerHeight = contentBlock.outerHeight;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        var defaultStyle = this._defaultStyle;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.align || defaultStyle.align || 'left';\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || 'top';\n        var textX = baseX;\n        var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);\n        if (needDrawBg || textPadding) {\n            var outerWidth_1 = contentBlock.width;\n            textPadding && (outerWidth_1 += textPadding[1] + textPadding[3]);\n            var boxX = adjustTextX(baseX, outerWidth_1, textAlign);\n            var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n            needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth_1, outerHeight);\n        }\n        textY += lineHeight / 2;\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            if (verticalAlign === 'top') {\n                textY += textPadding[0];\n            }\n            else if (verticalAlign === 'bottom') {\n                textY -= textPadding[2];\n            }\n        }\n        var defaultLineWidth = 0;\n        var useDefaultFill = false;\n        var textFill = getFill('fill' in style\n            ? style.fill\n            : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in style\n            ? style.stroke\n            : (!bgColorDrawn\n                && (!defaultStyle.autoStroke || useDefaultFill))\n                ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                : null);\n        var hasShadow = style.textShadowBlur > 0;\n        var fixedBoundingRect = style.width != null\n            && (style.overflow === 'truncate' || style.overflow === 'break' || style.overflow === 'breakAll');\n        var calculatedLineHeight = contentBlock.calculatedLineHeight;\n        for (var i = 0; i < textLines.length; i++) {\n            var el = this._getOrCreateChild(TSpan);\n            var subElStyle = el.createStyle();\n            el.useStyle(subElStyle);\n            subElStyle.text = textLines[i];\n            subElStyle.x = textX;\n            subElStyle.y = textY;\n            if (textAlign) {\n                subElStyle.textAlign = textAlign;\n            }\n            subElStyle.textBaseline = 'middle';\n            subElStyle.opacity = style.opacity;\n            subElStyle.strokeFirst = true;\n            if (hasShadow) {\n                subElStyle.shadowBlur = style.textShadowBlur || 0;\n                subElStyle.shadowColor = style.textShadowColor || 'transparent';\n                subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;\n                subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;\n            }\n            if (textStroke) {\n                subElStyle.stroke = textStroke;\n                subElStyle.lineWidth = style.lineWidth || defaultLineWidth;\n                subElStyle.lineDash = style.lineDash;\n                subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            }\n            if (textFill) {\n                subElStyle.fill = textFill;\n            }\n            subElStyle.font = textFont;\n            textY += lineHeight;\n            if (fixedBoundingRect) {\n                el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, style.width, subElStyle.textAlign), adjustTextY(subElStyle.y, calculatedLineHeight, subElStyle.textBaseline), style.width, calculatedLineHeight));\n            }\n        }\n    };\n    ZRText.prototype._updateRichTexts = function () {\n        var style = this.style;\n        var text = getStyleText(style);\n        var contentBlock = parseRichText(text, style);\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.padding;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var defaultStyle = this._defaultStyle;\n        var textAlign = style.align || defaultStyle.align;\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n        if (textPadding) {\n            xLeft += textPadding[3];\n            lineTop += textPadding[0];\n        }\n        var xRight = xLeft + contentWidth;\n        if (needDrawBackground(style)) {\n            this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        var bgColorDrawn = !!(style.backgroundColor);\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n            var line = contentBlock.lines[i];\n            var tokens = line.tokens;\n            var tokenCount = tokens.length;\n            var lineHeight = line.lineHeight;\n            var remainedWidth = line.width;\n            var leftIndex = 0;\n            var lineXLeft = xLeft;\n            var lineXRight = xRight;\n            var rightIndex = tokenCount - 1;\n            var token = void 0;\n            while (leftIndex < tokenCount\n                && (token = tokens[leftIndex], !token.align || token.align === 'left')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft, 'left', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            while (rightIndex >= 0\n                && (token = tokens[rightIndex], token.align === 'right')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXRight, 'right', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXRight -= token.width;\n                rightIndex--;\n            }\n            lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;\n            while (leftIndex <= rightIndex) {\n                token = tokens[leftIndex];\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center', bgColorDrawn);\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            lineTop += lineHeight;\n        }\n    };\n    ZRText.prototype._placeToken = function (token, style, lineHeight, lineTop, x, textAlign, parentBgColorDrawn) {\n        var tokenStyle = style.rich[token.styleName] || {};\n        tokenStyle.text = token.text;\n        var verticalAlign = token.verticalAlign;\n        var y = lineTop + lineHeight / 2;\n        if (verticalAlign === 'top') {\n            y = lineTop + token.height / 2;\n        }\n        else if (verticalAlign === 'bottom') {\n            y = lineTop + lineHeight - token.height / 2;\n        }\n        var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);\n        needDrawBg && this._renderBackground(tokenStyle, style, textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n                ? x - token.width / 2\n                : x, y - token.height / 2, token.width, token.height);\n        var bgColorDrawn = !!tokenStyle.backgroundColor;\n        var textPadding = token.textPadding;\n        if (textPadding) {\n            x = getTextXForPadding(x, textAlign, textPadding);\n            y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;\n        }\n        var el = this._getOrCreateChild(TSpan);\n        var subElStyle = el.createStyle();\n        el.useStyle(subElStyle);\n        var defaultStyle = this._defaultStyle;\n        var useDefaultFill = false;\n        var defaultLineWidth = 0;\n        var textFill = getStroke('fill' in tokenStyle ? tokenStyle.fill\n            : 'fill' in style ? style.fill\n                : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in tokenStyle ? tokenStyle.stroke\n            : 'stroke' in style ? style.stroke\n                : (!bgColorDrawn\n                    && !parentBgColorDrawn\n                    && (!defaultStyle.autoStroke || useDefaultFill)) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                    : null);\n        var hasShadow = tokenStyle.textShadowBlur > 0\n            || style.textShadowBlur > 0;\n        subElStyle.text = token.text;\n        subElStyle.x = x;\n        subElStyle.y = y;\n        if (hasShadow) {\n            subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;\n            subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || 'transparent';\n            subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;\n            subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;\n        }\n        subElStyle.textAlign = textAlign;\n        subElStyle.textBaseline = 'middle';\n        subElStyle.font = token.font || DEFAULT_FONT;\n        subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);\n        if (textStroke) {\n            subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);\n            subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);\n            subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            subElStyle.stroke = textStroke;\n        }\n        if (textFill) {\n            subElStyle.fill = textFill;\n        }\n        var textWidth = token.contentWidth;\n        var textHeight = token.contentHeight;\n        el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, textWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, textHeight, subElStyle.textBaseline), textWidth, textHeight));\n    };\n    ZRText.prototype._renderBackground = function (style, topStyle, x, y, width, height) {\n        var textBackgroundColor = style.backgroundColor;\n        var textBorderWidth = style.borderWidth;\n        var textBorderColor = style.borderColor;\n        var isImageBg = textBackgroundColor && textBackgroundColor.image;\n        var isPlainOrGradientBg = textBackgroundColor && !isImageBg;\n        var textBorderRadius = style.borderRadius;\n        var self = this;\n        var rectEl;\n        var imgEl;\n        if (isPlainOrGradientBg || (textBorderWidth && textBorderColor)) {\n            rectEl = this._getOrCreateChild(Rect);\n            rectEl.useStyle(rectEl.createStyle());\n            rectEl.style.fill = null;\n            var rectShape = rectEl.shape;\n            rectShape.x = x;\n            rectShape.y = y;\n            rectShape.width = width;\n            rectShape.height = height;\n            rectShape.r = textBorderRadius;\n            rectEl.dirtyShape();\n        }\n        if (isPlainOrGradientBg) {\n            var rectStyle = rectEl.style;\n            rectStyle.fill = textBackgroundColor || null;\n            rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);\n        }\n        else if (isImageBg) {\n            imgEl = this._getOrCreateChild(ZRImage);\n            imgEl.onload = function () {\n                self.dirtyStyle();\n            };\n            var imgStyle = imgEl.style;\n            imgStyle.image = textBackgroundColor.image;\n            imgStyle.x = x;\n            imgStyle.y = y;\n            imgStyle.width = width;\n            imgStyle.height = height;\n        }\n        if (textBorderWidth && textBorderColor) {\n            var rectStyle = rectEl.style;\n            rectStyle.lineWidth = textBorderWidth;\n            rectStyle.stroke = textBorderColor;\n            rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);\n            rectStyle.lineDash = style.borderDash;\n            rectStyle.lineDashOffset = style.borderDashOffset || 0;\n            rectEl.strokeContainThreshold = 0;\n            if (rectEl.hasFill() && rectEl.hasStroke()) {\n                rectStyle.strokeFirst = true;\n                rectStyle.lineWidth *= 2;\n            }\n        }\n        var commonStyle = (rectEl || imgEl).style;\n        commonStyle.shadowBlur = style.shadowBlur || 0;\n        commonStyle.shadowColor = style.shadowColor || 'transparent';\n        commonStyle.shadowOffsetX = style.shadowOffsetX || 0;\n        commonStyle.shadowOffsetY = style.shadowOffsetY || 0;\n        commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);\n    };\n    ZRText.makeFont = function (style) {\n        var font = '';\n        if (style.fontSize || style.fontFamily || style.fontWeight) {\n            var fontSize = '';\n            if (typeof style.fontSize === 'string'\n                && (style.fontSize.indexOf('px') !== -1\n                    || style.fontSize.indexOf('rem') !== -1\n                    || style.fontSize.indexOf('em') !== -1)) {\n                fontSize = style.fontSize;\n            }\n            else if (!isNaN(+style.fontSize)) {\n                fontSize = style.fontSize + 'px';\n            }\n            else {\n                fontSize = '12px';\n            }\n            font = [\n                style.fontStyle,\n                style.fontWeight,\n                fontSize,\n                style.fontFamily || 'sans-serif'\n            ].join(' ');\n        }\n        return font && trim(font) || style.textFont || style.font;\n    };\n    return ZRText;\n}(Displayable));\nvar VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };\nvar VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };\nexport function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each(style.rich, normalizeStyle);\n    return style;\n}\nfunction normalizeStyle(style) {\n    if (style) {\n        style.font = ZRText.makeFont(style);\n        var textAlign = style.align;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.align = (textAlign == null || VALID_TEXT_ALIGN[textAlign]) ? textAlign : 'left';\n        var verticalAlign = style.verticalAlign;\n        verticalAlign === 'center' && (verticalAlign = 'middle');\n        style.verticalAlign = (verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign]) ? verticalAlign : 'top';\n        var textPadding = style.padding;\n        if (textPadding) {\n            style.padding = normalizeCssArray(style.padding);\n        }\n    }\n}\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        : (stroke.image || stroke.colorStops)\n            ? '#000'\n            : stroke;\n}\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        : (fill.image || fill.colorStops)\n            ? '#000'\n            : fill;\n}\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n            ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n            : (x + textPadding[3]);\n}\nfunction getStyleText(style) {\n    var text = style.text;\n    text != null && (text += '');\n    return text;\n}\nfunction needDrawBackground(style) {\n    return !!(style.backgroundColor\n        || (style.borderWidth && style.borderColor));\n}\nexport default ZRText;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The method \"quantile\" was copied from \"d3.js\".\n* (See more details in the comment of the method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nvar RADIAN_EPSILON = 1e-4; // Although chrome already enlarge this number to 100 for `toFixed`, but\n// we sill follow the spec for compatibility.\n\nvar ROUND_SUPPORTED_PRECISION_MAX = 20;\n\nfunction _trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n/**\n * Linear mapping a value from domain to range\n * @param  val\n * @param  domain Domain extent domain[0] can be bigger than domain[1]\n * @param  range  Range extent range[0] can be bigger than range[1]\n * @param  clamp Default to be false\n */\n\n\nexport function linearMap(val, domain, range, clamp) {\n  var d0 = domain[0];\n  var d1 = domain[1];\n  var r0 = range[0];\n  var r1 = range[1];\n  var subDomain = d1 - d0;\n  var subRange = r1 - r0;\n\n  if (subDomain === 0) {\n    return subRange === 0 ? r0 : (r0 + r1) / 2;\n  } // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n\n\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= d0) {\n        return r0;\n      } else if (val >= d1) {\n        return r1;\n      }\n    } else {\n      if (val >= d0) {\n        return r0;\n      } else if (val <= d1) {\n        return r1;\n      }\n    }\n  } else {\n    if (val === d0) {\n      return r0;\n    }\n\n    if (val === d1) {\n      return r1;\n    }\n  }\n\n  return (val - d0) / subDomain * subRange + r0;\n}\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n */\n\nexport function parsePercent(percent, all) {\n  switch (percent) {\n    case 'center':\n    case 'middle':\n      percent = '50%';\n      break;\n\n    case 'left':\n    case 'top':\n      percent = '0%';\n      break;\n\n    case 'right':\n    case 'bottom':\n      percent = '100%';\n      break;\n  }\n\n  if (typeof percent === 'string') {\n    if (_trim(percent).match(/%$/)) {\n      return parseFloat(percent) / 100 * all;\n    }\n\n    return parseFloat(percent);\n  }\n\n  return percent == null ? NaN : +percent;\n}\nexport function round(x, precision, returnStr) {\n  if (precision == null) {\n    precision = 10;\n  } // Avoid range error\n\n\n  precision = Math.min(Math.max(0, precision), ROUND_SUPPORTED_PRECISION_MAX); // PENDING: 1.005.toFixed(2) is '1.00' rather than '1.01'\n\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n/**\n * Inplacd asc sort arr.\n * The input arr will be modified.\n */\n\nexport function asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision.\n */\n\nexport function getPrecision(val) {\n  val = +val;\n\n  if (isNaN(val)) {\n    return 0;\n  } // It is much faster than methods converting number to string as follows\n  //      let tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n  // Notice:\n  // (1) If the loop count is over about 20, it is slower than `getPrecisionSafe`.\n  //     (see https://jsbench.me/2vkpcekkvw/1)\n  // (2) If the val is less than for example 1e-15, the result may be incorrect.\n  //     (see test/ut/spec/util/number.test.ts `getPrecision_equal_random`)\n\n\n  if (val > 1e-14) {\n    var e = 1;\n\n    for (var i = 0; i < 15; i++, e *= 10) {\n      if (Math.round(val * e) / e === val) {\n        return i;\n      }\n    }\n  }\n\n  return getPrecisionSafe(val);\n}\n/**\n * Get precision with slow but safe method\n */\n\nexport function getPrecisionSafe(val) {\n  // toLowerCase for: '3.4E-12'\n  var str = val.toString().toLowerCase(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n  var eIndex = str.indexOf('e');\n  var exp = eIndex > 0 ? +str.slice(eIndex + 1) : 0;\n  var significandPartLen = eIndex > 0 ? eIndex : str.length;\n  var dotIndex = str.indexOf('.');\n  var decimalPartLen = dotIndex < 0 ? 0 : significandPartLen - 1 - dotIndex;\n  return Math.max(0, decimalPartLen - exp);\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n */\n\nexport function getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainer method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param valueList a list of all data\n * @param idx index of the data to be processed in valueList\n * @param precision integer number showing digits of precision\n * @return percent ranging from 0 to 100\n */\n\nexport function getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  if (sum === 0) {\n    return 0;\n  }\n\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  }); // Has remainding votes.\n\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    } // Add a vote to max remainder.\n\n\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n\n  return seats[idx] / digits;\n}\n/**\n * Solve the floating point adding problem like 0.1 + 0.2 === 0.30000000000000004\n * See <http://0.30000000000000004.com/>\n */\n\nexport function addSafe(val0, val1) {\n  var maxPrecision = Math.max(getPrecision(val0), getPrecision(val1)); // const multiplier = Math.pow(10, maxPrecision);\n  // return (Math.round(val0 * multiplier) + Math.round(val1 * multiplier)) / multiplier;\n\n  var sum = val0 + val1; // // PENDING: support more?\n\n  return maxPrecision > ROUND_SUPPORTED_PRECISION_MAX ? sum : round(sum, maxPrecision);\n} // Number.MAX_SAFE_INTEGER, ie do not support.\n\nexport var MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n */\n\nexport function remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\n\nexport function isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n} // eslint-disable-next-line\n\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d{1,2})(?::(\\d{1,2})(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n/**\n * @param value valid type: number | string | Date, otherwise return `new Date(NaN)`\n *   These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as loacal time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return date Never be null/undefined. If invalid, return `new Date(NaN)`.\n */\n\nexport function parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (typeof value === 'string') {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    } // Use local time when no timezone offset specifed.\n\n\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n    } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n        var hour = +match[4] || 0;\n\n        if (match[8].toUpperCase() !== 'Z') {\n          hour -= +match[8].slice(0, 3);\n        }\n\n        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n      }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param val\n * @return\n */\n\nexport function quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n/**\n * Exponent of the quantity of a number\n * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n *\n * @param val non-negative value\n * @return\n */\n\nexport function quantityExponent(val) {\n  if (val === 0) {\n    return 0;\n  }\n\n  var exp = Math.floor(Math.log(val) / Math.LN10);\n  /**\n   * exp is expected to be the rounded-down result of the base-10 log of val.\n   * But due to the precision loss with Math.log(val), we need to restore it\n   * using 10^exp to make sure we can get val back from exp. #11249\n   */\n\n  if (val / Math.pow(10, exp) >= 10) {\n    exp++;\n  }\n\n  return exp;\n}\n/**\n * find a \u201Cnice\u201D number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the \u201Cnicest\u201D\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  val Non-negative value.\n * @param  round\n * @return Niced number\n */\n\nexport function nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n\n  var nf;\n\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n\n  val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * This code was copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n * See the license statement at the head of this file.\n * @param ascArr\n */\n\nexport function quantile(ascArr, p) {\n  var H = (ascArr.length - 1) * p + 1;\n  var h = Math.floor(H);\n  var v = +ascArr[h - 1];\n  var e = H - h;\n  return e ? v + e * (ascArr[h] - v) : v;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return The origin list, which has been reformed.\n */\n\nexport function reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close_1 = list[i].close;\n\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close_1[lg] = !lg ? 1 - currClose : 1;\n      }\n\n      curr = interval[lg];\n      currClose = close_1[lg];\n    }\n\n    if (interval[0] === interval[1] && close_1[0] * close_1[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n\n  return list;\n\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * [Numberic is defined as]:\n *     `parseFloat(val) == val`\n * For example:\n * numeric:\n *     typeof number except NaN, '-123', '123', '2e3', '-2e3', '011', 'Infinity', Infinity,\n *     and they rounded by white-spaces or line-terminal like ' -123 \\n ' (see es spec)\n * not-numeric:\n *     null, undefined, [], {}, true, false, 'NaN', NaN, '123ab',\n *     empty string, string with only white-spaces or line-terminal (see es spec),\n *     0x12, '0x12', '-0x12', 012, '012', '-012',\n *     non-string, ...\n *\n * @test See full test cases in `test/ut/spec/util/number.js`.\n * @return Must be a typeof number. If not numeric, return NaN.\n */\n\nexport function numericToNumber(val) {\n  var valFloat = parseFloat(val);\n  return valFloat == val // eslint-disable-line eqeqeq\n  && (valFloat !== 0 || typeof val !== 'string' || val.indexOf('x') <= 0) // For case ' 0x0 '.\n  ? valFloat : NaN;\n}\n/**\n * Definition of \"numeric\": see `numericToNumber`.\n */\n\nexport function isNumeric(val) {\n  return !isNaN(numericToNumber(val));\n}\n/**\n * Use random base to prevent users hard code depending on\n * this auto generated marker id.\n * @return An positive integer.\n */\n\nexport function getRandomIdBase() {\n  return Math.round(Math.random() * 9);\n}\n/**\n * Get the greatest common dividor\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\n\nexport function getGreatestCommonDividor(a, b) {\n  if (b === 0) {\n    return a;\n  }\n\n  return getGreatestCommonDividor(b, a % b);\n}\n/**\n * Get the least common multiple\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\n\nexport function getLeastCommonMultiple(a, b) {\n  if (a == null) {\n    return b;\n  }\n\n  if (b == null) {\n    return a;\n  }\n\n  return a * b / getGreatestCommonDividor(a, b);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map, isString, isFunction, eqNaN, isRegExp } from 'zrender/lib/core/util';\nvar ECHARTS_PREFIX = '[ECharts] ';\nvar storedLogs = {};\nvar hasConsole = typeof console !== 'undefined' // eslint-disable-next-line\n&& console.warn && console.log;\nexport function log(str) {\n  if (hasConsole) {\n    // eslint-disable-next-line\n    console.log(ECHARTS_PREFIX + str);\n  }\n}\nexport function warn(str) {\n  if (hasConsole) {\n    console.warn(ECHARTS_PREFIX + str);\n  }\n}\nexport function error(str) {\n  if (hasConsole) {\n    console.error(ECHARTS_PREFIX + str);\n  }\n}\nexport function deprecateLog(str) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (storedLogs[str]) {\n      // Not display duplicate message.\n      return;\n    }\n\n    if (hasConsole) {\n      storedLogs[str] = true;\n      console.warn(ECHARTS_PREFIX + 'DEPRECATED: ' + str);\n    }\n  }\n}\nexport function deprecateReplaceLog(oldOpt, newOpt, scope) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog((scope ? \"[\" + scope + \"]\" : '') + (oldOpt + \" is deprecated, use \" + newOpt + \" instead.\"));\n  }\n}\nexport function consoleLog() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    /* eslint-disable no-console */\n    if (typeof console !== 'undefined' && console.log) {\n      console.log.apply(console, args);\n    }\n    /* eslint-enable no-console */\n\n  }\n}\n/**\n * If in __DEV__ environment, get console printable message for users hint.\n * Parameters are separated by ' '.\n * @usuage\n * makePrintable('This is an error on', someVar, someObj);\n *\n * @param hintInfo anything about the current execution context to hint users.\n * @throws Error\n */\n\nexport function makePrintable() {\n  var hintInfo = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    hintInfo[_i] = arguments[_i];\n  }\n\n  var msg = '';\n\n  if (process.env.NODE_ENV !== 'production') {\n    // Fuzzy stringify for print.\n    // This code only exist in dev environment.\n    var makePrintableStringIfPossible_1 = function (val) {\n      return val === void 0 ? 'undefined' : val === Infinity ? 'Infinity' : val === -Infinity ? '-Infinity' : eqNaN(val) ? 'NaN' : val instanceof Date ? 'Date(' + val.toISOString() + ')' : isFunction(val) ? 'function () { ... }' : isRegExp(val) ? val + '' : null;\n    };\n\n    msg = map(hintInfo, function (arg) {\n      if (isString(arg)) {\n        // Print without quotation mark for some statement.\n        return arg;\n      } else {\n        var printableStr = makePrintableStringIfPossible_1(arg);\n\n        if (printableStr != null) {\n          return printableStr;\n        } else if (typeof JSON !== 'undefined' && JSON.stringify) {\n          try {\n            return JSON.stringify(arg, function (n, val) {\n              var printableStr = makePrintableStringIfPossible_1(val);\n              return printableStr == null ? val : printableStr;\n            }); // In most cases the info object is small, so do not line break.\n          } catch (err) {\n            return '?';\n          }\n        } else {\n          return '?';\n        }\n      }\n    }).join(' ');\n  }\n\n  return msg;\n}\n/**\n * @throws Error\n */\n\nexport function throwError(msg) {\n  throw new Error(msg);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe } from 'zrender/lib/core/util';\nimport env from 'zrender/lib/core/env';\nimport { isNumeric, getRandomIdBase, getPrecision, round } from './number';\nimport { interpolateNumber } from 'zrender/lib/animation/Animator';\nimport { warn } from './log';\n/**\n * Make the name displayable. But we should\n * make sure it is not duplicated with user\n * specified name, so use '\\0';\n */\n\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\n\nexport function normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *          show: false,\n *          position: 'outside',\n *          fontSize: 18\n *     },\n *     emphasis: {\n *          label: { show: true }\n *     }\n */\n\nexport function defaultEmphasis(opt, key, subOpts) {\n  // Caution: performance sensitive.\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * The method do not ensure performance.\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n */\n\nexport function getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n */\n\nexport function isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n;\n/**\n * Mapping to existings for merge.\n *\n * Mode \"normalMege\":\n *     The mapping result (merge result) will keep the order of the existing\n *     component, rather than the order of new option. Because we should ensure\n *     some specified index reference (like xAxisIndex) keep work.\n *     And in most cases, \"merge option\" is used to update partial option but not\n *     be expected to change the order.\n *\n * Mode \"replaceMege\":\n *     (1) Only the id mapped components will be merged.\n *     (2) Other existing components (except internal compoonets) will be removed.\n *     (3) Other new options will be used to create new component.\n *     (4) The index of the existing compoents will not be modified.\n *     That means their might be \"hole\" after the removal.\n *     The new components are created first at those available index.\n *\n * Mode \"replaceAll\":\n *     This mode try to support that reproduce an echarts instance from another\n *     echarts instance (via `getOption`) in some simple cases.\n *     In this senario, the `result` index are exactly the consistent with the `newCmptOptions`,\n *     which ensures the compoennt index referring (like `xAxisIndex: ?`) corrent. That is,\n *     the \"hole\" in `newCmptOptions` will also be kept.\n *     On the contrary, other modes try best to eliminate holes.\n *     PENDING: This is an experimental mode yet.\n *\n * @return See the comment of <MappingResult>.\n */\n\nexport function mappingToExists(existings, newCmptOptions, mode) {\n  var isNormalMergeMode = mode === 'normalMerge';\n  var isReplaceMergeMode = mode === 'replaceMerge';\n  var isReplaceAllMode = mode === 'replaceAll';\n  existings = existings || [];\n  newCmptOptions = (newCmptOptions || []).slice();\n  var existingIdIdxMap = createHashMap(); // Validate id and name on user input option.\n\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!isObject(cmptOption)) {\n      newCmptOptions[index] = null;\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // There is some legacy case that name is set as `false`.\n      // But should work normally rather than throw error.\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\n        warnInvalidateIdOrName(cmptOption.id);\n      }\n\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\n        warnInvalidateIdOrName(cmptOption.name);\n      }\n    }\n  });\n  var result = prepareResult(existings, existingIdIdxMap, mode);\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\n  }\n\n  if (isNormalMergeMode) {\n    mappingByName(result, newCmptOptions);\n  }\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\n  } else if (isReplaceAllMode) {\n    mappingInReplaceAllMode(result, newCmptOptions);\n  }\n\n  makeIdAndName(result); // The array `result` MUST NOT contain elided items, otherwise the\n  // forEach will ommit those items and result in incorrect result.\n\n  return result;\n}\n\nfunction prepareResult(existings, existingIdIdxMap, mode) {\n  var result = [];\n\n  if (mode === 'replaceAll') {\n    return result;\n  } // Do not use native `map` to in case that the array `existings`\n  // contains elided items, which will be ommited.\n\n\n  for (var index = 0; index < existings.length; index++) {\n    var existing = existings[index]; // Because of replaceMerge, `existing` may be null/undefined.\n\n    if (existing && existing.id != null) {\n      existingIdIdxMap.set(existing.id, index);\n    } // For non-internal-componnets:\n    //     Mode \"normalMerge\": all existings kept.\n    //     Mode \"replaceMerge\": all existing removed unless mapped by id.\n    // For internal-components:\n    //     go with \"replaceMerge\" approach in both mode.\n\n\n    result.push({\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\n      newOption: null,\n      keyInfo: null,\n      brandNew: null\n    });\n  }\n\n  return result;\n}\n\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\n  // Mapping by id if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.id == null) {\n      return;\n    }\n\n    var optionId = makeComparableKey(cmptOption.id);\n    var existingIdx = existingIdIdxMap.get(optionId);\n\n    if (existingIdx != null) {\n      var resultItem = result[existingIdx];\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\n      resultItem.newOption = cmptOption; // In both mode, if id matched, new option will be merged to\n      // the existings rather than creating new component model.\n\n      resultItem.existing = existings[existingIdx];\n      newCmptOptions[index] = null;\n    }\n  });\n}\n\nfunction mappingByName(result, newCmptOptions) {\n  // Mapping by name if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.name == null) {\n      return;\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var existing = result[i].existing;\n\n      if (!result[i].newOption // Consider name: two map to one.\n      // Can not match when both ids existing but different.\n      && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\n        result[i].newOption = cmptOption;\n        newCmptOptions[index] = null;\n        return;\n      }\n    }\n  });\n}\n\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\n  each(newCmptOptions, function (cmptOption) {\n    if (!cmptOption) {\n      return;\n    } // Find the first place that not mapped by id and not internal component (consider the \"hole\").\n\n\n    var resultItem;\n    var nextIdx = 0;\n\n    while ( // Be `!resultItem` only when `nextIdx >= result.length`.\n    (resultItem = result[nextIdx]) && ( // (1) Existing models that already have id should be able to mapped to. Because\n    // after mapping performed, model will always be assigned with an id if user not given.\n    // After that all models have id.\n    // (2) If new option has id, it can only set to a hole or append to the last. It should\n    // not be merged to the existings with different id. Because id should not be overwritten.\n    // (3) Name can be overwritten, because axis use name as 'show label text'.\n    resultItem.newOption || isComponentIdInternal(resultItem.existing) || // In mode \"replaceMerge\", here no not-mapped-non-internal-existing.\n    resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\n      nextIdx++;\n    }\n\n    if (resultItem) {\n      resultItem.newOption = cmptOption;\n      resultItem.brandNew = brandNew;\n    } else {\n      result.push({\n        newOption: cmptOption,\n        brandNew: brandNew,\n        existing: null,\n        keyInfo: null\n      });\n    }\n\n    nextIdx++;\n  });\n}\n\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption) {\n    // The feature \"reproduce\" requires \"hole\" will also reproduced\n    // in case that compoennt index referring are broken.\n    result.push({\n      newOption: cmptOption,\n      brandNew: true,\n      existing: null,\n      keyInfo: null\n    });\n  });\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n */\n\n\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = createHashMap();\n  each(mapResult, function (item) {\n    var existing = item.existing;\n    existing && idMap.set(existing.id, item);\n  });\n  each(mapResult, function (item) {\n    var opt = item.newOption; // Force ensure id not duplicated.\n\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  }); // Make name and id.\n\n  each(mapResult, function (item, index) {\n    var existing = item.existing;\n    var opt = item.newOption;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    } // name can be overwitten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n\n\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name // Avoid diffferent series has the same name,\n    // because name may be used like in color pallet.\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n    if (existing) {\n      keyInfo.id = makeComparableKey(existing.id);\n    } else if (opt.id != null) {\n      keyInfo.id = makeComparableKey(opt.id);\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n\nfunction keyExistAndEqual(attr, obj1, obj2) {\n  var key1 = convertOptionIdName(obj1[attr], null);\n  var key2 = convertOptionIdName(obj2[attr], null); // See `MappingExistingItem`. `id` and `name` trade string equals to number.\n\n  return key1 != null && key2 != null && key1 === key2;\n}\n/**\n * @return return null if not exist.\n */\n\n\nfunction makeComparableKey(val) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (val == null) {\n      throw new Error();\n    }\n  }\n\n  return convertOptionIdName(val, '');\n}\n\nexport function convertOptionIdName(idOrName, defaultValue) {\n  if (idOrName == null) {\n    return defaultValue;\n  }\n\n  var type = typeof idOrName;\n  return type === 'string' ? idOrName : type === 'number' || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\n}\n\nfunction warnInvalidateIdOrName(idOrName) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\n  }\n}\n\nfunction isValidIdOrName(idOrName) {\n  return isStringSafe(idOrName) || isNumeric(idOrName);\n}\n\nexport function isNameSpecified(componentModel) {\n  var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\n/**\n * @public\n * @param {Object} cmptOption\n * @return {boolean}\n */\n\nexport function isComponentIdInternal(cmptOption) {\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\n}\nexport function makeInternalComponentId(idSuffix) {\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\n}\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\n  // Set mainType and complete subType.\n  each(mappingResult, function (item) {\n    var newOption = item.newOption;\n\n    if (isObject(newOption)) {\n      item.keyInfo.mainType = mainType;\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\n    }\n  });\n}\n\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n  : componentModelCtor.determineSubType(mainType, newCmptOption); // tooltip, markline, markpoint may always has no subType\n\n  return subType;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return result: [resultBatchA, resultBatchB]\n */\n\n\nexport function compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\n\n      if (seriesId == null) {\n        return;\n      }\n\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @param payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return dataIndex If not found, return undefined/null.\n */\n\nexport function queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return isArray(payload.name) ? map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * let inner = zrUitl.makeInner();\n *\n * function some1(hostObj) {\n *      inner(hostObj).someProperty = 1212;\n *      ...\n * }\n * function some2() {\n *      let fields = inner(this);\n *      fields.someProperty1 = 1212;\n *      fields.someProperty2 = 'xx';\n *      ...\n * }\n *\n * @return {Function}\n */\n\nexport function makeInner() {\n  var key = '__ec_inner_' + innerUniqueIndex++;\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\nvar innerUniqueIndex = getRandomIdBase();\n/**\n * The same behavior as `component.getReferringComponents`.\n */\n\nexport function parseFinder(ecModel, finderInput, opt) {\n  var _a = preParseFinder(finderInput, opt),\n      mainTypeSpecified = _a.mainTypeSpecified,\n      queryOptionMap = _a.queryOptionMap,\n      others = _a.others;\n\n  var result = others;\n  var defaultMainType = opt ? opt.defaultMainType : null;\n\n  if (!mainTypeSpecified && defaultMainType) {\n    queryOptionMap.set(defaultMainType, {});\n  }\n\n  queryOptionMap.each(function (queryOption, mainType) {\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\n      useDefault: defaultMainType === mainType,\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\n    });\n    result[mainType + 'Models'] = queryResult.models;\n    result[mainType + 'Model'] = queryResult.models[0];\n  });\n  return result;\n}\nexport function preParseFinder(finderInput, opt) {\n  var finder;\n\n  if (isString(finderInput)) {\n    var obj = {};\n    obj[finderInput + 'Index'] = 0;\n    finder = obj;\n  } else {\n    finder = finderInput;\n  }\n\n  var queryOptionMap = createHashMap();\n  var others = {};\n  var mainTypeSpecified = false;\n  each(finder, function (value, key) {\n    // Exclude 'dataIndex' and other illgal keys.\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      others[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\n    queryOption[queryType] = value;\n  });\n  return {\n    mainTypeSpecified: mainTypeSpecified,\n    queryOptionMap: queryOptionMap,\n    others: others\n  };\n}\nexport var SINGLE_REFERRING = {\n  useDefault: true,\n  enableAll: false,\n  enableNone: false\n};\nexport var MULTIPLE_REFERRING = {\n  useDefault: false,\n  enableAll: true,\n  enableNone: true\n};\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\n  opt = opt || SINGLE_REFERRING;\n  var indexOption = userOption.index;\n  var idOption = userOption.id;\n  var nameOption = userOption.name;\n  var result = {\n    models: null,\n    specified: indexOption != null || idOption != null || nameOption != null\n  };\n\n  if (!result.specified) {\n    // Use the first as default if `useDefault`.\n    var firstCmpt = void 0;\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\n    return result;\n  }\n\n  if (indexOption === 'none' || indexOption === false) {\n    assert(opt.enableNone, '`\"none\"` or `false` is not a valid value on index option.');\n    result.models = [];\n    return result;\n  } // `queryComponents` will return all components if\n  // both all of index/id/name are null/undefined.\n\n\n  if (indexOption === 'all') {\n    assert(opt.enableAll, '`\"all\"` is not a valid value on index option.');\n    indexOption = idOption = nameOption = null;\n  }\n\n  result.models = ecModel.queryComponents({\n    mainType: mainType,\n    index: indexOption,\n    id: idOption,\n    name: nameOption\n  });\n  return result;\n}\nexport function setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\nexport function getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\nexport function getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    // Using html when `document` exists, use richText otherwise\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\n/**\n * Group a list by key.\n */\n\nexport function groupData(array, getKey // return key\n) {\n  var buckets = createHashMap();\n  var keys = [];\n  each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\n/**\n * Interpolate raw values of a series with percent\n *\n * @param data         data\n * @param labelModel   label model of the text element\n * @param sourceValue  start value. May be null/undefined when init.\n * @param targetValue  end value\n * @param percent      0~1 percentage; 0 uses start value while 1 uses end value\n * @return             interpolated values\n *                     If `sourceValue` and `targetValue` are `number`, return `number`.\n *                     If `sourceValue` and `targetValue` are `string`, return `string`.\n *                     If `sourceValue` and `targetValue` are `(string | number)[]`, return `(string | number)[]`.\n *                     Other cases do not supported.\n */\n\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\n  var isAutoPrecision = precision == null || precision === 'auto';\n\n  if (targetValue == null) {\n    return targetValue;\n  }\n\n  if (typeof targetValue === 'number') {\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\n    return round(value, isAutoPrecision ? Math.max(getPrecision(sourceValue || 0), getPrecision(targetValue)) : precision);\n  } else if (typeof targetValue === 'string') {\n    return percent < 1 ? sourceValue : targetValue;\n  } else {\n    var interpolated = [];\n    var leftArr = sourceValue;\n    var rightArr = targetValue;\n    var length_1 = Math.max(leftArr ? leftArr.length : 0, rightArr.length);\n\n    for (var i = 0; i < length_1; ++i) {\n      var info = data.getDimensionInfo(i); // Don't interpolate ordinal dims\n\n      if (info.type === 'ordinal') {\n        // In init, there is no `sourceValue`, but should better not to get undefined result.\n        interpolated[i] = (percent < 1 && leftArr ? leftArr : rightArr)[i];\n      } else {\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\n        var rightVal = rightArr[i];\n        var value = interpolateNumber(leftVal, rightVal, percent);\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecision(leftVal), getPrecision(rightVal)) : precision);\n      }\n    }\n\n    return interpolated;\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from './model';\nexport var getECData = makeInner();", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LRU from 'zrender/lib/core/LRU';\nimport { extend, indexOf, isArrayLike, isObject, keys, isArray, each } from 'zrender/lib/core/util';\nimport { getECData } from './innerStore';\nimport * as colorTool from 'zrender/lib/tool/color';\nimport { queryDataIndex, makeInner } from './model';\nimport Path from 'zrender/lib/graphic/Path';\nimport { error } from './log'; // Reserve 0 as default.\n\nvar _highlightNextDigit = 1;\nvar _highlightKeyMap = {};\nvar getSavedStates = makeInner();\nexport var HOVER_STATE_NORMAL = 0;\nexport var HOVER_STATE_BLUR = 1;\nexport var HOVER_STATE_EMPHASIS = 2;\nexport var SPECIAL_STATES = ['emphasis', 'blur', 'select'];\nexport var DISPLAY_STATES = ['normal', 'emphasis', 'blur', 'select'];\nexport var Z2_EMPHASIS_LIFT = 10;\nexport var Z2_SELECT_LIFT = 9;\nexport var HIGHLIGHT_ACTION_TYPE = 'highlight';\nexport var DOWNPLAY_ACTION_TYPE = 'downplay';\nexport var SELECT_ACTION_TYPE = 'select';\nexport var UNSELECT_ACTION_TYPE = 'unselect';\nexport var TOGGLE_SELECT_ACTION_TYPE = 'toggleSelect';\n\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke !== 'none';\n} // Most lifted color are duplicated.\n\n\nvar liftedColorCache = new LRU(100);\n\nfunction liftColor(color) {\n  if (typeof color !== 'string') {\n    return color;\n  }\n\n  var liftedColor = liftedColorCache.get(color);\n\n  if (!liftedColor) {\n    liftedColor = colorTool.lift(color, -0.1);\n    liftedColorCache.put(color, liftedColor);\n  }\n\n  return liftedColor;\n}\n\nfunction doChangeHoverState(el, stateName, hoverStateEnum) {\n  if (el.onHoverStateChange && (el.hoverState || 0) !== hoverStateEnum) {\n    el.onHoverStateChange(stateName);\n  }\n\n  el.hoverState = hoverStateEnum;\n}\n\nfunction singleEnterEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  doChangeHoverState(el, 'emphasis', HOVER_STATE_EMPHASIS);\n}\n\nfunction singleLeaveEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  if (el.hoverState === HOVER_STATE_EMPHASIS) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\n\nfunction singleEnterBlur(el) {\n  doChangeHoverState(el, 'blur', HOVER_STATE_BLUR);\n}\n\nfunction singleLeaveBlur(el) {\n  if (el.hoverState === HOVER_STATE_BLUR) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\n\nfunction singleEnterSelect(el) {\n  el.selected = true;\n}\n\nfunction singleLeaveSelect(el) {\n  el.selected = false;\n}\n\nfunction updateElementState(el, updater, commonParam) {\n  updater(el, commonParam);\n}\n\nfunction traverseUpdateState(el, updater, commonParam) {\n  updateElementState(el, updater, commonParam);\n  el.isGroup && el.traverse(function (child) {\n    updateElementState(child, updater, commonParam);\n  });\n}\n\nexport function setStatesFlag(el, stateName) {\n  switch (stateName) {\n    case 'emphasis':\n      el.hoverState = HOVER_STATE_EMPHASIS;\n      break;\n\n    case 'normal':\n      el.hoverState = HOVER_STATE_NORMAL;\n      break;\n\n    case 'blur':\n      el.hoverState = HOVER_STATE_BLUR;\n      break;\n\n    case 'select':\n      el.selected = true;\n  }\n}\n/**\n * If we reuse elements when rerender.\n * DONT forget to clearStates before we update the style and shape.\n * Or we may update on the wrong state instead of normal state.\n */\n\nexport function clearStates(el) {\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.clearStates();\n    });\n  } else {\n    el.clearStates();\n  }\n}\n\nfunction getFromStateStyle(el, props, toStateName, defaultValue) {\n  var style = el.style;\n  var fromState = {};\n\n  for (var i = 0; i < props.length; i++) {\n    var propName = props[i];\n    var val = style[propName];\n    fromState[propName] = val == null ? defaultValue && defaultValue[propName] : val;\n  }\n\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n\n    if (animator.__fromStateTransition // Dont consider the animation to emphasis state.\n    && animator.__fromStateTransition.indexOf(toStateName) < 0 && animator.targetName === 'style') {\n      animator.saveFinalToTarget(fromState, props);\n    }\n  }\n\n  return fromState;\n}\n\nfunction createEmphasisDefaultState(el, stateName, targetStates, state) {\n  var hasSelect = targetStates && indexOf(targetStates, 'select') >= 0;\n  var cloned = false;\n\n  if (el instanceof Path) {\n    var store = getSavedStates(el);\n    var fromFill = hasSelect ? store.selectFill || store.normalFill : store.normalFill;\n    var fromStroke = hasSelect ? store.selectStroke || store.normalStroke : store.normalStroke;\n\n    if (hasFillOrStroke(fromFill) || hasFillOrStroke(fromStroke)) {\n      state = state || {}; // Apply default color lift\n\n      var emphasisStyle = state.style || {};\n\n      if (!hasFillOrStroke(emphasisStyle.fill) && hasFillOrStroke(fromFill)) {\n        cloned = true; // Not modify the original value.\n\n        state = extend({}, state);\n        emphasisStyle = extend({}, emphasisStyle); // Already being applied 'emphasis'. DON'T lift color multiple times.\n\n        emphasisStyle.fill = liftColor(fromFill);\n      } // Not highlight stroke if fill has been highlighted.\n      else if (!hasFillOrStroke(emphasisStyle.stroke) && hasFillOrStroke(fromStroke)) {\n          if (!cloned) {\n            state = extend({}, state);\n            emphasisStyle = extend({}, emphasisStyle);\n          }\n\n          emphasisStyle.stroke = liftColor(fromStroke);\n        }\n\n      state.style = emphasisStyle;\n    }\n  }\n\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      if (!cloned) {\n        state = extend({}, state);\n      }\n\n      var z2EmphasisLift = el.z2EmphasisLift;\n      state.z2 = el.z2 + (z2EmphasisLift != null ? z2EmphasisLift : Z2_EMPHASIS_LIFT);\n    }\n  }\n\n  return state;\n}\n\nfunction createSelectDefaultState(el, stateName, state) {\n  // const hasSelect = indexOf(el.currentStates, stateName) >= 0;\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      state = extend({}, state);\n      var z2SelectLift = el.z2SelectLift;\n      state.z2 = el.z2 + (z2SelectLift != null ? z2SelectLift : Z2_SELECT_LIFT);\n    }\n  }\n\n  return state;\n}\n\nfunction createBlurDefaultState(el, stateName, state) {\n  var hasBlur = indexOf(el.currentStates, stateName) >= 0;\n  var currentOpacity = el.style.opacity;\n  var fromState = !hasBlur ? getFromStateStyle(el, ['opacity'], stateName, {\n    opacity: 1\n  }) : null;\n  state = state || {};\n  var blurStyle = state.style || {};\n\n  if (blurStyle.opacity == null) {\n    // clone state\n    state = extend({}, state);\n    blurStyle = extend({\n      // Already being applied 'emphasis'. DON'T mul opacity multiple times.\n      opacity: hasBlur ? currentOpacity : fromState.opacity * 0.1\n    }, blurStyle);\n    state.style = blurStyle;\n  }\n\n  return state;\n}\n\nfunction elementStateProxy(stateName, targetStates) {\n  var state = this.states[stateName];\n\n  if (this.style) {\n    if (stateName === 'emphasis') {\n      return createEmphasisDefaultState(this, stateName, targetStates, state);\n    } else if (stateName === 'blur') {\n      return createBlurDefaultState(this, stateName, state);\n    } else if (stateName === 'select') {\n      return createSelectDefaultState(this, stateName, state);\n    }\n  }\n\n  return state;\n}\n/**FI\n * Set hover style (namely \"emphasis style\") of element.\n * @param el Should not be `zrender/graphic/Group`.\n * @param focus 'self' | 'selfInSeries' | 'series'\n */\n\n\nexport function setDefaultStateProxy(el) {\n  el.stateProxy = elementStateProxy;\n  var textContent = el.getTextContent();\n  var textGuide = el.getTextGuideLine();\n\n  if (textContent) {\n    textContent.stateProxy = elementStateProxy;\n  }\n\n  if (textGuide) {\n    textGuide.stateProxy = elementStateProxy;\n  }\n}\nexport function enterEmphasisWhenMouseOver(el, e) {\n  !shouldSilent(el, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasisWhenMouseOut(el, e) {\n  !shouldSilent(el, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterEmphasis(el, highlightDigit) {\n  el.__highByOuter |= 1 << (highlightDigit || 0);\n  traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasis(el, highlightDigit) {\n  !(el.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterBlur(el) {\n  traverseUpdateState(el, singleEnterBlur);\n}\nexport function leaveBlur(el) {\n  traverseUpdateState(el, singleLeaveBlur);\n}\nexport function enterSelect(el) {\n  traverseUpdateState(el, singleEnterSelect);\n}\nexport function leaveSelect(el) {\n  traverseUpdateState(el, singleLeaveSelect);\n}\n\nfunction shouldSilent(el, e) {\n  return el.__highDownSilentOnTouch && e.zrByTouch;\n}\n\nexport function allLeaveBlur(api) {\n  var model = api.getModel();\n  model.eachComponent(function (componentType, componentModel) {\n    var view = componentType === 'series' ? api.getViewOfSeriesModel(componentModel) : api.getViewOfComponentModel(componentModel); // Leave blur anyway\n\n    view.group.traverse(function (child) {\n      singleLeaveBlur(child);\n    });\n  });\n}\nexport function blurSeries(targetSeriesIndex, focus, blurScope, api) {\n  var ecModel = api.getModel();\n  blurScope = blurScope || 'coordinateSystem';\n\n  function leaveBlurOfIndices(data, dataIndices) {\n    for (var i = 0; i < dataIndices.length; i++) {\n      var itemEl = data.getItemGraphicEl(dataIndices[i]);\n      itemEl && leaveBlur(itemEl);\n    }\n  }\n\n  if (targetSeriesIndex == null) {\n    return;\n  }\n\n  if (!focus || focus === 'none') {\n    return;\n  }\n\n  var targetSeriesModel = ecModel.getSeriesByIndex(targetSeriesIndex);\n  var targetCoordSys = targetSeriesModel.coordinateSystem;\n\n  if (targetCoordSys && targetCoordSys.master) {\n    targetCoordSys = targetCoordSys.master;\n  }\n\n  var blurredSeries = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var sameSeries = targetSeriesModel === seriesModel;\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.master) {\n      coordSys = coordSys.master;\n    }\n\n    var sameCoordSys = coordSys && targetCoordSys ? coordSys === targetCoordSys : sameSeries; // If there is no coordinate system. use sameSeries instead.\n\n    if (!( // Not blur other series if blurScope series\n    blurScope === 'series' && !sameSeries // Not blur other coordinate system if blurScope is coordinateSystem\n    || blurScope === 'coordinateSystem' && !sameCoordSys // Not blur self series if focus is series.\n    || focus === 'series' && sameSeries // TODO blurScope: coordinate system\n    )) {\n      var view = api.getViewOfSeriesModel(seriesModel);\n      view.group.traverse(function (child) {\n        singleEnterBlur(child);\n      });\n\n      if (isArrayLike(focus)) {\n        leaveBlurOfIndices(seriesModel.getData(), focus);\n      } else if (isObject(focus)) {\n        var dataTypes = keys(focus);\n\n        for (var d = 0; d < dataTypes.length; d++) {\n          leaveBlurOfIndices(seriesModel.getData(dataTypes[d]), focus[dataTypes[d]]);\n        }\n      }\n\n      blurredSeries.push(seriesModel);\n    }\n  });\n  ecModel.eachComponent(function (componentType, componentModel) {\n    if (componentType === 'series') {\n      return;\n    }\n\n    var view = api.getViewOfComponentModel(componentModel);\n\n    if (view && view.blurSeries) {\n      view.blurSeries(blurredSeries, ecModel);\n    }\n  });\n}\nexport function blurComponent(componentMainType, componentIndex, api) {\n  if (componentMainType == null || componentIndex == null) {\n    return;\n  }\n\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n\n  if (!componentModel) {\n    return;\n  }\n\n  var view = api.getViewOfComponentModel(componentModel);\n\n  if (!view || !view.focusBlurEnabled) {\n    return;\n  }\n\n  view.group.traverse(function (child) {\n    singleEnterBlur(child);\n  });\n}\nexport function blurSeriesFromHighlightPayload(seriesModel, payload, api) {\n  var seriesIndex = seriesModel.seriesIndex;\n  var data = seriesModel.getData(payload.dataType);\n  var dataIndex = queryDataIndex(data, payload); // Pick the first one if there is multiple/none exists.\n\n  dataIndex = (isArray(dataIndex) ? dataIndex[0] : dataIndex) || 0;\n  var el = data.getItemGraphicEl(dataIndex);\n\n  if (!el) {\n    var count = data.count();\n    var current = 0; // If data on dataIndex is NaN.\n\n    while (!el && current < count) {\n      el = data.getItemGraphicEl(current++);\n    }\n  }\n\n  if (el) {\n    var ecData = getECData(el);\n    blurSeries(seriesIndex, ecData.focus, ecData.blurScope, api);\n  } else {\n    // If there is no element put on the data. Try getting it from raw option\n    // TODO Should put it on seriesModel?\n    var focus_1 = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n\n    if (focus_1 != null) {\n      blurSeries(seriesIndex, focus_1, blurScope, api);\n    }\n  }\n}\nexport function findComponentHighDownDispatchers(componentMainType, componentIndex, name, api) {\n  var ret = {\n    focusSelf: false,\n    dispatchers: null\n  };\n\n  if (componentMainType == null || componentMainType === 'series' || componentIndex == null || name == null) {\n    return ret;\n  }\n\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n\n  if (!componentModel) {\n    return ret;\n  }\n\n  var view = api.getViewOfComponentModel(componentModel);\n\n  if (!view || !view.findHighDownDispatchers) {\n    return ret;\n  }\n\n  var dispatchers = view.findHighDownDispatchers(name); // At presnet, the component (like Geo) only blur inside itself.\n  // So we do not use `blurScope` in component.\n\n  var focusSelf;\n\n  for (var i = 0; i < dispatchers.length; i++) {\n    if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatchers[i])) {\n      error('param should be highDownDispatcher');\n    }\n\n    if (getECData(dispatchers[i]).focus === 'self') {\n      focusSelf = true;\n      break;\n    }\n  }\n\n  return {\n    focusSelf: focusSelf,\n    dispatchers: dispatchers\n  };\n}\nexport function handleGlobalMouseOverForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n\n  var ecData = getECData(dispatcher);\n\n  var _a = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api),\n      dispatchers = _a.dispatchers,\n      focusSelf = _a.focusSelf; // If `findHighDownDispatchers` is supported on the component,\n  // highlight/downplay elements with the same name.\n\n\n  if (dispatchers) {\n    if (focusSelf) {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    }\n\n    each(dispatchers, function (dispatcher) {\n      return enterEmphasisWhenMouseOver(dispatcher, e);\n    });\n  } else {\n    // Try blur all in the related series. Then emphasis the hoverred.\n    // TODO. progressive mode.\n    blurSeries(ecData.seriesIndex, ecData.focus, ecData.blurScope, api);\n\n    if (ecData.focus === 'self') {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    } // Other than series, component that not support `findHighDownDispatcher` will\n    // also use it. But in this case, highlight/downplay are only supported in\n    // mouse hover but not in dispatchAction.\n\n\n    enterEmphasisWhenMouseOver(dispatcher, e);\n  }\n}\nexport function handleGlboalMouseOutForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n\n  allLeaveBlur(api);\n  var ecData = getECData(dispatcher);\n  var dispatchers = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api).dispatchers;\n\n  if (dispatchers) {\n    each(dispatchers, function (dispatcher) {\n      return leaveEmphasisWhenMouseOut(dispatcher, e);\n    });\n  } else {\n    leaveEmphasisWhenMouseOut(dispatcher, e);\n  }\n}\nexport function toggleSelectionFromPayload(seriesModel, payload, api) {\n  if (!isSelectChangePayload(payload)) {\n    return;\n  }\n\n  var dataType = payload.dataType;\n  var data = seriesModel.getData(dataType);\n  var dataIndex = queryDataIndex(data, payload);\n\n  if (!isArray(dataIndex)) {\n    dataIndex = [dataIndex];\n  }\n\n  seriesModel[payload.type === TOGGLE_SELECT_ACTION_TYPE ? 'toggleSelect' : payload.type === SELECT_ACTION_TYPE ? 'select' : 'unselect'](dataIndex, dataType);\n}\nexport function updateSeriesElementSelection(seriesModel) {\n  var allData = seriesModel.getAllData();\n  each(allData, function (_a) {\n    var data = _a.data,\n        type = _a.type;\n    data.eachItemGraphicEl(function (el, idx) {\n      seriesModel.isSelected(idx, type) ? enterSelect(el) : leaveSelect(el);\n    });\n  });\n}\nexport function getAllSelectedIndices(ecModel) {\n  var ret = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var allData = seriesModel.getAllData();\n    each(allData, function (_a) {\n      var data = _a.data,\n          type = _a.type;\n      var dataIndices = seriesModel.getSelectedDataIndices();\n\n      if (dataIndices.length > 0) {\n        var item = {\n          dataIndex: dataIndices,\n          seriesIndex: seriesModel.seriesIndex\n        };\n\n        if (type != null) {\n          item.dataType = type;\n        }\n\n        ret.push(item);\n      }\n    });\n  });\n  return ret;\n}\n/**\n * Enable the function that mouseover will trigger the emphasis state.\n *\n * NOTE:\n * This function should be used on the element with dataIndex, seriesIndex.\n *\n */\n\nexport function enableHoverEmphasis(el, focus, blurScope) {\n  setAsHighDownDispatcher(el, true);\n  traverseUpdateState(el, setDefaultStateProxy);\n  enableHoverFocus(el, focus, blurScope);\n}\nexport function enableHoverFocus(el, focus, blurScope) {\n  var ecData = getECData(el);\n\n  if (focus != null) {\n    // TODO dataIndex may be set after this function. This check is not useful.\n    // if (ecData.dataIndex == null) {\n    //     if (__DEV__) {\n    //         console.warn('focus can only been set on element with dataIndex');\n    //     }\n    // }\n    // else {\n    ecData.focus = focus;\n    ecData.blurScope = blurScope; // }\n  } else if (ecData.focus) {\n    ecData.focus = null;\n  }\n}\nvar OTHER_STATES = ['emphasis', 'blur', 'select'];\nvar defaultStyleGetterMap = {\n  itemStyle: 'getItemStyle',\n  lineStyle: 'getLineStyle',\n  areaStyle: 'getAreaStyle'\n};\n/**\n * Set emphasis/blur/selected states of element.\n */\n\nexport function setStatesStylesFromModel(el, itemModel, styleType, // default itemStyle\ngetter) {\n  styleType = styleType || 'itemStyle';\n\n  for (var i = 0; i < OTHER_STATES.length; i++) {\n    var stateName = OTHER_STATES[i];\n    var model = itemModel.getModel([stateName, styleType]);\n    var state = el.ensureState(stateName); // Let it throw error if getterType is not found.\n\n    state.style = getter ? getter(model) : model[defaultStyleGetterMap[styleType]]();\n  }\n}\n/**\n * @parame el\n * @param el.highDownSilentOnTouch\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conveniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, `highDownSilentOnTouch` should be used to disable\n *        hover-highlight on touch device.\n * @param asDispatcher If `false`, do not set as \"highDownDispatcher\".\n */\n\nexport function setAsHighDownDispatcher(el, asDispatcher) {\n  var disable = asDispatcher === false;\n  var extendedEl = el; // Make `highDownSilentOnTouch` and `onStateChange` only work after\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n  if (el.highDownSilentOnTouch) {\n    extendedEl.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n  } // Simple optimize, since this method might be\n  // called for each elements of a group in some cases.\n\n\n  if (!disable || extendedEl.__highDownDispatcher) {\n    // Emphasis, normal can be triggered manually by API or other components like hover link.\n    // el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent);\n    // Also keep previous record.\n    extendedEl.__highByOuter = extendedEl.__highByOuter || 0;\n    extendedEl.__highDownDispatcher = !disable;\n  }\n}\nexport function isHighDownDispatcher(el) {\n  return !!(el && el.__highDownDispatcher);\n}\n/**\n * Enable component highlight/downplay features:\n * + hover link (within the same name)\n * + focus blur in component\n */\n\nexport function enableComponentHighDownFeatures(el, componentModel, componentHighDownName) {\n  var ecData = getECData(el);\n  ecData.componentMainType = componentModel.mainType;\n  ecData.componentIndex = componentModel.componentIndex;\n  ecData.componentHighDownName = componentHighDownName;\n}\n/**\n * Support hightlight/downplay record on each elements.\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\n * user triggerred hightlight/downplay should not conflict.\n * Only all of the highlightDigit cleared, return to normal.\n * @param {string} highlightKey\n * @return {number} highlightDigit\n */\n\nexport function getHighlightDigit(highlightKey) {\n  var highlightDigit = _highlightKeyMap[highlightKey];\n\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n  }\n\n  return highlightDigit;\n}\nexport function isSelectChangePayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === SELECT_ACTION_TYPE || payloadType === UNSELECT_ACTION_TYPE || payloadType === TOGGLE_SELECT_ACTION_TYPE;\n}\nexport function isHighDownPayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === HIGHLIGHT_ACTION_TYPE || payloadType === DOWNPLAY_ACTION_TYPE;\n}\nexport function savePathStates(el) {\n  var store = getSavedStates(el);\n  store.normalFill = el.style.fill;\n  store.normalStroke = el.style.stroke;\n  var selectState = el.states.select || {};\n  store.selectFill = selectState.style && selectState.style.fill || null;\n  store.selectStroke = selectState.style && selectState.style.stroke || null;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as pathTool from 'zrender/lib/tool/path';\nimport * as matrix from 'zrender/lib/core/matrix';\nimport * as vector from 'zrender/lib/core/vector';\nimport Path from 'zrender/lib/graphic/Path';\nimport Transformable from 'zrender/lib/core/Transformable';\nimport ZRImage from 'zrender/lib/graphic/Image';\nimport Group from 'zrender/lib/graphic/Group';\nimport ZRText from 'zrender/lib/graphic/Text';\nimport Circle from 'zrender/lib/graphic/shape/Circle';\nimport Ellipse from 'zrender/lib/graphic/shape/Ellipse';\nimport Sector from 'zrender/lib/graphic/shape/Sector';\nimport Ring from 'zrender/lib/graphic/shape/Ring';\nimport Polygon from 'zrender/lib/graphic/shape/Polygon';\nimport Polyline from 'zrender/lib/graphic/shape/Polyline';\nimport Rect from 'zrender/lib/graphic/shape/Rect';\nimport Line from 'zrender/lib/graphic/shape/Line';\nimport BezierCurve from 'zrender/lib/graphic/shape/BezierCurve';\nimport Arc from 'zrender/lib/graphic/shape/Arc';\nimport CompoundPath from 'zrender/lib/graphic/CompoundPath';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient';\nimport RadialGradient from 'zrender/lib/graphic/RadialGradient';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport OrientedBoundingRect from 'zrender/lib/core/OrientedBoundingRect';\nimport Point from 'zrender/lib/core/Point';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable';\nimport * as subPixelOptimizeUtil from 'zrender/lib/graphic/helper/subPixelOptimize';\nimport { extend, isArrayLike, map, defaults, isObject, retrieve2, isString, keys, each, hasOwn } from 'zrender/lib/core/util';\nimport { getECData } from './innerStore';\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar _customShapeMap = {};\n/**\n * Extend shape with parameters\n */\n\nexport function extendShape(opts) {\n  return Path.extend(opts);\n}\nvar extendPathFromString = pathTool.extendFromString;\n/**\n * Extend path\n */\n\nexport function extendPath(pathData, opts) {\n  return extendPathFromString(pathData, opts);\n}\n/**\n * Register a user defined shape.\n * The shape class can be fetched by `getShapeClass`\n * This method will overwrite the registered shapes, including\n * the registered built-in shapes, if using the same `name`.\n * The shape can be used in `custom series` and\n * `graphic component` by declaring `{type: name}`.\n *\n * @param name\n * @param ShapeClass Can be generated by `extendShape`.\n */\n\nexport function registerShape(name, ShapeClass) {\n  _customShapeMap[name] = ShapeClass;\n}\n/**\n * Find shape class registered by `registerShape`. Usually used in\n * fetching user defined shape.\n *\n * [Caution]:\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n * to use user registered shapes.\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\n * `registerShape` by default. That enables users to get both built-in\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\n * the built-in shapes by using names like 'circle', 'rect' via calling\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n * in case that it is overwritten by users, except that some features, like\n * `custom series`, `graphic component`, do it deliberately.\n *\n * (2) In the features like `custom series`, `graphic component`, the user input\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n * are reserved names, that is, if some user register a shape named `'image'`,\n * the shape will not be used. If we intending to add some more reserved names\n * in feature, that might bring break changes (disable some existing user shape\n * names). But that case probably rearly happen. So we dont make more mechanism\n * to resolve this issue here.\n *\n * @param name\n * @return The shape class. If not found, return nothing.\n */\n\nexport function getShapeClass(name) {\n  if (_customShapeMap.hasOwnProperty(name)) {\n    return _customShapeMap[name];\n  }\n}\n/**\n * Create a path element from path data string\n * @param pathData\n * @param opts\n * @param rect\n * @param layout 'center' or 'cover' default to be cover\n */\n\nexport function makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, path.getBoundingRect());\n    }\n\n    resizePath(path, rect);\n  }\n\n  return path;\n}\n/**\n * Create a image element from image url\n * @param imageUrl image url\n * @param opts options\n * @param rect constrain rect\n * @param layout 'center' or 'cover'. Default to be 'cover'\n */\n\nexport function makeImage(imageUrl, rect, layout) {\n  var zrImg = new ZRImage({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        zrImg.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return zrImg;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  rect         element local bounding box\n * @param  boundingRect constraint bounding box\n * @return element position containing x, y, width, and height\n */\n\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\n\nexport var mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param path\n * @param rect\n */\n\nexport function resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n */\n\nexport function subPixelOptimizeLine(param) {\n  subPixelOptimizeUtil.subPixelOptimizeLine(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize rect for canvas\n */\n\nexport function subPixelOptimizeRect(param) {\n  subPixelOptimizeUtil.subPixelOptimizeRect(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param position Coordinate, such as x, y\n * @param lineWidth Should be nonnegative integer.\n * @param positiveOrNegative Default false (negative).\n * @return Optimized position.\n */\n\nexport var subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\n\nfunction animateOrSetProps(animationType, el, props, animatableModel, dataIndex, cb, during) {\n  var isFrom = false;\n  var removeOpt;\n\n  if (typeof dataIndex === 'function') {\n    during = cb;\n    cb = dataIndex;\n    dataIndex = null;\n  } else if (isObject(dataIndex)) {\n    cb = dataIndex.cb;\n    during = dataIndex.during;\n    isFrom = dataIndex.isFrom;\n    removeOpt = dataIndex.removeOpt;\n    dataIndex = dataIndex.dataIndex;\n  }\n\n  var isUpdate = animationType === 'update';\n  var isRemove = animationType === 'remove';\n  var animationPayload; // Check if there is global animation configuration from dataZoom/resize can override the config in option.\n  // If animation is enabled. Will use this animation config in payload.\n  // If animation is disabled. Just ignore it.\n\n  if (animatableModel && animatableModel.ecModel) {\n    var updatePayload = animatableModel.ecModel.getUpdatePayload();\n    animationPayload = updatePayload && updatePayload.animation;\n  }\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n  if (!isRemove) {\n    // Must stop the remove animation.\n    el.stopAnimation('remove');\n  }\n\n  if (animationEnabled) {\n    var duration = void 0;\n    var animationEasing = void 0;\n    var animationDelay = void 0;\n\n    if (animationPayload) {\n      duration = animationPayload.duration || 0;\n      animationEasing = animationPayload.easing || 'cubicOut';\n      animationDelay = animationPayload.delay || 0;\n    } else if (isRemove) {\n      removeOpt = removeOpt || {};\n      duration = retrieve2(removeOpt.duration, 200);\n      animationEasing = retrieve2(removeOpt.easing, 'cubicOut');\n      animationDelay = 0;\n    } else {\n      duration = animatableModel.getShallow(isUpdate ? 'animationDurationUpdate' : 'animationDuration');\n      animationEasing = animatableModel.getShallow(isUpdate ? 'animationEasingUpdate' : 'animationEasing');\n      animationDelay = animatableModel.getShallow(isUpdate ? 'animationDelayUpdate' : 'animationDelay');\n    }\n\n    if (typeof animationDelay === 'function') {\n      animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n    }\n\n    if (typeof duration === 'function') {\n      duration = duration(dataIndex);\n    }\n\n    duration > 0 ? isFrom ? el.animateFrom(props, {\n      duration: duration,\n      delay: animationDelay || 0,\n      easing: animationEasing,\n      done: cb,\n      force: !!cb || !!during,\n      scope: animationType,\n      during: during\n    }) : el.animateTo(props, {\n      duration: duration,\n      delay: animationDelay || 0,\n      easing: animationEasing,\n      done: cb,\n      force: !!cb || !!during,\n      setToFinal: true,\n      scope: animationType,\n      during: during\n    }) : ( // FIXME:\n    // If `duration` is 0, only the animation on props\n    // can be stoped, other animation should be continued?\n    // But at present using duration 0 in `animateTo`, `animateFrom`\n    // might cause unexpected behavior.\n    el.stopAnimation(), // If `isFrom`, the props is the \"from\" props.\n    !isFrom && el.attr(props), cb && cb());\n  } else {\n    el.stopAnimation();\n    !isFrom && el.attr(props); // Call during once.\n\n    during && during(1);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, // TODO: TYPE AnimatableModel\nanimatableModel, dataIndex, cb, during) {\n  animateOrSetProps('update', el, props, animatableModel, dataIndex, cb, during);\n}\n\nexport { updateProps };\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n */\n\nexport function initProps(el, props, animatableModel, dataIndex, cb, during) {\n  animateOrSetProps('init', el, props, animatableModel, dataIndex, cb, during);\n}\n/**\n * Remove graphic element\n */\n\nexport function removeElement(el, props, animatableModel, dataIndex, cb, during) {\n  // Don't do remove animation twice.\n  if (isElementRemoved(el)) {\n    return;\n  }\n\n  animateOrSetProps('remove', el, props, animatableModel, dataIndex, cb, during);\n}\n\nfunction fadeOutDisplayable(el, animatableModel, dataIndex, done) {\n  el.removeTextContent();\n  el.removeTextGuideLine();\n  removeElement(el, {\n    style: {\n      opacity: 0\n    }\n  }, animatableModel, dataIndex, done);\n}\n\nexport function removeElementWithFadeOut(el, animatableModel, dataIndex) {\n  function doRemove() {\n    el.parent && el.parent.remove(el);\n  } // Hide label and labelLine first\n  // TODO Also use fade out animation?\n\n\n  if (!el.isGroup) {\n    fadeOutDisplayable(el, animatableModel, dataIndex, doRemove);\n  } else {\n    el.traverse(function (disp) {\n      if (!disp.isGroup) {\n        // Can invoke doRemove multiple times.\n        fadeOutDisplayable(disp, animatableModel, dataIndex, doRemove);\n      }\n    });\n  }\n}\n/**\n * If element is removed.\n * It can determine if element is having remove animation.\n */\n\nexport function isElementRemoved(el) {\n  if (!el.__zr) {\n    return true;\n  }\n\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n\n    if (animator.scope === 'remove') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param target\n * @param [ancestor]\n */\n\nexport function getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param target [x, y]\n * @param transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param invert Whether use invert matrix.\n * @return [x, y]\n */\n\nexport function applyTransform(target, transform, invert) {\n  if (transform && !isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param direction 'left' 'right' 'top' 'bottom'\n * @param transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param invert Whether use invert matrix.\n * @return Transformed direction. 'left' 'right' 'top' 'bottom'\n */\n\nexport function transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\n\nfunction isNotGroup(el) {\n  return !el.isGroup;\n}\n\nfunction isPath(el) {\n  return el.shape != null;\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\n\n\nexport function groupTransition(g1, g2, animatableModel) {\n  if (!g1 || !g2) {\n    return;\n  }\n\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (isNotGroup(el) && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n\n  function getAnimatableProps(el) {\n    var obj = {\n      x: el.x,\n      y: el.y,\n      rotation: el.rotation\n    };\n\n    if (isPath(el)) {\n      obj.shape = extend({}, el.shape);\n    }\n\n    return obj;\n  }\n\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (isNotGroup(el) && el.anid) {\n      var oldEl = elMap1[el.anid];\n\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, getECData(el).dataIndex);\n      }\n    }\n  });\n}\nexport function clipPointsByRect(points, rect) {\n  // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n  // and when element have border.\n  return map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * Return a new clipped rect. If rect size are negative, return undefined.\n */\n\nexport function clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n  // should be painted. So return undefined.\n\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\nexport function createIcon(iconStr, // Support 'image://' or 'path://' or direct svg path.\nopt, rect) {\n  var innerOpts = extend({\n    rectHover: true\n  }, opt);\n  var style = innerOpts.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), defaults(style, rect), new ZRImage(innerOpts)) : makePath(iconStr.replace('path://', ''), innerOpts, rect, 'center');\n  }\n}\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\n\nexport function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n}\n/**\n * Return `true` if the given two lines (line `a` and line `b`)\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\n\nexport function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n  var mx = a2x - a1x;\n  var my = a2y - a1y;\n  var nx = b2x - b1x;\n  var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n  //     exising `k` such that `vec_m = k \u00B7 vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n  if (nearZero(nmCrossProduct)) {\n    return false;\n  } // `vec_m` and `vec_n` are intersect iff\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n  var b1a1x = a1x - b1x;\n  var b1a1y = a1y - b1y;\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n  if (q < 0 || q > 1) {\n    return false;\n  }\n\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n  if (p < 0 || p > 1) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Cross product of 2-dimension vector.\n */\n\nfunction crossProduct2d(x1, y1, x2, y2) {\n  return x1 * y2 - x2 * y1;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n\nexport function setTooltipConfig(opt) {\n  var itemTooltipOption = opt.itemTooltipOption;\n  var componentModel = opt.componentModel;\n  var itemName = opt.itemName;\n  var itemTooltipOptionObj = isString(itemTooltipOption) ? {\n    formatter: itemTooltipOption\n  } : itemTooltipOption;\n  var mainType = componentModel.mainType;\n  var componentIndex = componentModel.componentIndex;\n  var formatterParams = {\n    componentType: mainType,\n    name: itemName,\n    $vars: ['name']\n  };\n  formatterParams[mainType + 'Index'] = componentIndex;\n  var formatterParamsExtra = opt.formatterParamsExtra;\n\n  if (formatterParamsExtra) {\n    each(keys(formatterParamsExtra), function (key) {\n      if (!hasOwn(formatterParams, key)) {\n        formatterParams[key] = formatterParamsExtra[key];\n        formatterParams.$vars.push(key);\n      }\n    });\n  }\n\n  var ecData = getECData(opt.el);\n  ecData.componentMainType = mainType;\n  ecData.componentIndex = componentIndex;\n  ecData.tooltipConfig = {\n    name: itemName,\n    option: defaults({\n      content: itemName,\n      formatterParams: formatterParams\n    }, itemTooltipOptionObj)\n  };\n} // Register built-in shapes. These shapes might be overwirtten\n// by users, although we do not recommend that.\n\nregisterShape('circle', Circle);\nregisterShape('ellipse', Ellipse);\nregisterShape('sector', Sector);\nregisterShape('ring', Ring);\nregisterShape('polygon', Polygon);\nregisterShape('polyline', Polyline);\nregisterShape('rect', Rect);\nregisterShape('line', Line);\nregisterShape('bezierCurve', BezierCurve);\nregisterShape('arc', Arc);\nexport { Group, ZRImage as Image, ZRText as Text, Circle, Ellipse, Sector, Ring, Polygon, Polyline, Rect, Line, BezierCurve, Arc, IncrementalDisplayable, CompoundPath, LinearGradient, RadialGradient, BoundingRect, OrientedBoundingRect, Point, Path };", "import PathProxy from '../core/PathProxy';\nimport { applyTransform as v2ApplyTransform } from '../core/vector';\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nexport default function transformPath(path, m) {\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            v2ApplyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\n", "import { __extends } from \"tslib\";\nimport Path from '../graphic/Path';\nimport PathProxy from '../core/PathProxy';\nimport transformPath from './transformPath';\nimport { extend } from '../core/util';\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n;\nfunction vRatio(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n;\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n        * Math.acos(vRatio(u, v));\n}\n;\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n        + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n        + mathCos(psi) * (y1 - y2) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n            - ((rx * rx) * (yp * yp))\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n            + (ry * ry) * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0\n        + mathCos(psi) * cxp\n        - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n        + mathSin(psi) * cxp\n        + mathCos(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (dTheta < 0) {\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\n        dTheta = PI * 2 + (n % 2) * PI;\n    }\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction createPathProxyFromString(data) {\n    var path = new PathProxy();\n    if (!data) {\n        return path;\n    }\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var CMD = PathProxy.CMD;\n    var cmdList = data.match(commandReg);\n    if (!cmdList) {\n        return path;\n    }\n    for (var l = 0; l < cmdList.length; l++) {\n        var cmdText = cmdList[l];\n        var cmdStr = cmdText.charAt(0);\n        var cmd = void 0;\n        var p = cmdText.match(numberReg) || [];\n        var pLen = p.length;\n        for (var i = 0; i < pLen; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        var off = 0;\n        while (off < pLen) {\n            var ctlPtx = void 0;\n            var ctlPty = void 0;\n            var rx = void 0;\n            var ry = void 0;\n            var psi = void 0;\n            var fa = void 0;\n            var fs = void 0;\n            var x1 = cpx;\n            var y1 = cpy;\n            var len = void 0;\n            var pathData = void 0;\n            switch (cmdStr) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n            }\n        }\n        if (cmdStr === 'z' || cmdStr === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n            cpx = subpathX;\n            cpy = subpathY;\n        }\n        prevCmd = cmd;\n    }\n    path.toStatic();\n    return path;\n}\nvar SVGPath = (function (_super) {\n    __extends(SVGPath, _super);\n    function SVGPath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGPath.prototype.applyTransform = function (m) { };\n    return SVGPath;\n}(Path));\nfunction isPathProxy(path) {\n    return path.setData != null;\n}\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    var innerOpts = extend({}, opts);\n    innerOpts.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.setData(pathProxy.data);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n        else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx, 1);\n        }\n    };\n    innerOpts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n        this.dirtyShape();\n    };\n    return innerOpts;\n}\nexport function createFromString(str, opts) {\n    return new SVGPath(createPathOptions(str, opts));\n}\nexport function extendFromString(str, defaultOpts) {\n    var innerOpts = createPathOptions(str, defaultOpts);\n    var Sub = (function (_super) {\n        __extends(Sub, _super);\n        function Sub(opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.applyTransform = innerOpts.applyTransform;\n            _this.buildPath = innerOpts.buildPath;\n            return _this;\n        }\n        return Sub;\n    }(SVGPath));\n    return Sub;\n}\nexport function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        if (!pathEl.path) {\n            pathEl.createPathProxy();\n        }\n        if (pathEl.shapeChanged()) {\n            pathEl.buildPath(pathEl.path, pathEl.shape, true);\n        }\n        pathList.push(pathEl.path);\n    }\n    var pathBundle = new Path(opts);\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.appendPath(pathList);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    return pathBundle;\n}\n", "import { __extends } from \"tslib\";\nimport * as zrUtil from '../core/util';\nimport Element from '../Element';\nimport BoundingRect from '../core/BoundingRect';\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _this = _super.call(this) || this;\n        _this.isGroup = true;\n        _this._children = [];\n        _this.attr(opts);\n        return _this;\n    }\n    Group.prototype.childrenRef = function () {\n        return this._children;\n    };\n    Group.prototype.children = function () {\n        return this._children.slice();\n    };\n    Group.prototype.childAt = function (idx) {\n        return this._children[idx];\n    };\n    Group.prototype.childOfName = function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n        }\n    };\n    Group.prototype.childCount = function () {\n        return this._children.length;\n    };\n    Group.prototype.add = function (child) {\n        if (child) {\n            if (child !== this && child.parent !== this) {\n                this._children.push(child);\n                this._doAdd(child);\n            }\n            if (child.__hostTarget) {\n                throw 'This elemenet has been used as an attachment';\n            }\n        }\n        return this;\n    };\n    Group.prototype.addBefore = function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n        return this;\n    };\n    Group.prototype.replaceAt = function (child, index) {\n        var children = this._children;\n        var old = children[index];\n        if (child && child !== this && child.parent !== this && child !== old) {\n            children[index] = child;\n            old.parent = null;\n            var zr = this.__zr;\n            if (zr) {\n                old.removeSelfFromZr(zr);\n            }\n            this._doAdd(child);\n        }\n        return this;\n    };\n    Group.prototype._doAdd = function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n        child.parent = this;\n        var zr = this.__zr;\n        if (zr && zr !== child.__zr) {\n            child.addSelfToZr(zr);\n        }\n        zr && zr.refresh();\n    };\n    Group.prototype.remove = function (child) {\n        var zr = this.__zr;\n        var children = this._children;\n        var idx = zrUtil.indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n        child.parent = null;\n        if (zr) {\n            child.removeSelfFromZr(zr);\n        }\n        zr && zr.refresh();\n        return this;\n    };\n    Group.prototype.removeAll = function () {\n        var children = this._children;\n        var zr = this.__zr;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (zr) {\n                child.removeSelfFromZr(zr);\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n        return this;\n    };\n    Group.prototype.eachChild = function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    };\n    Group.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            var stopped = cb.call(context, child);\n            if (child.isGroup && !stopped) {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    };\n    Group.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.addSelfToZr(zr);\n        }\n    };\n    Group.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.removeSelfFromZr(zr);\n        }\n    };\n    Group.prototype.getBoundingRect = function (includeChildren) {\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n        var rect = null;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            if (transform) {\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    };\n    return Group;\n}(Element));\nGroup.prototype.type = 'group';\nexport default Group;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nvar CircleShape = (function () {\n    function CircleShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n    }\n    return CircleShape;\n}());\nexport { CircleShape };\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Circle.prototype.getDefaultShape = function () {\n        return new CircleShape();\n    };\n    Circle.prototype.buildPath = function (ctx, shape, inBundle) {\n        if (inBundle) {\n            ctx.moveTo(shape.cx + shape.r, shape.cy);\n        }\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\n    };\n    return Circle;\n}(Path));\n;\nCircle.prototype.type = 'circle';\nexport default Circle;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nvar EllipseShape = (function () {\n    function EllipseShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.rx = 0;\n        this.ry = 0;\n    }\n    return EllipseShape;\n}());\nexport { EllipseShape };\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ellipse.prototype.getDefaultShape = function () {\n        return new EllipseShape();\n    };\n    Ellipse.prototype.buildPath = function (ctx, shape) {\n        var k = 0.5522848;\n        var x = shape.cx;\n        var y = shape.cy;\n        var a = shape.rx;\n        var b = shape.ry;\n        var ox = a * k;\n        var oy = b * k;\n        ctx.moveTo(x - a, y);\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n        ctx.closePath();\n    };\n    return Ellipse;\n}(Path));\nEllipse.prototype.type = 'ellipse';\nexport default Ellipse;\n", "import { normalizeArcAngles } from '../../core/PathProxy';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\nvar mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var x10 = x1 - x0;\n    var y10 = y1 - y0;\n    var x32 = x3 - x2;\n    var y32 = y3 - y2;\n    var t = y32 * x10 - x32 * y10;\n    if (t * t < e) {\n        return;\n    }\n    t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n    return [x0 + t * x10, y0 + t * y10];\n}\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n    var x01 = x0 - x1;\n    var y01 = y0 - y1;\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n    var ox = lo * y01;\n    var oy = -lo * x01;\n    var x11 = x0 + ox;\n    var y11 = y0 + oy;\n    var x10 = x1 + ox;\n    var y10 = y1 + oy;\n    var x00 = (x11 + x10) / 2;\n    var y00 = (y11 + y10) / 2;\n    var dx = x10 - x11;\n    var dy = y10 - y11;\n    var d2 = dx * dx + dy * dy;\n    var r = radius - cr;\n    var s = x11 * y10 - x10 * y11;\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n    var cx0 = (s * dy - dx * d) / d2;\n    var cy0 = (-s * dx - dy * d) / d2;\n    var cx1 = (s * dy + dx * d) / d2;\n    var cy1 = (-s * dx + dy * d) / d2;\n    var dx0 = cx0 - x00;\n    var dy0 = cy0 - y00;\n    var dx1 = cx1 - x00;\n    var dy1 = cy1 - y00;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n        cx0 = cx1;\n        cy0 = cy1;\n    }\n    return {\n        cx: cx0,\n        cy: cy0,\n        x01: -ox,\n        y01: -oy,\n        x11: cx0 * (radius / r - 1),\n        y11: cy0 * (radius / r - 1)\n    };\n}\nexport function buildPath(ctx, shape) {\n    var radius = mathMax(shape.r, 0);\n    var innerRadius = mathMax(shape.r0 || 0, 0);\n    var hasRadius = radius > 0;\n    var hasInnerRadius = innerRadius > 0;\n    if (!hasRadius && !hasInnerRadius) {\n        return;\n    }\n    if (!hasRadius) {\n        radius = innerRadius;\n        innerRadius = 0;\n    }\n    if (innerRadius > radius) {\n        var tmp = radius;\n        radius = innerRadius;\n        innerRadius = tmp;\n    }\n    var clockwise = !!shape.clockwise;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var arc;\n    if (startAngle === endAngle) {\n        arc = 0;\n    }\n    else {\n        var tmpAngles = [startAngle, endAngle];\n        normalizeArcAngles(tmpAngles, !clockwise);\n        arc = mathAbs(tmpAngles[0] - tmpAngles[1]);\n    }\n    var x = shape.cx;\n    var y = shape.cy;\n    var cornerRadius = shape.cornerRadius || 0;\n    var innerCornerRadius = shape.innerCornerRadius || 0;\n    if (!(radius > e)) {\n        ctx.moveTo(x, y);\n    }\n    else if (arc > PI2 - e) {\n        ctx.moveTo(x + radius * mathCos(startAngle), y + radius * mathSin(startAngle));\n        ctx.arc(x, y, radius, startAngle, endAngle, !clockwise);\n        if (innerRadius > e) {\n            ctx.moveTo(x + innerRadius * mathCos(endAngle), y + innerRadius * mathSin(endAngle));\n            ctx.arc(x, y, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    else {\n        var halfRd = mathAbs(radius - innerRadius) / 2;\n        var cr = mathMin(halfRd, cornerRadius);\n        var icr = mathMin(halfRd, innerCornerRadius);\n        var cr0 = icr;\n        var cr1 = cr;\n        var xrs = radius * mathCos(startAngle);\n        var yrs = radius * mathSin(startAngle);\n        var xire = innerRadius * mathCos(endAngle);\n        var yire = innerRadius * mathSin(endAngle);\n        var xre = void 0;\n        var yre = void 0;\n        var xirs = void 0;\n        var yirs = void 0;\n        if (cr > e || icr > e) {\n            xre = radius * mathCos(endAngle);\n            yre = radius * mathSin(endAngle);\n            xirs = innerRadius * mathCos(startAngle);\n            yirs = innerRadius * mathSin(startAngle);\n            if (arc < PI) {\n                var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n                if (it_1) {\n                    var x0 = xrs - it_1[0];\n                    var y0 = yrs - it_1[1];\n                    var x1 = xre - it_1[0];\n                    var y1 = yre - it_1[1];\n                    var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n                    var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n                    cr0 = mathMin(icr, (innerRadius - b) / (a - 1));\n                    cr1 = mathMin(cr, (radius - b) / (a + 1));\n                }\n            }\n        }\n        if (!(arc > e)) {\n            ctx.moveTo(x + xrs, y + yrs);\n        }\n        else if (cr1 > e) {\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, cr1, clockwise);\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, cr1, clockwise);\n            ctx.moveTo(x + ct0.cx + ct0.x01, y + ct0.cy + ct0.y01);\n            if (cr1 < cr) {\n                ctx.arc(x + ct0.cx, y + ct0.cy, cr1, mathATan2(ct0.y01, ct0.x01), mathATan2(ct1.y01, ct1.x01), !clockwise);\n            }\n            else {\n                ctx.arc(x + ct0.cx, y + ct0.cy, cr1, mathATan2(ct0.y01, ct0.x01), mathATan2(ct0.y11, ct0.x11), !clockwise);\n                ctx.arc(x, y, radius, mathATan2(ct0.cy + ct0.y11, ct0.cx + ct0.x11), mathATan2(ct1.cy + ct1.y11, ct1.cx + ct1.x11), !clockwise);\n                ctx.arc(x + ct1.cx, y + ct1.cy, cr1, mathATan2(ct1.y11, ct1.x11), mathATan2(ct1.y01, ct1.x01), !clockwise);\n            }\n        }\n        else {\n            ctx.moveTo(x + xrs, y + yrs);\n            ctx.arc(x, y, radius, startAngle, endAngle, !clockwise);\n        }\n        if (!(innerRadius > e) || !(arc > e)) {\n            ctx.lineTo(x + xire, y + yire);\n        }\n        else if (cr0 > e) {\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -cr0, clockwise);\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -cr0, clockwise);\n            ctx.lineTo(x + ct0.cx + ct0.x01, y + ct0.cy + ct0.y01);\n            if (cr0 < icr) {\n                ctx.arc(x + ct0.cx, y + ct0.cy, cr0, mathATan2(ct0.y01, ct0.x01), mathATan2(ct1.y01, ct1.x01), !clockwise);\n            }\n            else {\n                ctx.arc(x + ct0.cx, y + ct0.cy, cr0, mathATan2(ct0.y01, ct0.x01), mathATan2(ct0.y11, ct0.x11), !clockwise);\n                ctx.arc(x, y, innerRadius, mathATan2(ct0.cy + ct0.y11, ct0.cx + ct0.x11), mathATan2(ct1.cy + ct1.y11, ct1.cx + ct1.x11), clockwise);\n                ctx.arc(x + ct1.cx, y + ct1.cy, cr0, mathATan2(ct1.y11, ct1.x11), mathATan2(ct1.y01, ct1.x01), !clockwise);\n            }\n        }\n        else {\n            ctx.lineTo(x + xire, y + yire);\n            ctx.arc(x, y, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    ctx.closePath();\n}\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport * as roundSectorHelper from '../helper/roundSector';\nvar SectorShape = (function () {\n    function SectorShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r0 = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n        this.cornerRadius = 0;\n        this.innerCornerRadius = 0;\n    }\n    return SectorShape;\n}());\nexport { SectorShape };\nvar Sector = (function (_super) {\n    __extends(Sector, _super);\n    function Sector(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Sector.prototype.getDefaultShape = function () {\n        return new SectorShape();\n    };\n    Sector.prototype.buildPath = function (ctx, shape) {\n        roundSectorHelper.buildPath(ctx, shape);\n    };\n    Sector.prototype.isZeroArea = function () {\n        return this.shape.startAngle === this.shape.endAngle\n            || this.shape.r === this.shape.r0;\n    };\n    return Sector;\n}(Path));\nSector.prototype.type = 'sector';\nexport default Sector;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nvar RingShape = (function () {\n    function RingShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.r0 = 0;\n    }\n    return RingShape;\n}());\nexport { RingShape };\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ring.prototype.getDefaultShape = function () {\n        return new RingShape();\n    };\n    Ring.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    };\n    return Ring;\n}(Path));\nRing.prototype.type = 'ring';\nexport default Ring;\n", "import { distance as v2Distance } from '../../core/vector';\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3\n        + (-3 * (p1 - p2) - 2 * v0 - v1) * t2\n        + v0 * t + p1;\n}\nexport default function smoothSpline(points, isLoop) {\n    var len = points.length;\n    var ret = [];\n    var distance = 0;\n    for (var i = 1; i < len; i++) {\n        distance += v2Distance(points[i - 1], points[i]);\n    }\n    var segs = distance / 2;\n    segs = segs < len ? len : segs;\n    for (var i = 0; i < segs; i++) {\n        var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n        var idx = Math.floor(pos);\n        var w = pos - idx;\n        var p0 = void 0;\n        var p1 = points[idx % len];\n        var p2 = void 0;\n        var p3 = void 0;\n        if (!isLoop) {\n            p0 = points[idx === 0 ? idx : idx - 1];\n            p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n            p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n        }\n        else {\n            p0 = points[(idx - 1 + len) % len];\n            p2 = points[(idx + 1) % len];\n            p3 = points[(idx + 2) % len];\n        }\n        var w2 = w * w;\n        var w3 = w * w2;\n        ret.push([\n            interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3),\n            interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)\n        ]);\n    }\n    return ret;\n}\n", "import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector';\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n    if (constraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n        }\n        v2Min(min, min, constraint[0]);\n        v2Max(max, max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(v2Clone(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        v2Sub(v, nextPoint, prevPoint);\n        v2Scale(v, v, smooth);\n        var d0 = v2Distance(point, prevPoint);\n        var d1 = v2Distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        v2Scale(v1, v, -d0);\n        v2Scale(v2, v, d1);\n        var cp0 = v2Add([], point, v1);\n        var cp1 = v2Add([], point, v2);\n        if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n}\n", "import smoothSpline from './smoothSpline';\nimport smoothBezier from './smoothBezier';\nexport function buildPath(ctx, shape, closePath) {\n    var smooth = shape.smooth;\n    var points = shape.points;\n    if (points && points.length >= 2) {\n        if (smooth && smooth !== 'spline') {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n        }\n        else {\n            if (smooth === 'spline') {\n                points = smoothSpline(points, closePath);\n            }\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n        closePath && ctx.closePath();\n    }\n}\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport * as polyHelper from '../helper/poly';\nvar PolygonShape = (function () {\n    function PolygonShape() {\n        this.points = null;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolygonShape;\n}());\nexport { PolygonShape };\nvar Polygon = (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polygon.prototype.getDefaultShape = function () {\n        return new PolygonShape();\n    };\n    Polygon.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, true);\n    };\n    return Polygon;\n}(Path));\n;\nPolygon.prototype.type = 'polygon';\nexport default Polygon;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport * as polyHelper from '../helper/poly';\nvar PolylineShape = (function () {\n    function PolylineShape() {\n        this.points = null;\n        this.percent = 1;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolylineShape;\n}());\nexport { PolylineShape };\nvar Polyline = (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polyline.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Polyline.prototype.getDefaultShape = function () {\n        return new PolylineShape();\n    };\n    Polyline.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, false);\n    };\n    return Polyline;\n}(Path));\nPolyline.prototype.type = 'polyline';\nexport default Polyline;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize';\nvar subPixelOptimizeOutputShape = {};\nvar LineShape = (function () {\n    function LineShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.percent = 1;\n    }\n    return LineShape;\n}());\nexport { LineShape };\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Line.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Line.prototype.getDefaultShape = function () {\n        return new LineShape();\n    };\n    Line.prototype.buildPath = function (ctx, shape) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n            x1 = optimizedShape.x1;\n            y1 = optimizedShape.y1;\n            x2 = optimizedShape.x2;\n            y2 = optimizedShape.y2;\n        }\n        else {\n            x1 = shape.x1;\n            y1 = shape.y1;\n            x2 = shape.x2;\n            y2 = shape.y2;\n        }\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    };\n    Line.prototype.pointAt = function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    };\n    return Line;\n}(Path));\nLine.prototype.type = 'line';\nexport default Line;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nimport * as vec2 from '../../core/vector';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 === null || cpy2 === null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n", "import { __extends } from \"tslib\";\nimport Path from '../Path';\nvar ArcShape = (function () {\n    function ArcShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n    }\n    return ArcShape;\n}());\nexport { ArcShape };\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Arc.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Arc.prototype.getDefaultShape = function () {\n        return new ArcShape();\n    };\n    Arc.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    };\n    return Arc;\n}(Path));\nArc.prototype.type = 'arc';\nexport default Arc;\n", "import { __extends } from \"tslib\";\nimport Path from './Path';\nvar CompoundPath = (function (_super) {\n    __extends(CompoundPath, _super);\n    function CompoundPath() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'compound';\n        return _this;\n    }\n    CompoundPath.prototype._updatePathDirty = function () {\n        var paths = this.shape.paths;\n        var dirtyPath = this.shapeChanged();\n        for (var i = 0; i < paths.length; i++) {\n            dirtyPath = dirtyPath || paths[i].shapeChanged();\n        }\n        if (dirtyPath) {\n            this.dirtyShape();\n        }\n    };\n    CompoundPath.prototype.beforeBrush = function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n        }\n    };\n    CompoundPath.prototype.buildPath = function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    };\n    CompoundPath.prototype.afterBrush = function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].pathUpdated();\n        }\n    };\n    CompoundPath.prototype.getBoundingRect = function () {\n        this._updatePathDirty.call(this);\n        return Path.prototype.getBoundingRect.call(this);\n    };\n    return CompoundPath;\n}(Path));\nexport default CompoundPath;\n", "var Gradient = (function () {\n    function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n    }\n    Gradient.prototype.addColorStop = function (offset, color) {\n        this.colorStops.push({\n            offset: offset,\n            color: color\n        });\n    };\n    return Gradient;\n}());\nexport default Gradient;\n", "import { __extends } from \"tslib\";\nimport Gradient from './Gradient';\nvar LinearGradient = (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0 : x;\n        _this.y = y == null ? 0 : y;\n        _this.x2 = x2 == null ? 1 : x2;\n        _this.y2 = y2 == null ? 0 : y2;\n        _this.type = 'linear';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return LinearGradient;\n}(Gradient));\nexport default LinearGradient;\n;\n", "import { __extends } from \"tslib\";\nimport Gradient from './Gradient';\nvar RadialGradient = (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0.5 : x;\n        _this.y = y == null ? 0.5 : y;\n        _this.r = r == null ? 0.5 : r;\n        _this.type = 'radial';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return RadialGradient;\n}(Gradient));\nexport default RadialGradient;\n", "import Point from './Point';\nvar extent = [0, 0];\nvar extent2 = [0, 0];\nvar minTv = new Point();\nvar maxTv = new Point();\nvar OrientedBoundingRect = (function () {\n    function OrientedBoundingRect(rect, transform) {\n        this._corners = [];\n        this._axes = [];\n        this._origin = [0, 0];\n        for (var i = 0; i < 4; i++) {\n            this._corners[i] = new Point();\n        }\n        for (var i = 0; i < 2; i++) {\n            this._axes[i] = new Point();\n        }\n        if (rect) {\n            this.fromBoundingRect(rect, transform);\n        }\n    }\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\n        var corners = this._corners;\n        var axes = this._axes;\n        var x = rect.x;\n        var y = rect.y;\n        var x2 = x + rect.width;\n        var y2 = y + rect.height;\n        corners[0].set(x, y);\n        corners[1].set(x2, y);\n        corners[2].set(x2, y2);\n        corners[3].set(x, y2);\n        if (transform) {\n            for (var i = 0; i < 4; i++) {\n                corners[i].transform(transform);\n            }\n        }\n        Point.sub(axes[0], corners[1], corners[0]);\n        Point.sub(axes[1], corners[3], corners[0]);\n        axes[0].normalize();\n        axes[1].normalize();\n        for (var i = 0; i < 2; i++) {\n            this._origin[i] = axes[i].dot(corners[0]);\n        }\n    };\n    OrientedBoundingRect.prototype.intersect = function (other, mtv) {\n        var overlapped = true;\n        var noMtv = !mtv;\n        minTv.set(Infinity, Infinity);\n        maxTv.set(0, 0);\n        if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!noMtv) {\n            Point.copy(mtv, overlapped ? minTv : maxTv);\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, minTv, maxTv, noMtv, inverse) {\n        var overlapped = true;\n        for (var i = 0; i < 2; i++) {\n            var axis = this._axes[i];\n            this._getProjMinMaxOnAxis(i, self._corners, extent);\n            this._getProjMinMaxOnAxis(i, other._corners, extent2);\n            if (extent[1] < extent2[0] || extent[0] > extent2[1]) {\n                overlapped = false;\n                if (noMtv) {\n                    return overlapped;\n                }\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) > maxTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(maxTv, axis, -dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(maxTv, axis, dist1 * inverse);\n                    }\n                }\n            }\n            else if (minTv) {\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) < minTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(minTv, axis, dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(minTv, axis, -dist1 * inverse);\n                    }\n                }\n            }\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\n        var axis = this._axes[dim];\n        var origin = this._origin;\n        var proj = corners[0].dot(axis) + origin[dim];\n        var min = proj;\n        var max = proj;\n        for (var i = 1; i < corners.length; i++) {\n            var proj_1 = corners[i].dot(axis) + origin[dim];\n            min = Math.min(proj_1, min);\n            max = Math.max(proj_1, max);\n        }\n        out[0] = min;\n        out[1] = max;\n    };\n    return OrientedBoundingRect;\n}());\nexport default OrientedBoundingRect;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ZRText from 'zrender/lib/graphic/Text';\nimport { isFunction, retrieve2, extend, keys, trim } from 'zrender/lib/core/util';\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states';\nimport { deprecateReplaceLog } from '../util/log';\nimport { makeInner, interpolateRawValues } from '../util/model';\nimport { initProps, updateProps } from '../util/graphic';\nvar EMPTY_OBJ = {};\nexport function setLabelText(label, labelTexts) {\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var text = labelTexts[stateName];\n    var state = label.ensureState(stateName);\n    state.style = state.style || {};\n    state.style.text = text;\n  }\n\n  var oldStates = label.currentStates.slice();\n  label.clearStates(true);\n  label.setStyle({\n    text: labelTexts.normal\n  });\n  label.useStates(oldStates, true);\n}\n\nfunction getLabelText(opt, stateModels, interpolatedValue) {\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var normalModel = stateModels.normal;\n  var baseText;\n\n  if (labelFetcher) {\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), interpolatedValue != null ? {\n      interpolatedValue: interpolatedValue\n    } : null);\n  }\n\n  if (baseText == null) {\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, interpolatedValue) : opt.defaultText;\n  }\n\n  var statesText = {\n    normal: baseText\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var stateModel = stateModels[stateName];\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\n  }\n\n  return statesText;\n}\n\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified // TODO specified position?\n) {\n  opt = opt || EMPTY_OBJ;\n  var isSetOnText = targetEl instanceof ZRText;\n  var needsCreateText = false;\n\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\n\n    if (stateModel && stateModel.getShallow('show')) {\n      needsCreateText = true;\n      break;\n    }\n  }\n\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\n\n  if (needsCreateText) {\n    if (!isSetOnText) {\n      // Reuse the previous\n      if (!textContent) {\n        textContent = new ZRText();\n        targetEl.setTextContent(textContent);\n      } // Use same state proxy\n\n\n      if (targetEl.stateProxy) {\n        textContent.stateProxy = targetEl.stateProxy;\n      }\n    }\n\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\n    var normalModel = labelStatesModels.normal;\n    var showNormal = !!normalModel.getShallow('show');\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\n    normalStyle.text = labelStatesTexts.normal;\n\n    if (!isSetOnText) {\n      // Always create new\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\n    }\n\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\n      var stateName = SPECIAL_STATES[i];\n      var stateModel = labelStatesModels[stateName];\n\n      if (stateModel) {\n        var stateObj = textContent.ensureState(stateName);\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\n\n        if (stateShow !== showNormal) {\n          stateObj.ignore = !stateShow;\n        }\n\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\n        stateObj.style.text = labelStatesTexts[stateName];\n\n        if (!isSetOnText) {\n          var targetElEmphasisState = targetEl.ensureState(stateName);\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\n        }\n      }\n    } // PENDING: if there is many requirements that emphasis position\n    // need to be different from normal position, we might consider\n    // auto slient is those cases.\n\n\n    textContent.silent = !!normalModel.getShallow('silent'); // Keep x and y\n\n    if (textContent.style.x != null) {\n      normalStyle.x = textContent.style.x;\n    }\n\n    if (textContent.style.y != null) {\n      normalStyle.y = textContent.style.y;\n    }\n\n    textContent.ignore = !showNormal; // Always create new style.\n\n    textContent.useStyle(normalStyle);\n    textContent.dirty();\n\n    if (opt.enableTextSetter) {\n      labelInner(textContent).setLabelText = function (interpolatedValue) {\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, interpolatedValue);\n        setLabelText(textContent, labelStatesTexts);\n      };\n    }\n  } else if (textContent) {\n    // Not display rich text.\n    textContent.ignore = true;\n  }\n\n  targetEl.dirty();\n}\n\nexport { setLabelStyle };\nexport function getLabelStatesModels(itemModel, labelName) {\n  labelName = labelName || 'label';\n  var statesModels = {\n    normal: itemModel.getModel(labelName)\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\n  }\n\n  return statesModels;\n}\n/**\n * Set basic textStyle properties.\n */\n\nexport function createTextStyle(textStyleModel, specifiedTextStyle, // Fixed style in the code. Can't be set by model.\nopt, isNotNormal, isAttached // If text is attached on an element. If so, auto color will handling in zrender.\n) {\n  var textStyle = {};\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n  return textStyle;\n}\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\n  opt = opt || {};\n  var textConfig = {};\n  var labelPosition;\n  var labelRotate = textStyleModel.getShallow('rotate');\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\n  var labelOffset = textStyleModel.getShallow('offset');\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n  // in bar series, and magric type should be considered.\n\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\n\n  if (labelPosition != null) {\n    textConfig.position = labelPosition;\n  }\n\n  if (labelOffset != null) {\n    textConfig.offset = labelOffset;\n  }\n\n  if (labelRotate != null) {\n    labelRotate *= Math.PI / 180;\n    textConfig.rotation = labelRotate;\n  }\n\n  if (labelDistance != null) {\n    textConfig.distance = labelDistance;\n  } // fill and auto is determined by the color of path fill if it's not specified by developers.\n\n\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\n  return textConfig;\n}\n/**\n * The uniform entry of set text style, that is, retrieve style definitions\n * from `model` and set to `textStyle` object.\n *\n * Never in merge mode, but in overwrite mode, that is, all of the text style\n * properties will be set. (Consider the states of normal and emphasis and\n * default value can be adopted, merge would make the logic too complicated\n * to manage.)\n */\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name_1 in richItemNames) {\n      if (richItemNames.hasOwnProperty(name_1)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]); // In rich, never `disableBox`.\n        // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\n        // That might confuses users. So probably we should put `textStyleModel` as the\n        // root ancestor of the `richTextStyle`. But that would be a break change.\n\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);\n      }\n    }\n  }\n\n  if (richResult) {\n    textStyle.rich = richResult;\n  }\n\n  var overflow = textStyleModel.get('overflow');\n\n  if (overflow) {\n    textStyle.overflow = overflow;\n  }\n\n  var margin = textStyleModel.get('minMargin');\n\n  if (margin != null) {\n    textStyle.margin = margin;\n  }\n\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             rich: {\n//                 // no 'a' here but using parent 'a'.\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n// TODO TextStyleModel\n\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n      var richKeys = keys(rich);\n\n      for (var i = 0; i < richKeys.length; i++) {\n        var richKey = richKeys[i];\n        richItemNameMap[richKey] = 1;\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign'];\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\n  var inheritColor = opt && opt.inheritColor;\n  var fillColor = textStyleModel.getShallow('color');\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\n\n  if (fillColor === 'inherit' || fillColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (fillColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      fillColor = inheritColor;\n    } else {\n      fillColor = null;\n    }\n  }\n\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (strokeColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      strokeColor = inheritColor;\n    } else {\n      strokeColor = null;\n    }\n  }\n\n  if (!isAttached) {\n    // Only use default global textStyle.color if text is individual.\n    // Otherwise it will use the strategy of attached text color because text may be on a path.\n    fillColor = fillColor || globalTextStyle.color;\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\n  }\n\n  if (fillColor != null) {\n    textStyle.fill = fillColor;\n  }\n\n  if (strokeColor != null) {\n    textStyle.stroke = strokeColor;\n  }\n\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (textBorderWidth != null) {\n    textStyle.lineWidth = textBorderWidth;\n  }\n\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\n\n  if (textBorderType != null) {\n    textStyle.lineDash = textBorderType;\n  }\n\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\n\n  if (textBorderDashOffset != null) {\n    textStyle.lineDashOffset = textBorderDashOffset;\n  }\n\n  if (!isNotNormal && opacity == null && !inRich) {\n    opacity = opt && opt.defaultOpacity;\n  }\n\n  if (opacity != null) {\n    textStyle.opacity = opacity;\n  } // TODO\n\n\n  if (!isNotNormal && !isAttached) {\n    // Set default finally.\n    if (textStyle.fill == null && opt.inheritColor) {\n      textStyle.fill = opt.inheritColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\n    var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\n    var key = TEXT_PROPS_SELF[i];\n    var val = textStyleModel.getShallow(key);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  if (textStyle.verticalAlign == null) {\n    var baseline = textStyleModel.getShallow('baseline');\n\n    if (baseline != null) {\n      textStyle.verticalAlign = baseline;\n    }\n  }\n\n  if (!isBlock || !opt.disableBox) {\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\n      var key = TEXT_PROPS_BOX[i];\n      var val = textStyleModel.getShallow(key);\n\n      if (val != null) {\n        textStyle[key] = val;\n      }\n    }\n\n    var borderType = textStyleModel.getShallow('borderType');\n\n    if (borderType != null) {\n      textStyle.borderDash = borderType;\n    }\n\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.backgroundColor === 'auto') {\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.backgroundColor = inheritColor;\n    }\n\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.borderColor === 'auto') {\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.borderColor = inheritColor;\n    }\n  }\n}\n\nexport function getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return trim([// FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\nexport var labelInner = makeInner();\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\n  if (!label) {\n    return;\n  }\n\n  var obj = labelInner(label);\n  obj.prevValue = obj.value;\n  obj.value = value;\n  var normalLabelModel = labelStatesModels.normal;\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\n\n  if (obj.valueAnimation) {\n    obj.precision = normalLabelModel.get('precision');\n    obj.defaultInterpolatedText = getDefaultText;\n    obj.statesModels = labelStatesModels;\n  }\n}\nexport function animateLabelValue(textEl, dataIndex, data, animatableModel, labelFetcher) {\n  var labelInnerStore = labelInner(textEl);\n\n  if (!labelInnerStore.valueAnimation) {\n    return;\n  }\n\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText; // Consider the case that being animating, do not use the `obj.value`,\n  // Otherwise it will jump to the `obj.value` when this new animation started.\n\n  var currValue = retrieve2(labelInnerStore.interpolatedValue, labelInnerStore.prevValue);\n  var targetValue = labelInnerStore.value;\n\n  function during(percent) {\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, currValue, targetValue, percent);\n    labelInnerStore.interpolatedValue = percent === 1 ? null : interpolated;\n    var labelText = getLabelText({\n      labelDataIndex: dataIndex,\n      labelFetcher: labelFetcher,\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\n    }, labelInnerStore.statesModels, interpolated);\n    setLabelText(textEl, labelText);\n  }\n\n  (currValue == null ? initProps : updateProps)(textEl, {}, animatableModel, dataIndex, null, during);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getFont } from '../../label/labelStyle';\nimport ZRText from 'zrender/lib/graphic/Text';\nvar PATH_COLOR = ['textStyle', 'color']; // TODO Performance improvement?\n\nvar tmpRichText = new ZRText();\n\nvar TextStyleMixin =\n/** @class */\nfunction () {\n  function TextStyleMixin() {}\n  /**\n   * Get color property or get color from option.textStyle.color\n   */\n  // TODO Callback\n\n\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  };\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n\n\n  TextStyleMixin.prototype.getFont = function () {\n    return getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  };\n\n  TextStyleMixin.prototype.getTextRect = function (text) {\n    tmpRichText.useStyle({\n      text: text,\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily'),\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline'),\n      padding: this.getShallow('padding'),\n      lineHeight: this.getShallow('lineHeight'),\n      rich: this.getShallow('rich')\n    });\n    tmpRichText.update();\n    return tmpRichText.getBoundingRect();\n  };\n\n  return TextStyleMixin;\n}();\n\n;\nexport default TextStyleMixin;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper';\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\n\nvar LineStyleMixin =\n/** @class */\nfunction () {\n  function LineStyleMixin() {}\n\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\n    return getLineStyle(this, excludes);\n  };\n\n  return LineStyleMixin;\n}();\n\n;\nexport { LineStyleMixin };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper';\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\n\nvar ItemStyleMixin =\n/** @class */\nfunction () {\n  function ItemStyleMixin() {}\n\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\n    return getItemStyle(this, excludes, includes);\n  };\n\n  return ItemStyleMixin;\n}();\n\nexport { ItemStyleMixin };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport env from 'zrender/lib/core/env';\nimport { enableClassExtend, enableClassCheck } from '../util/clazz';\nimport { AreaStyleMixin } from './mixin/areaStyle';\nimport TextStyleMixin from './mixin/textStyle';\nimport { LineStyleMixin } from './mixin/lineStyle';\nimport { ItemStyleMixin } from './mixin/itemStyle';\nimport { mixin, clone, merge } from 'zrender/lib/core/util';\n\nvar Model =\n/** @class */\nfunction () {\n  function Model(option, parentModel, ecModel) {\n    this.parentModel = parentModel;\n    this.ecModel = ecModel;\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype.init = function (option, parentModel, ecModel) {\n    var rest = [];\n\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n  };\n  /**\n   * Merge the input option to me.\n   */\n\n\n  Model.prototype.mergeOption = function (option, ecModel) {\n    merge(this.option, option, true);\n  }; // `path` can be 'xxx.yyy.zzz', so the return value type have to be `ModelOption`\n  // TODO: TYPE strict key check?\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\n\n\n  Model.prototype.get = function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\n  };\n\n  Model.prototype.getShallow = function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n\n    if (val == null && !ignoreParent) {\n      var parentModel = this.parentModel;\n\n      if (parentModel) {\n        // FIXME:TS do not know how to make it works\n        val = parentModel.getShallow(key);\n      }\n    }\n\n    return val;\n  }; // `path` can be 'xxx.yyy.zzz', so the return value type have to be `Model<ModelOption>`\n  // getModel(path: string | string[], parentModel?: Model): Model;\n  // TODO 'xxx.yyy.zzz' is deprecated\n\n\n  Model.prototype.getModel = function (path, parentModel) {\n    var hasPath = path != null;\n    var pathFinal = hasPath ? this.parsePath(path) : null;\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\n    return new Model(obj, parentModel, this.ecModel);\n  };\n  /**\n   * Squash option stack into one.\n   * parentModel will be removed after squashed.\n   *\n   * NOTE: resolveParentPath will not be applied here for simplicity. DON'T use this function\n   * if resolveParentPath is modified.\n   *\n   * @param deepMerge If do deep merge. Default to be false.\n   */\n  // squash(\n  //     deepMerge?: boolean,\n  //     handleCallback?: (func: () => object) => object\n  // ) {\n  //     const optionStack = [];\n  //     let model: Model = this;\n  //     while (model) {\n  //         if (model.option) {\n  //             optionStack.push(model.option);\n  //         }\n  //         model = model.parentModel;\n  //     }\n  //     const newOption = {} as Opt;\n  //     let option;\n  //     while (option = optionStack.pop()) {    // Top down merge\n  //         if (isFunction(option) && handleCallback) {\n  //             option = handleCallback(option);\n  //         }\n  //         if (deepMerge) {\n  //             merge(newOption, option);\n  //         }\n  //         else {\n  //             extend(newOption, option);\n  //         }\n  //     }\n  //     // Remove parentModel\n  //     this.option = newOption;\n  //     this.parentModel = null;\n  // }\n\n  /**\n   * If model has option\n   */\n\n\n  Model.prototype.isEmpty = function () {\n    return this.option == null;\n  };\n\n  Model.prototype.restoreData = function () {}; // Pending\n\n\n  Model.prototype.clone = function () {\n    var Ctor = this.constructor;\n    return new Ctor(clone(this.option));\n  }; // setReadOnly(properties): void {\n  // clazzUtil.setReadOnly(this, properties);\n  // }\n  // If path is null/undefined, return null/undefined.\n\n\n  Model.prototype.parsePath = function (path) {\n    if (typeof path === 'string') {\n      return path.split('.');\n    }\n\n    return path;\n  }; // Resolve path for parent. Perhaps useful when parent use a different property.\n  // Default to be a identity resolver.\n  // Can be modified to a different resolver.\n\n\n  Model.prototype.resolveParentPath = function (path) {\n    return path;\n  }; // FIXME:TS check whether put this method here\n\n\n  Model.prototype.isAnimationEnabled = function () {\n    if (!env.node && this.option) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  };\n\n  Model.prototype._doGet = function (pathArr, parentModel) {\n    var obj = this.option;\n\n    if (!pathArr) {\n      return obj;\n    }\n\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    if (obj == null && parentModel) {\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\n    }\n\n    return obj;\n  };\n\n  return Model;\n}();\n\n; // Enable Model.extend.\n\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, LineStyleMixin);\nmixin(Model, ItemStyleMixin);\nmixin(Model, AreaStyleMixin);\nmixin(Model, TextStyleMixin);\nexport default Model;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction dataIndexMapValueLength(valNumOrArrLengthMoreThan2) {\n  return valNumOrArrLengthMoreThan2 == null ? 0 : valNumOrArrLengthMoreThan2.length || 1;\n}\n\nfunction defaultKeyGetter(item) {\n  return item;\n}\n\nvar DataDiffer =\n/** @class */\nfunction () {\n  /**\n   * @param context Can be visited by this.context in callback.\n   */\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context, // By default: 'oneToOne'.\n  diffMode) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter; // Visible in callback via `this.context`;\n\n    this.context = context;\n    this._diffModeMultiple = diffMode === 'multiple';\n  }\n  /**\n   * Callback function when add a data\n   */\n\n\n  DataDiffer.prototype.add = function (func) {\n    this._add = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data\n   */\n\n\n  DataDiffer.prototype.update = function (func) {\n    this._update = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n\n\n  DataDiffer.prototype.updateManyToOne = function (func) {\n    this._updateManyToOne = func;\n    return this;\n  };\n  /**\n   * Callback function when update a data and only work in `cbMode: 'byKey'`.\n   */\n\n\n  DataDiffer.prototype.updateOneToMany = function (func) {\n    this._updateOneToMany = func;\n    return this;\n  };\n  /**\n   * Callback function when remove a data\n   */\n\n\n  DataDiffer.prototype.remove = function (func) {\n    this._remove = func;\n    return this;\n  };\n\n  DataDiffer.prototype.execute = function () {\n    this[this._diffModeMultiple ? '_executeMultiple' : '_executeOneToOne']();\n  };\n\n  DataDiffer.prototype._executeOneToOne = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var newDataIndexMap = {};\n    var oldDataKeyArr = new Array(oldArr.length);\n    var newDataKeyArr = new Array(newArr.length);\n\n    this._initIndexMap(oldArr, null, oldDataKeyArr, '_oldKeyGetter');\n\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n\n    for (var i = 0; i < oldArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal); // idx can never be empty array here. see 'set null' logic below.\n\n      if (newIdxMapValLen > 1) {\n        // Consider there is duplicate key (for example, use dataItem.name as key).\n        // We should make sure every item in newArr and oldArr can be visited.\n        var newIdx = newIdxMapVal.shift();\n\n        if (newIdxMapVal.length === 1) {\n          newDataIndexMap[oldKey] = newIdxMapVal[0];\n        }\n\n        this._update && this._update(newIdx, i);\n      } else if (newIdxMapValLen === 1) {\n        newDataIndexMap[oldKey] = null;\n        this._update && this._update(newIdxMapVal, i);\n      } else {\n        this._remove && this._remove(i);\n      }\n    }\n\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n  /**\n   * For example, consider the case:\n   * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],\n   * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],\n   * Where:\n   *     o0, o1, n0 has key 'a' (many to one)\n   *     o5, n4, n5, n6 has key 'b' (one to many)\n   *     o2, n1 has key 'c' (one to one)\n   *     n2, n3 has key 'd' (add)\n   *     o3, o4 has key 'e' (remove)\n   *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)\n   * Then:\n   *     (The order of the following directives are not ensured.)\n   *     this._updateManyToOne(n0, [o0, o1]);\n   *     this._updateOneToMany([n4, n5, n6], o5);\n   *     this._update(n1, o2);\n   *     this._remove(o3);\n   *     this._remove(o4);\n   *     this._remove(o6);\n   *     this._remove(o7);\n   *     this._add(n2);\n   *     this._add(n3);\n   *     this._add(n7);\n   *     this._add(n8);\n   */\n\n\n  DataDiffer.prototype._executeMultiple = function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var oldDataIndexMap = {};\n    var newDataIndexMap = {};\n    var oldDataKeyArr = [];\n    var newDataKeyArr = [];\n\n    this._initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter');\n\n    this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter');\n\n    for (var i = 0; i < oldDataKeyArr.length; i++) {\n      var oldKey = oldDataKeyArr[i];\n      var oldIdxMapVal = oldDataIndexMap[oldKey];\n      var newIdxMapVal = newDataIndexMap[oldKey];\n      var oldIdxMapValLen = dataIndexMapValueLength(oldIdxMapVal);\n      var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n\n      if (oldIdxMapValLen > 1 && newIdxMapValLen === 1) {\n        this._updateManyToOne && this._updateManyToOne(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen > 1) {\n        this._updateOneToMany && this._updateOneToMany(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen === 1 && newIdxMapValLen === 1) {\n        this._update && this._update(newIdxMapVal, oldIdxMapVal);\n        newDataIndexMap[oldKey] = null;\n      } else if (oldIdxMapValLen > 1) {\n        for (var i_1 = 0; i_1 < oldIdxMapValLen; i_1++) {\n          this._remove && this._remove(oldIdxMapVal[i_1]);\n        }\n      } else {\n        this._remove && this._remove(oldIdxMapVal);\n      }\n    }\n\n    this._performRestAdd(newDataKeyArr, newDataIndexMap);\n  };\n\n  DataDiffer.prototype._performRestAdd = function (newDataKeyArr, newDataIndexMap) {\n    for (var i = 0; i < newDataKeyArr.length; i++) {\n      var newKey = newDataKeyArr[i];\n      var newIdxMapVal = newDataIndexMap[newKey];\n      var idxMapValLen = dataIndexMapValueLength(newIdxMapVal);\n\n      if (idxMapValLen > 1) {\n        for (var j = 0; j < idxMapValLen; j++) {\n          this._add && this._add(newIdxMapVal[j]);\n        }\n      } else if (idxMapValLen === 1) {\n        this._add && this._add(newIdxMapVal);\n      } // Support both `newDataKeyArr` are duplication removed or not removed.\n\n\n      newDataIndexMap[newKey] = null;\n    }\n  };\n\n  DataDiffer.prototype._initIndexMap = function (arr, // Can be null.\n  map, // In 'byKey', the output `keyArr` is duplication removed.\n  // In 'byIndex', the output `keyArr` is not duplication removed and\n  //     its indices are accurately corresponding to `arr`.\n  keyArr, keyGetterName) {\n    var cbModeMultiple = this._diffModeMultiple;\n\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + this[keyGetterName](arr[i], i);\n\n      if (!cbModeMultiple) {\n        keyArr[i] = key;\n      }\n\n      if (!map) {\n        continue;\n      }\n\n      var idxMapVal = map[key];\n      var idxMapValLen = dataIndexMapValueLength(idxMapVal);\n\n      if (idxMapValLen === 0) {\n        // Simple optimize: in most cases, one index has one key,\n        // do not need array.\n        map[key] = i;\n\n        if (cbModeMultiple) {\n          keyArr.push(key);\n        }\n      } else if (idxMapValLen === 1) {\n        map[key] = [idxMapVal, i];\n      } else {\n        idxMapVal.push(i);\n      }\n    }\n  };\n\n  return DataDiffer;\n}();\n\nexport default DataDiffer;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util';\n;\n;\n;\nexport var VISUAL_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\nexport var SOURCE_FORMAT_ORIGINAL = 'original';\nexport var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\nexport var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\nexport var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\nexport var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\nexport var SOURCE_FORMAT_UNKNOWN = 'unknown';\nexport var SERIES_LAYOUT_BY_COLUMN = 'column';\nexport var SERIES_LAYOUT_BY_ROW = 'row';\n;\n;\n;\n;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isTypedArray, clone, createHashMap, isArray, isObject, isArrayLike, hasOwn, assert, each, map, isNumber, isString } from 'zrender/lib/core/util';\nimport { SOURCE_FORMAT_ORIGINAL, SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_UNKNOWN, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW } from '../util/types';\nimport { getDataItemValue } from '../util/model';\n; // @inner\n\nvar SourceImpl =\n/** @class */\nfunction () {\n  // readonly frozen: boolean;\n  function SourceImpl(fields) {\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN; // Visit config\n\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;\n    this.startIndex = fields.startIndex || 0;\n    this.dimensionsDefine = fields.dimensionsDefine;\n    this.dimensionsDetectedCount = fields.dimensionsDetectedCount;\n    this.encodeDefine = fields.encodeDefine;\n    this.metaRawOption = fields.metaRawOption;\n  }\n\n  return SourceImpl;\n}();\n\nexport function isSourceInstance(val) {\n  return val instanceof SourceImpl;\n}\nexport function createSource(sourceData, thisMetaRawOption, // can be null. If not provided, auto detect it from `sourceData`.\nsourceFormat, encodeDefine // can be null\n) {\n  sourceFormat = sourceFormat || detectSourceFormat(sourceData);\n  var seriesLayoutBy = thisMetaRawOption.seriesLayoutBy;\n  var determined = determineSourceDimensions(sourceData, sourceFormat, seriesLayoutBy, thisMetaRawOption.sourceHeader, thisMetaRawOption.dimensions);\n  var source = new SourceImpl({\n    data: sourceData,\n    sourceFormat: sourceFormat,\n    seriesLayoutBy: seriesLayoutBy,\n    dimensionsDefine: determined.dimensionsDefine,\n    startIndex: determined.startIndex,\n    dimensionsDetectedCount: determined.dimensionsDetectedCount,\n    encodeDefine: makeEncodeDefine(encodeDefine),\n    metaRawOption: clone(thisMetaRawOption)\n  });\n  return source;\n}\n/**\n * Wrap original series data for some compatibility cases.\n */\n\nexport function createSourceFromSeriesDataOption(data) {\n  return new SourceImpl({\n    data: data,\n    sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL\n  });\n}\n/**\n * Clone source but excludes source data.\n */\n\nexport function cloneSourceShallow(source) {\n  return new SourceImpl({\n    data: source.data,\n    sourceFormat: source.sourceFormat,\n    seriesLayoutBy: source.seriesLayoutBy,\n    dimensionsDefine: clone(source.dimensionsDefine),\n    startIndex: source.startIndex,\n    dimensionsDetectedCount: source.dimensionsDetectedCount,\n    encodeDefine: makeEncodeDefine(source.encodeDefine)\n  });\n}\n\nfunction makeEncodeDefine(encodeDefine) {\n  // null means user not specify `series.encode`.\n  return encodeDefine ? createHashMap(encodeDefine) : null;\n}\n/**\n * Note: An empty array will be detected as `SOURCE_FORMAT_ARRAY_ROWS`.\n */\n\n\nexport function detectSourceFormat(data) {\n  var sourceFormat = SOURCE_FORMAT_UNKNOWN;\n\n  if (isTypedArray(data)) {\n    sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;\n  } else if (isArray(data)) {\n    // FIXME Whether tolerate null in top level array?\n    if (data.length === 0) {\n      sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n    }\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i];\n\n      if (item == null) {\n        continue;\n      } else if (isArray(item)) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n        break;\n      } else if (isObject(item)) {\n        sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;\n        break;\n      }\n    }\n  } else if (isObject(data)) {\n    for (var key in data) {\n      if (hasOwn(data, key) && isArrayLike(data[key])) {\n        sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;\n        break;\n      }\n    }\n  }\n\n  return sourceFormat;\n}\n/**\n * Determine the source definitions from data standalone dimensions definitions\n * are not specified.\n */\n\nfunction determineSourceDimensions(data, sourceFormat, seriesLayoutBy, sourceHeader, // standalone raw dimensions definition, like:\n// {\n//     dimensions: ['aa', 'bb', { name: 'cc', type: 'time' }]\n// }\n// in `dataset` or `series`\ndimensionsDefine) {\n  var dimensionsDetectedCount;\n  var startIndex; // PEDING: could data be null/undefined here?\n  // currently, if `dataset.source` not specified, error thrown.\n  // if `series.data` not specified, nothing rendered without error thrown.\n  // Should test these cases.\n\n  if (!data) {\n    return {\n      dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\n      startIndex: startIndex,\n      dimensionsDetectedCount: dimensionsDetectedCount\n    };\n  }\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var dataArrayRows = data; // Rule: Most of the first line are string: it is header.\n    // Caution: consider a line with 5 string and 1 number,\n    // it still can not be sure it is a head, because the\n    // 5 string may be 5 values of category columns.\n\n    if (sourceHeader === 'auto' || sourceHeader == null) {\n      arrayRowsTravelFirst(function (val) {\n        // '-' is regarded as null/undefined.\n        if (val != null && val !== '-') {\n          if (isString(val)) {\n            startIndex == null && (startIndex = 1);\n          } else {\n            startIndex = 0;\n          }\n        } // 10 is an experience number, avoid long loop.\n\n      }, seriesLayoutBy, dataArrayRows, 10);\n    } else {\n      startIndex = isNumber(sourceHeader) ? sourceHeader : sourceHeader ? 1 : 0;\n    }\n\n    if (!dimensionsDefine && startIndex === 1) {\n      dimensionsDefine = [];\n      arrayRowsTravelFirst(function (val, index) {\n        dimensionsDefine[index] = val != null ? val + '' : '';\n      }, seriesLayoutBy, dataArrayRows, Infinity);\n    }\n\n    dimensionsDetectedCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? dataArrayRows.length : dataArrayRows[0] ? dataArrayRows[0].length : null;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = objectRowsCollectDimensions(data);\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = [];\n      each(data, function (colArr, key) {\n        dimensionsDefine.push(key);\n      });\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var value0 = getDataItemValue(data[0]);\n    dimensionsDetectedCount = isArray(value0) && value0.length || 1;\n  } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!!dimensionsDefine, 'dimensions must be given if data is TypedArray.');\n    }\n  }\n\n  return {\n    startIndex: startIndex,\n    dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),\n    dimensionsDetectedCount: dimensionsDetectedCount\n  };\n}\n\nfunction objectRowsCollectDimensions(data) {\n  var firstIndex = 0;\n  var obj;\n\n  while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n  if (obj) {\n    var dimensions_1 = [];\n    each(obj, function (value, key) {\n      dimensions_1.push(key);\n    });\n    return dimensions_1;\n  }\n} // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n// which is reasonable. But dimension name is duplicated.\n// Returns undefined or an array contains only object without null/undefiend or string.\n\n\nfunction normalizeDimensionsOption(dimensionsDefine) {\n  if (!dimensionsDefine) {\n    // The meaning of null/undefined is different from empty array.\n    return;\n  }\n\n  var nameMap = createHashMap();\n  return map(dimensionsDefine, function (rawItem, index) {\n    rawItem = isObject(rawItem) ? rawItem : {\n      name: rawItem\n    }; // Other fields will be discarded.\n\n    var item = {\n      name: rawItem.name,\n      displayName: rawItem.displayName,\n      type: rawItem.type\n    }; // User can set null in dimensions.\n    // We dont auto specify name, othewise a given name may\n    // cause it be refered unexpectedly.\n\n    if (item.name == null) {\n      return item;\n    } // Also consider number form like 2012.\n\n\n    item.name += ''; // User may also specify displayName.\n    // displayName will always exists except user not\n    // specified or dim name is not specified or detected.\n    // (A auto generated dim name will not be used as\n    // displayName).\n\n    if (item.displayName == null) {\n      item.displayName = item.name;\n    }\n\n    var exist = nameMap.get(item.name);\n\n    if (!exist) {\n      nameMap.set(item.name, {\n        count: 1\n      });\n    } else {\n      item.name += '-' + exist.count++;\n    }\n\n    return item;\n  });\n}\n\nfunction arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n  if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      cb(data[i] ? data[i][0] : null, i);\n    }\n  } else {\n    var value0 = data[0] || [];\n\n    for (var i = 0; i < value0.length && i < maxLoop; i++) {\n      cb(value0[i], i);\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _a, _b, _c; // TODO\n// ??? refactor? check the outer usage of data provider.\n// merge with defaultDimValueGetter?\n\n\nimport { isTypedArray, extend, assert, each, isObject, bind } from 'zrender/lib/core/util';\nimport { getDataItemValue } from '../../util/model';\nimport { createSourceFromSeriesDataOption, isSourceInstance } from '../Source';\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SERIES_LAYOUT_BY_COLUMN, SERIES_LAYOUT_BY_ROW } from '../../util/types';\nvar providerMethods;\nvar mountMethods;\n/**\n * If normal array used, mutable chunk size is supported.\n * If typed array used, chunk size must be fixed.\n */\n\nvar DefaultDataProvider =\n/** @class */\nfunction () {\n  function DefaultDataProvider(sourceParam, dimSize) {\n    // let source: Source;\n    var source = !isSourceInstance(sourceParam) ? createSourceFromSeriesDataOption(sourceParam) : sourceParam; // declare source is Source;\n\n    this._source = source;\n    var data = this._data = source.data; // Typed array. TODO IE10+?\n\n    if (source.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (dimSize == null) {\n          throw new Error('Typed array data must specify dimension size');\n        }\n      }\n\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n\n    mountMethods(this, data, source);\n  }\n\n  DefaultDataProvider.prototype.getSource = function () {\n    return this._source;\n  };\n\n  DefaultDataProvider.prototype.count = function () {\n    return 0;\n  };\n\n  DefaultDataProvider.prototype.getItem = function (idx, out) {\n    return;\n  };\n\n  DefaultDataProvider.prototype.appendData = function (newData) {};\n\n  DefaultDataProvider.prototype.clean = function () {};\n\n  DefaultDataProvider.protoInitialize = function () {\n    // PENDING: To avoid potential incompat (e.g., prototype\n    // is visited somewhere), still init them on prototype.\n    var proto = DefaultDataProvider.prototype;\n    proto.pure = false;\n    proto.persistent = true;\n  }();\n\n  DefaultDataProvider.internalField = function () {\n    var _a;\n\n    mountMethods = function (provider, data, source) {\n      var sourceFormat = source.sourceFormat;\n      var seriesLayoutBy = source.seriesLayoutBy;\n      var startIndex = source.startIndex;\n      var dimsDef = source.dimensionsDefine;\n      var methods = providerMethods[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n\n      if (process.env.NODE_ENV !== 'production') {\n        assert(methods, 'Invalide sourceFormat: ' + sourceFormat);\n      }\n\n      extend(provider, methods);\n\n      if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n        provider.getItem = getItemForTypedArray;\n        provider.count = countForTypedArray;\n        provider.fillStorage = fillStorageForTypedArray;\n      } else {\n        var rawItemGetter = getRawSourceItemGetter(sourceFormat, seriesLayoutBy);\n        provider.getItem = bind(rawItemGetter, null, data, startIndex, dimsDef);\n        var rawCounter = getRawSourceDataCounter(sourceFormat, seriesLayoutBy);\n        provider.count = bind(rawCounter, null, data, startIndex, dimsDef);\n      }\n    };\n\n    var getItemForTypedArray = function (idx, out) {\n      idx = idx - this._offset;\n      out = out || [];\n      var data = this._data;\n      var dimSize = this._dimSize;\n      var offset = dimSize * idx;\n\n      for (var i = 0; i < dimSize; i++) {\n        out[i] = data[offset + i];\n      }\n\n      return out;\n    };\n\n    var fillStorageForTypedArray = function (start, end, storage, extent) {\n      var data = this._data;\n      var dimSize = this._dimSize;\n\n      for (var dim = 0; dim < dimSize; dim++) {\n        var dimExtent = extent[dim];\n        var min = dimExtent[0] == null ? Infinity : dimExtent[0];\n        var max = dimExtent[1] == null ? -Infinity : dimExtent[1];\n        var count = end - start;\n        var arr = storage[dim];\n\n        for (var i = 0; i < count; i++) {\n          // appendData with TypedArray will always do replace in provider.\n          var val = data[i * dimSize + dim];\n          arr[start + i] = val;\n          val < min && (min = val);\n          val > max && (max = val);\n        }\n\n        dimExtent[0] = min;\n        dimExtent[1] = max;\n      }\n    };\n\n    var countForTypedArray = function () {\n      return this._data ? this._data.length / this._dimSize : 0;\n    };\n\n    providerMethods = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = {\n      pure: true,\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    }, _a[SOURCE_FORMAT_OBJECT_ROWS] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_KEYED_COLUMNS] = {\n      pure: true,\n      appendData: function (newData) {\n        var data = this._data;\n        each(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    }, _a[SOURCE_FORMAT_ORIGINAL] = {\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_TYPED_ARRAY] = {\n      persistent: false,\n      pure: true,\n      appendData: function (newData) {\n        if (process.env.NODE_ENV !== 'production') {\n          assert(isTypedArray(newData), 'Added data must be TypedArray if data in initialization is TypedArray');\n        }\n\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }, _a);\n\n    function appendDataSimply(newData) {\n      for (var i = 0; i < newData.length; i++) {\n        this._data.push(newData[i]);\n      }\n    }\n  }();\n\n  return DefaultDataProvider;\n}();\n\nexport { DefaultDataProvider };\n\nvar getItemSimply = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx];\n};\n\nvar rawSourceItemGetterMap = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx + startIndex];\n}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef, idx) {\n  idx += startIndex;\n  var item = [];\n  var data = rawData;\n\n  for (var i = 0; i < data.length; i++) {\n    var row = data[i];\n    item.push(row ? row[idx] : null);\n  }\n\n  return item;\n}, _a[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef, idx) {\n  var item = [];\n\n  for (var i = 0; i < dimsDef.length; i++) {\n    var dimName = dimsDef[i].name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (dimName == null) {\n        throw new Error();\n      }\n    }\n\n    var col = rawData[dimName];\n    item.push(col ? col[idx] : null);\n  }\n\n  return item;\n}, _a[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a);\nexport function getRawSourceItemGetter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceItemGetterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not suppport get item on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n\n  return method;\n}\n\nvar countSimply = function (rawData, startIndex, dimsDef) {\n  return rawData.length;\n};\n\nvar rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef) {\n  return Math.max(0, rawData.length - startIndex);\n}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef) {\n  var row = rawData[0];\n  return row ? Math.max(0, row.length - startIndex) : 0;\n}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef) {\n  var dimName = dimsDef[0].name;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (dimName == null) {\n      throw new Error();\n    }\n  }\n\n  var col = rawData[dimName];\n  return col ? col.length : 0;\n}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);\nexport function getRawSourceDataCounter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceDataCounterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not suppport count on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n\n  return method;\n}\n\nvar getRawValueSimply = function (dataItem, dimIndex, dimName) {\n  return dimIndex != null ? dataItem[dimIndex] : dataItem;\n};\n\nvar rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function (dataItem, dimIndex, dimName) {\n  return dimIndex != null ? dataItem[dimName] : dataItem;\n}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function (dataItem, dimIndex, dimName) {\n  // FIXME: In some case (markpoint in geo (geo-map.html)),\n  // dataItem is {coord: [...]}\n  var value = getDataItemValue(dataItem);\n  return dimIndex == null || !(value instanceof Array) ? value : value[dimIndex];\n}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);\nexport function getRawSourceValueGetter(sourceFormat) {\n  var method = rawSourceValueGetterMap[sourceFormat];\n\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not suppport get value on \"' + sourceFormat + '\".');\n  }\n\n  return method;\n}\n\nfunction getMethodMapKey(sourceFormat, seriesLayoutBy) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + '_' + seriesLayoutBy : sourceFormat;\n} // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n// Consider persistent.\n// Caution: why use raw value to display on label or tooltip?\n// A reason is to avoid format. For example time value we do not know\n// how to format is expected. More over, if stack is used, calculated\n// value may be 0.91000000001, which have brings trouble to display.\n// TODO: consider how to treat null/undefined/NaN when display?\n\n\nexport function retrieveRawValue(data, dataIndex, dim // If dimIndex is null/undefined, return OptionDataItem.\n// Otherwise, return OptionDataValue.\n) {\n  if (!data) {\n    return;\n  } // Consider data may be not persistent.\n\n\n  var dataItem = data.getRawDataItem(dataIndex);\n\n  if (dataItem == null) {\n    return;\n  }\n\n  var sourceFormat = data.getProvider().getSource().sourceFormat;\n  var dimName;\n  var dimIndex;\n  var dimInfo = data.getDimensionInfo(dim);\n\n  if (dimInfo) {\n    dimName = dimInfo.name;\n    dimIndex = dimInfo.index;\n  }\n\n  return getRawSourceValueGetter(sourceFormat)(dataItem, dimIndex, dimName);\n}\n/**\n * Compatible with some cases (in pie, map) like:\n * data: [{name: 'xx', value: 5, selected: true}, ...]\n * where only sourceFormat is 'original' and 'objectRows' supported.\n *\n * // TODO\n * Supported detail options in data item when using 'arrayRows'.\n *\n * @param data\n * @param dataIndex\n * @param attr like 'selected'\n */\n\nexport function retrieveRawAttr(data, dataIndex, attr) {\n  if (!data) {\n    return;\n  }\n\n  var sourceFormat = data.getProvider().getSource().sourceFormat;\n\n  if (sourceFormat !== SOURCE_FORMAT_ORIGINAL && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n    return;\n  }\n\n  var dataItem = data.getRawDataItem(dataIndex);\n\n  if (sourceFormat === SOURCE_FORMAT_ORIGINAL && !isObject(dataItem)) {\n    dataItem = null;\n  }\n\n  if (dataItem) {\n    return dataItem[attr];\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, createHashMap, assert } from 'zrender/lib/core/util';\nimport { VISUAL_DIMENSIONS } from '../../util/types';\nexport function summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n} // FIXME:TS should be type `AxisType`\n\n\nexport function getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     let dimensions = data.dimensions.slice();\n//     let valueType;\n//     let valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\n\nvar DataDimensionInfo =\n/** @class */\nfunction () {\n  /**\n   * @param opt All of the fields will be shallow copied.\n   */\n  function DataDimensionInfo(opt) {\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip: number optional,\n     *     label: number optional,\n     *     itemName: number optional,\n     *     seriesName: number optional,\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.tooltip`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     */\n    this.otherDims = {};\n\n    if (opt != null) {\n      zrUtil.extend(this, opt);\n    }\n  }\n\n  return DataDimensionInfo;\n}();\n\n;\nexport default DataDimensionInfo;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseDate, numericToNumber } from '../../util/number';\nimport { createHashMap, trim, hasOwn } from 'zrender/lib/core/util';\nimport { throwError } from '../../util/log';\n/**\n * Convert raw the value in to inner value in List.\n *\n * [Performance sensitive]\n *\n * [Caution]: this is the key logic of user value parser.\n * For backward compatibiliy, do not modify it until have to!\n */\n\nexport function parseDataValue(value, // For high performance, do not omit the second param.\nopt) {\n  // Performance sensitive.\n  var dimType = opt && opt.type;\n\n  if (dimType === 'ordinal') {\n    // If given value is a category string\n    var ordinalMeta = opt && opt.ordinalMeta;\n    return ordinalMeta ? ordinalMeta.parseAndCollect(value) : value;\n  }\n\n  if (dimType === 'time' // spead up when using timestamp\n  && typeof value !== 'number' && value != null && value !== '-') {\n    value = +parseDate(value);\n  } // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n  // number-like string (like ' 123 ') can be converted to a number.\n  // where null/undefined or other string will be converted to NaN.\n\n\n  return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\n  // If object, also parse to NaN\n  : +value;\n}\n;\nvar valueParserMap = createHashMap({\n  'number': function (val) {\n    // Do not use `numericToNumber` here. We have by defualt `numericToNumber`.\n    // Here the number parser can have loose rule:\n    // enable to cut suffix: \"120px\" => 120, \"14%\" => 14.\n    return parseFloat(val);\n  },\n  'time': function (val) {\n    // return timestamp.\n    return +parseDate(val);\n  },\n  'trim': function (val) {\n    return typeof val === 'string' ? trim(val) : val;\n  }\n});\nexport function getRawValueParser(type) {\n  return valueParserMap.get(type);\n}\nvar ORDER_COMPARISON_OP_MAP = {\n  lt: function (lval, rval) {\n    return lval < rval;\n  },\n  lte: function (lval, rval) {\n    return lval <= rval;\n  },\n  gt: function (lval, rval) {\n    return lval > rval;\n  },\n  gte: function (lval, rval) {\n    return lval >= rval;\n  }\n};\n\nvar FilterOrderComparator =\n/** @class */\nfunction () {\n  function FilterOrderComparator(op, rval) {\n    if (typeof rval !== 'number') {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.';\n      }\n\n      throwError(errMsg);\n    }\n\n    this._opFn = ORDER_COMPARISON_OP_MAP[op];\n    this._rvalFloat = numericToNumber(rval);\n  } // Performance sensitive.\n\n\n  FilterOrderComparator.prototype.evaluate = function (lval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    return typeof lval === 'number' ? this._opFn(lval, this._rvalFloat) : this._opFn(numericToNumber(lval), this._rvalFloat);\n  };\n\n  return FilterOrderComparator;\n}();\n\nvar SortOrderComparator =\n/** @class */\nfunction () {\n  /**\n   * @param order by defualt: 'asc'\n   * @param incomparable by defualt: Always on the tail.\n   *        That is, if 'asc' => 'max', if 'desc' => 'min'\n   *        See the definition of \"incomparable\" in [SORT_COMPARISON_RULE]\n   */\n  function SortOrderComparator(order, incomparable) {\n    var isDesc = order === 'desc';\n    this._resultLT = isDesc ? 1 : -1;\n\n    if (incomparable == null) {\n      incomparable = isDesc ? 'min' : 'max';\n    }\n\n    this._incomparable = incomparable === 'min' ? -Infinity : Infinity;\n  } // See [SORT_COMPARISON_RULE].\n  // Performance sensitive.\n\n\n  SortOrderComparator.prototype.evaluate = function (lval, rval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    var lvalTypeof = typeof lval;\n    var rvalTypeof = typeof rval;\n    var lvalFloat = lvalTypeof === 'number' ? lval : numericToNumber(lval);\n    var rvalFloat = rvalTypeof === 'number' ? rval : numericToNumber(rval);\n    var lvalNotNumeric = isNaN(lvalFloat);\n    var rvalNotNumeric = isNaN(rvalFloat);\n\n    if (lvalNotNumeric) {\n      lvalFloat = this._incomparable;\n    }\n\n    if (rvalNotNumeric) {\n      rvalFloat = this._incomparable;\n    }\n\n    if (lvalNotNumeric && rvalNotNumeric) {\n      var lvalIsStr = lvalTypeof === 'string';\n      var rvalIsStr = rvalTypeof === 'string';\n\n      if (lvalIsStr) {\n        lvalFloat = rvalIsStr ? lval : 0;\n      }\n\n      if (rvalIsStr) {\n        rvalFloat = lvalIsStr ? rval : 0;\n      }\n    }\n\n    return lvalFloat < rvalFloat ? this._resultLT : lvalFloat > rvalFloat ? -this._resultLT : 0;\n  };\n\n  return SortOrderComparator;\n}();\n\nexport { SortOrderComparator };\n\nvar FilterEqualityComparator =\n/** @class */\nfunction () {\n  function FilterEqualityComparator(isEq, rval) {\n    this._rval = rval;\n    this._isEQ = isEq;\n    this._rvalTypeof = typeof rval;\n    this._rvalFloat = numericToNumber(rval);\n  } // Performance sensitive.\n\n\n  FilterEqualityComparator.prototype.evaluate = function (lval) {\n    var eqResult = lval === this._rval;\n\n    if (!eqResult) {\n      var lvalTypeof = typeof lval;\n\n      if (lvalTypeof !== this._rvalTypeof && (lvalTypeof === 'number' || this._rvalTypeof === 'number')) {\n        eqResult = numericToNumber(lval) === this._rvalFloat;\n      }\n    }\n\n    return this._isEQ ? eqResult : !eqResult;\n  };\n\n  return FilterEqualityComparator;\n}();\n/**\n * [FILTER_COMPARISON_RULE]\n * `lt`|`lte`|`gt`|`gte`:\n * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.\n * `eq`:\n * + If same type, compare with `===`.\n * + If there is one number, convert to number (`numericToNumber`) to compare.\n * + Else return `false`.\n * `ne`:\n * + Not `eq`.\n *\n *\n * [SORT_COMPARISON_RULE]\n * All the values are grouped into three categories:\n * + \"numeric\" (number and numeric string)\n * + \"non-numeric-string\" (string that excluding numeric string)\n * + \"others\"\n * \"numeric\" vs \"numeric\": values are ordered by number order.\n * \"non-numeric-string\" vs \"non-numeric-string\": values are ordered by ES spec (#sec-abstract-relational-comparison).\n * \"others\" vs \"others\": do not change order (always return 0).\n * \"numeric\" vs \"non-numeric-string\": \"non-numeric-string\" is treated as \"incomparable\".\n * \"number\" vs \"others\": \"others\" is treated as \"incomparable\".\n * \"non-numeric-string\" vs \"others\": \"others\" is treated as \"incomparable\".\n * \"incomparable\" will be seen as -Infinity or Infinity (depends on the settings).\n * MEMO:\n *   non-numeric string sort make sence when need to put the items with the same tag together.\n *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,\n *   So we treat \"numeric-string\" sorted by number order rather than string comparison.\n *\n *\n * [CHECK_LIST_OF_THE_RULE_DESIGN]\n * + Do not support string comparison until required. And also need to\n *   void the misleading of \"2\" > \"12\".\n * + Should avoid the misleading case:\n *   `\" 22 \" gte \"22\"` is `true` but `\" 22 \" eq \"22\"` is `false`.\n * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...\n * + Only \"numeric\" can be converted to comparable number, otherwise converted to NaN.\n *   See `util/number.ts#numericToNumber`.\n *\n * @return If `op` is not `RelationalOperator`, return null;\n */\n\n\nexport function createFilterComparator(op, rval) {\n  return op === 'eq' || op === 'ne' ? new FilterEqualityComparator(op === 'eq', rval) : hasOwn(ORDER_COMPARISON_OP_MAP, op) ? new FilterOrderComparator(op, rval) : null;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n\n/**\n * List for data storage\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from '../model/Model';\nimport DataDiffer from './DataDiffer';\nimport { DefaultDataProvider } from './helper/dataProvider';\nimport { summarizeDimensions } from './helper/dimensionHelper';\nimport DataDimensionInfo from './DataDimensionInfo';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../util/types';\nimport { isDataItemOption, convertOptionIdName } from '../util/model';\nimport { getECData } from '../util/innerStore';\nimport { parseDataValue } from './helper/dataValueHelper';\nimport { isSourceInstance } from './Source';\nvar mathFloor = Math.floor;\nvar isObject = zrUtil.isObject;\nvar map = zrUtil.map;\nvar UNDEFINED = 'undefined';\nvar INDEX_NOT_FOUND = -1; // Use prefix to avoid index to be the same as otherIdList[idx],\n// which will cause weird udpate animation.\n\nvar ID_PREFIX = 'e\\0\\0';\nvar dataCtors = {\n  'float': typeof Float64Array === UNDEFINED ? Array : Float64Array,\n  'int': typeof Int32Array === UNDEFINED ? Array : Int32Array,\n  // Ordinal data type can be string or int\n  'ordinal': Array,\n  'number': Array,\n  'time': Array\n}; // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n// different from the Ctor of typed array.\n\nvar CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\nvar CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\nvar CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\nvar TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx', '_nameRepeatCount'];\nvar CLONE_PROPERTIES = ['_extent', '_approximateExtent', '_rawExtent']; // -----------------------------\n// Internal method declarations:\n// -----------------------------\n\nvar defaultDimValueGetters;\nvar prepareInvertedIndex;\nvar getIndicesCtor;\nvar prepareStorage;\nvar getRawIndexWithoutIndices;\nvar getRawIndexWithIndices;\nvar getId;\nvar getIdNameFromStore;\nvar makeIdFromName;\nvar normalizeDimensions;\nvar validateDimensions;\nvar cloneListForMapAndSample;\nvar getInitialExtent;\nvar setItemDataAndSeriesIndex;\nvar transferProperties;\n\nvar List =\n/** @class */\nfunction () {\n  /**\n   * @param dimensions\n   *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   */\n  function List(dimensions, hostModel) {\n    this.type = 'list';\n    this._count = 0;\n    this._rawCount = 0;\n    this._storage = {}; // We have an extra array store here. It's faster to be acessed than KV structured `_storage`.\n    // We profile the code `storage[dim]` and it seems to be KeyedLoadIC_Megamorphic instead of fast property access.\n    // Not sure why this happens. But using an extra array seems leads to faster `initData`\n    // See https://github.com/apache/incubator-echarts/pull/13314 for more explanation.\n\n    this._storageArr = [];\n    this._nameList = [];\n    this._idList = []; // Models of data option is stored sparse for optimizing memory cost\n    // Never used yet (not used yet).\n    // private _optionModels: Model[] = [];\n    // Global visual properties after visual coding\n\n    this._visual = {}; // Globel layout properties.\n\n    this._layout = {}; // Item visual properties after visual coding\n\n    this._itemVisuals = []; // Item layout properties after layout\n\n    this._itemLayouts = []; // Graphic elemnents\n\n    this._graphicEls = []; // Raw extent will not be cloned, but only transfered.\n    // It will not be calculated util needed.\n\n    this._rawExtent = {};\n    this._extent = {}; // key: dim, value: extent\n\n    this._approximateExtent = {};\n    this._calculationInfo = {}; // Having detected that there is data item is non primitive type\n    // (in type `OptionDataItemObject`).\n    // Like `data: [ { value: xx, itemStyle: {...} }, ...]`\n    // At present it only happen in `SOURCE_FORMAT_ORIGINAL`.\n\n    this.hasItemOption = true; // Methods that create a new list based on this list should be listed here.\n    // Notice that those method should `RETURN` the new list.\n\n    this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'lttbDownSample', 'map']; // Methods that change indices of this list should be listed here.\n\n    this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n    this.DOWNSAMPLE_METHODS = ['downSample', 'lttbDownSample'];\n    /**\n     * Get raw data index.\n     * Do not initialize.\n     * Default `getRawIndex`. And it can be changed.\n     */\n\n    this.getRawIndex = getRawIndexWithoutIndices;\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimInfoInput = dimensions[i];\n      var dimensionInfo = zrUtil.isString(dimInfoInput) ? new DataDimensionInfo({\n        name: dimInfoInput\n      }) : !(dimInfoInput instanceof DataDimensionInfo) ? new DataDimensionInfo(dimInfoInput) : dimInfoInput;\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n\n      var otherDims = dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      dimensionInfo.index = i;\n\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n\n      if (otherDims.itemName === 0) {\n        this._nameDimIdx = i;\n        this._nameOrdinalMeta = dimensionInfo.ordinalMeta;\n      }\n\n      if (otherDims.itemId === 0) {\n        this._idDimIdx = i;\n        this._idOrdinalMeta = dimensionInfo.ordinalMeta;\n      }\n    }\n\n    this.dimensions = dimensionNames;\n    this._dimensionInfos = dimensionInfos;\n    this.hostModel = hostModel; // Cache summary info for fast visit. See \"dimensionHelper\".\n\n    this._dimensionsSummary = summarizeDimensions(this);\n    this._invertedIndicesMap = invertedIndicesMap;\n    this.userOutput = this._dimensionsSummary.userOutput;\n  }\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `this.dimensions`, it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatbility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * Get dimension name\n   * @param dim See above.\n   * @return Concrete dim name.\n   */\n\n\n  List.prototype.getDimension = function (dim) {\n    if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n    || !isNaN(dim) && !this._dimensionInfos.hasOwnProperty(dim)) {\n      dim = this.dimensions[dim];\n    }\n\n    return dim;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n\n\n  List.prototype.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._dimensionInfos[this.getDimension(dim)];\n  };\n  /**\n   * concrete dimension name list on coord.\n   */\n\n\n  List.prototype.getDimensionsOnCoord = function () {\n    return this._dimensionsSummary.dataDimsOnCoord.slice();\n  };\n\n  List.prototype.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimensionsSummary;\n\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n\n    var dims = dimensionsSummary.encode[coordDim];\n    return dims ? dims[idx] : null;\n  };\n\n  List.prototype.mapDimensionsAll = function (coordDim) {\n    var dimensionsSummary = this._dimensionsSummary;\n    var dims = dimensionsSummary.encode[coordDim];\n    return (dims || []).slice();\n  };\n  /**\n   * Initialize from data\n   * @param data source or data or data provider.\n   * @param nameList The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   */\n\n\n  List.prototype.initData = function (data, nameList, dimValueGetter) {\n    var notProvider = isSourceInstance(data) || zrUtil.isArrayLike(data);\n    var provider = notProvider ? new DefaultDataProvider(data, this.dimensions.length) : data;\n\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(notProvider || zrUtil.isFunction(provider.getItem) && zrUtil.isFunction(provider.count), 'Inavlid data provider.');\n    }\n\n    this._rawData = provider;\n    var sourceFormat = provider.getSource().sourceFormat; // Clear\n\n    this._storage = {};\n    this._indices = null;\n    this._dontMakeIdFromName = this._idDimIdx != null || sourceFormat === SOURCE_FORMAT_TYPED_ARRAY // Cosndier performance.\n    || !!provider.fillStorage;\n    this._nameList = (nameList || []).slice();\n    this._idList = [];\n    this._nameRepeatCount = {};\n\n    if (!dimValueGetter) {\n      this.hasItemOption = false;\n    }\n\n    this.defaultDimValueGetter = defaultDimValueGetters[sourceFormat]; // Default dim value getter\n\n    this._dimValueGetter = dimValueGetter = dimValueGetter || this.defaultDimValueGetter;\n    this._dimValueGetterArrayRows = defaultDimValueGetters.arrayRows; // Reset raw extent.\n\n    this._rawExtent = {};\n\n    this._initDataFromProvider(0, provider.count()); // If data has no item option.\n\n\n    if (provider.pure) {\n      this.hasItemOption = false;\n    }\n  };\n\n  List.prototype.getProvider = function () {\n    return this._rawData;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n\n\n  List.prototype.appendData = function (data) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(!this._indices, 'appendData can only be called on raw data.');\n    }\n\n    var rawData = this._rawData;\n    var start = this.count();\n    rawData.appendData(data);\n    var end = rawData.count();\n\n    if (!rawData.persistent) {\n      end += start;\n    }\n\n    this._initDataFromProvider(start, end, true);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to storage.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exaclty cooresponding to a dimension.\n   */\n\n\n  List.prototype.appendValues = function (values, names) {\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, names ? names.length : 0);\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      prepareStorage(storage, this._dimensionInfos[dim], end, true);\n    }\n\n    var rawExtentArr = map(dimensions, function (dim) {\n      return rawExtent[dim];\n    });\n    var storageArr = this._storageArr = map(dimensions, function (dim) {\n      return storage[dim];\n    });\n    var emptyDataItem = [];\n\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start; // Store the data by dimensions\n\n      for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n        var dim = dimensions[dimIdx];\n\n        var val = this._dimValueGetterArrayRows(values[sourceIdx] || emptyDataItem, dim, sourceIdx, dimIdx);\n\n        storageArr[dimIdx][idx] = val;\n        var dimRawExtent = rawExtentArr[dimIdx];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n\n      if (names) {\n        this._nameList[idx] = names[sourceIdx];\n\n        if (!this._dontMakeIdFromName) {\n          makeIdFromName(this, idx);\n        }\n      }\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  List.prototype._initDataFromProvider = function (start, end, append) {\n    if (start >= end) {\n      return;\n    }\n\n    var rawData = this._rawData;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var dimensionInfoMap = this._dimensionInfos;\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var rawExtent = this._rawExtent;\n    var sourceFormat = rawData.getSource().sourceFormat;\n    var isFormatOriginal = sourceFormat === SOURCE_FORMAT_ORIGINAL;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      prepareStorage(storage, dimensionInfoMap[dim], end, append);\n    }\n\n    var storageArr = this._storageArr = map(dimensions, function (dim) {\n      return storage[dim];\n    });\n    var rawExtentArr = map(dimensions, function (dim) {\n      return rawExtent[dim];\n    });\n\n    if (rawData.fillStorage) {\n      rawData.fillStorage(start, end, storageArr, rawExtentArr);\n    } else {\n      var dataItem = [];\n\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        dataItem = rawData.getItem(idx, dataItem); // Each data item is value\n        // [1, 2]\n        // 2\n        // Bar chart, line chart which uses category axis\n        // only gives the 'y' value. 'x' value is the indices of category\n        // Use a tempValue to normalize the value to be a (x, y) value\n        // Store the data by dimensions\n\n        for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n          var dim = dimensions[dimIdx];\n          var dimStorage = storageArr[dimIdx]; // PENDING NULL is empty or zero\n\n          var val = this._dimValueGetter(dataItem, dim, idx, dimIdx);\n\n          dimStorage[idx] = val;\n          var dimRawExtent = rawExtentArr[dimIdx];\n          val < dimRawExtent[0] && (dimRawExtent[0] = val);\n          val > dimRawExtent[1] && (dimRawExtent[1] = val);\n        } // If dataItem is {name: ...} or {id: ...}, it has highest priority.\n        // This kind of ids and names are always stored `_nameList` and `_idList`.\n\n\n        if (isFormatOriginal && !rawData.pure && dataItem) {\n          var itemName = dataItem.name;\n\n          if (nameList[idx] == null && itemName != null) {\n            nameList[idx] = convertOptionIdName(itemName, null);\n          }\n\n          var itemId = dataItem.id;\n\n          if (idList[idx] == null && itemId != null) {\n            idList[idx] = convertOptionIdName(itemId, null);\n          }\n        }\n\n        if (!this._dontMakeIdFromName) {\n          makeIdFromName(this, idx);\n        }\n      }\n    }\n\n    if (!rawData.persistent && rawData.clean) {\n      // Clean unused data if data source is typed array.\n      rawData.clean();\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  List.prototype.count = function () {\n    return this._count;\n  };\n\n  List.prototype.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this);\n      newIndices = new Ctor(this.count());\n\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n\n    return newIndices;\n  }; // Get data by index of dimension.\n  // Because in v8 access array by number variable is faster than access object by string variable\n  // Not sure why but the optimization just works.\n\n\n  List.prototype.getByDimIdx = function (dimIdx, idx) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n\n    var dimStore = this._storageArr[dimIdx];\n    return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   * @param dim Dim must be concrete name.\n   */\n\n\n  List.prototype.get = function (dim, idx) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n\n    var dimStore = this._storage[dim];\n    return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;\n  };\n  /**\n   * @param dim concrete dim\n   */\n\n\n  List.prototype.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n\n    var dimStore = this._storage[dim];\n    return dimStore ? dimStore[rawIdx] : NaN;\n  };\n\n  List.prototype.getValues = function (dimensions, idx) {\n    var values = [];\n\n    if (!zrUtil.isArray(dimensions)) {\n      // stack = idx;\n      idx = dimensions;\n      dimensions = this.dimensions;\n    }\n\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n      values.push(this.get(dimensions[i], idx\n      /*, stack */\n      ));\n    }\n\n    return values;\n  };\n  /**\n   * If value is NaN. Inlcuding '-'\n   * Only check the coord dimensions.\n   */\n\n\n  List.prototype.hasValue = function (idx) {\n    var dataDimsOnCoord = this._dimensionsSummary.dataDimsOnCoord;\n\n    for (var i = 0, len = dataDimsOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this.get(dataDimsOnCoord[i], idx))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Get extent of data in one dimension\n   */\n\n\n  List.prototype.getDataExtent = function (dim) {\n    // Make sure use concrete dim as cache name.\n    dim = this.getDimension(dim);\n    var dimData = this._storage[dim];\n    var initialExtent = getInitialExtent(); // stack = !!((stack || false) && this.getCalculationInfo(dim));\n\n    if (!dimData) {\n      return initialExtent;\n    } // Make more strict checkings to ensure hitting cache.\n\n\n    var currEnd = this.count(); // let cacheName = [dim, !!stack].join('_');\n    // let cacheName = dim;\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n\n    var useRaw = !this._indices; // && !stack;\n\n    var dimExtent;\n\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n\n    dimExtent = this._extent[dim];\n\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n\n    for (var i = 0; i < currEnd; i++) {\n      var rawIdx = this.getRawIndex(i);\n      var value = dimData[rawIdx];\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\n   * PENDING: In fact currently this function is only used to short-circuit\n   * the calling of `scale.unionExtentFromData` when data have been filtered by modules\n   * like \"dataZoom\". `scale.unionExtentFromData` is used to calculate data extent for series on\n   * an axis, but if a \"axis related data filter module\" is used, the extent of the axis have\n   * been fixed and no need to calling `scale.unionExtentFromData` actually.\n   * But if we add \"custom data filter\" in future, which is not \"axis related\", this method may\n   * be still needed.\n   *\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n\n\n  List.prototype.getApproximateExtent = function (dim) {\n    dim = this.getDimension(dim);\n    return this._approximateExtent[dim] || this.getDataExtent(dim);\n  };\n  /**\n   * Calculate extent on a filtered data might be time consuming.\n   * Approximate extent is only used for: calculte extent of filtered data outside.\n   */\n\n\n  List.prototype.setApproximateExtent = function (extent, dim) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n\n  List.prototype.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n\n  List.prototype.setCalculationInfo = function (key, value) {\n    isObject(key) ? zrUtil.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * Get sum of data in one dimension\n   */\n\n\n  List.prototype.getSum = function (dim) {\n    var dimData = this._storage[dim];\n    var sum = 0;\n\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i);\n\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n\n    return sum;\n  };\n  /**\n   * Get median of data in one dimension\n   */\n\n\n  List.prototype.getMedian = function (dim) {\n    var dimDataArray = []; // map all data of one dimension\n\n    this.each(dim, function (val) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    }); // TODO\n    // Use quick select?\n\n    var sortedDimDataArray = dimDataArray.sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count(); // calculate median\n\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  }; // /**\n  //  * Retreive the index with given value\n  //  * @param {string} dim Concrete dimension.\n  //  * @param {number} value\n  //  * @return {number}\n  //  */\n  // Currently incorrect: should return dataIndex but not rawIndex.\n  // Do not fix it until this method is to be used somewhere.\n  // FIXME Precision of float value\n  // indexOf(dim, value) {\n  //     let storage = this._storage;\n  //     let dimData = storage[dim];\n  //     let chunkSize = this._chunkSize;\n  //     if (dimData) {\n  //         for (let i = 0, len = this.count(); i < len; i++) {\n  //             let chunkIndex = mathFloor(i / chunkSize);\n  //             let chunkOffset = i % chunkSize;\n  //             if (dimData[chunkIndex][chunkOffset] === value) {\n  //                 return i;\n  //             }\n  //         }\n  //     }\n  //     return -1;\n  // }\n\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param dim concrete dim\n   * @param value ordinal index\n   * @return rawIndex\n   */\n\n\n  List.prototype.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!invertedIndices) {\n        throw new Error('Do not supported yet');\n      }\n    }\n\n    var rawIndex = invertedIndices[value];\n\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n\n    return rawIndex;\n  };\n  /**\n   * Retreive the index with given name\n   */\n\n\n  List.prototype.indexOfName = function (name) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index with given raw data index\n   */\n\n\n  List.prototype.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n\n    if (!this._indices) {\n      return rawIndex;\n    } // Indices are ascending\n\n\n    var indices = this._indices; // If rawIndex === dataIndex\n\n    var rawDataIndex = indices[rawIndex];\n\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n\n    var left = 0;\n    var right = this._count - 1;\n\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index of nearest value\n   * @param dim\n   * @param value\n   * @param [maxDistance=Infinity]\n   * @return If and only if multiple indices has\n   *         the same value, they are put to the result.\n   */\n\n\n  List.prototype.indicesOfNearest = function (dim, value, maxDistance) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var nearestIndices = [];\n\n    if (!dimData) {\n      return nearestIndices;\n    }\n\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0; // Check the test case of `test/ut/spec/data/List.js`.\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var dataIndex = this.getRawIndex(i);\n      var diff = value - dimData[dataIndex];\n      var dist = Math.abs(diff);\n\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we chose the one that `diff >= 0` in this csae.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = i;\n        }\n      }\n    }\n\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  /**\n   * Get raw data item\n   */\n\n\n  List.prototype.getRawDataItem = function (idx) {\n    if (!this._rawData.persistent) {\n      var val = [];\n\n      for (var i = 0; i < this.dimensions.length; i++) {\n        var dim = this.dimensions[i];\n        val.push(this.get(dim, idx));\n      }\n\n      return val;\n    } else {\n      return this._rawData.getItem(this.getRawIndex(idx));\n    }\n  };\n  /**\n   * @return Never be null/undefined. `number` will be converted to string. Becuase:\n   * In most cases, name is used in display, where returning a string is more convenient.\n   * In other cases, name is used in query (see `indexOfName`), where we can keep the\n   * rule that name `2` equals to name `'2'`.\n   */\n\n\n  List.prototype.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    var name = this._nameList[rawIndex];\n\n    if (name == null && this._nameDimIdx != null) {\n      name = getIdNameFromStore(this, this._nameDimIdx, this._nameOrdinalMeta, rawIndex);\n    }\n\n    if (name == null) {\n      name = '';\n    }\n\n    return name;\n  };\n  /**\n   * @return Never null/undefined. `number` will be converted to string. Becuase:\n   * In all cases having encountered at present, id is used in making diff comparison, which\n   * are usually based on hash map. We can keep the rule that the internal id are always string\n   * (treat `2` is the same as `'2'`) to make the related logic simple.\n   */\n\n\n  List.prototype.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n\n  List.prototype.each = function (dims, cb, ctx, ctxCompat) {\n    'use strict';\n\n    var _this = this;\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dims === 'function') {\n      ctxCompat = ctx;\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    var fCtx = ctx || ctxCompat || this;\n    var dimNames = map(normalizeDimensions(dims), this.getDimension, this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      validateDimensions(this, dimNames);\n    }\n\n    var dimSize = dimNames.length;\n    var dimIndices = map(dimNames, function (dimName) {\n      return _this._dimensionInfos[dimName].index;\n    });\n    var storageArr = this._storageArr;\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var rawIdx = this.getRawIndex(i); // Simple optimization\n\n      switch (dimSize) {\n        case 0:\n          cb.call(fCtx, i);\n          break;\n\n        case 1:\n          cb.call(fCtx, storageArr[dimIndices[0]][rawIdx], i);\n          break;\n\n        case 2:\n          cb.call(fCtx, storageArr[dimIndices[0]][rawIdx], storageArr[dimIndices[1]][rawIdx], i);\n          break;\n\n        default:\n          var k = 0;\n          var value = [];\n\n          for (; k < dimSize; k++) {\n            value[k] = storageArr[dimIndices[k]][rawIdx];\n          } // Index\n\n\n          value[k] = i;\n          cb.apply(fCtx, value);\n      }\n    }\n  };\n\n  List.prototype.filterSelf = function (dims, cb, ctx, ctxCompat) {\n    'use strict';\n\n    var _this = this;\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dims === 'function') {\n      ctxCompat = ctx;\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    var fCtx = ctx || ctxCompat || this;\n    var dimNames = map(normalizeDimensions(dims), this.getDimension, this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      validateDimensions(this, dimNames);\n    }\n\n    var count = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dimNames.length;\n    var offset = 0;\n    var dimIndices = map(dimNames, function (dimName) {\n      return _this._dimensionInfos[dimName].index;\n    });\n    var dim0 = dimIndices[0];\n    var storageArr = this._storageArr;\n\n    for (var i = 0; i < count; i++) {\n      var keep = void 0;\n      var rawIdx = this.getRawIndex(i); // Simple optimization\n\n      if (dimSize === 0) {\n        keep = cb.call(fCtx, i);\n      } else if (dimSize === 1) {\n        var val = storageArr[dim0][rawIdx];\n        keep = cb.call(fCtx, val, i);\n      } else {\n        var k = 0;\n\n        for (; k < dimSize; k++) {\n          value[k] = storageArr[dimIndices[k]][rawIdx];\n        }\n\n        value[k] = i;\n        keep = cb.apply(fCtx, value);\n      }\n\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < count) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n\n\n  List.prototype.selectRange = function (range) {\n    'use strict';\n\n    var _this = this;\n\n    var len = this._count;\n\n    if (!len) {\n      return;\n    }\n\n    var dimensions = [];\n\n    for (var dim in range) {\n      if (range.hasOwnProperty(dim)) {\n        dimensions.push(dim);\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      validateDimensions(this, dimensions);\n    }\n\n    var dimSize = dimensions.length;\n\n    if (!dimSize) {\n      return;\n    }\n\n    var originalCount = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dimensions[0];\n    var dimIndices = map(dimensions, function (dimName) {\n      return _this._dimensionInfos[dimName].index;\n    });\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var storageArr = this._storageArr;\n    var quickFinished = false;\n\n    if (!this._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n\n      if (dimSize === 1) {\n        var dimStorage = storageArr[dimIndices[0]];\n\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\n          // value indicates the line should be broken. But for the case like\n          // scatter plot, a data item with empty value will not be rendered,\n          // but the axis extent may be effected if some other dim of the data\n          // item has value. Fortunately it is not a significant negative effect.\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = idx;\n          }\n\n          idx++;\n        }\n\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = storageArr[dimIndices[0]];\n        var dimStorage2 = storageArr[dimIndices[1]];\n        var min2 = range[dimensions[1]][0];\n        var max2 = range[dimensions[1]][1];\n\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i];\n          var val2 = dimStorage2[i]; // Do not filter NaN, see comment above.\n\n          if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n            newIndices[offset++] = idx;\n          }\n\n          idx++;\n        }\n\n        quickFinished = true;\n      }\n    }\n\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = this.getRawIndex(i);\n          var val = storageArr[dimIndices[0]][rawIndex]; // Do not filter NaN, see comment above.\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = this.getRawIndex(i);\n\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dimensions[k];\n            var val = storageArr[dimIndices[k]][rawIndex]; // Do not filter NaN, see comment above.\n\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n\n          if (keep) {\n            newIndices[offset++] = this.getRawIndex(i);\n          }\n        }\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < originalCount) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /* eslint-enable */\n\n\n  List.prototype.mapArray = function (dims, cb, ctx, ctxCompat) {\n    'use strict';\n\n    if (typeof dims === 'function') {\n      ctxCompat = ctx;\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    ctx = ctx || ctxCompat || this;\n    var result = [];\n    this.each(dims, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, ctx);\n    return result;\n  };\n\n  List.prototype.map = function (dims, cb, ctx, ctxCompat) {\n    'use strict'; // ctxCompat just for compat echarts3\n\n    var fCtx = ctx || ctxCompat || this;\n    var dimNames = map(normalizeDimensions(dims), this.getDimension, this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      validateDimensions(this, dimNames);\n    }\n\n    var list = cloneListForMapAndSample(this, dimNames);\n    var storage = list._storage; // Following properties are all immutable.\n    // So we can reference to the same value\n\n    list._indices = this._indices;\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    var tmpRetValue = [];\n    var dimSize = dimNames.length;\n    var dataCount = this.count();\n    var values = [];\n    var rawExtent = list._rawExtent;\n\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      for (var dimIndex = 0; dimIndex < dimSize; dimIndex++) {\n        values[dimIndex] = this.get(dimNames[dimIndex], dataIndex);\n      }\n\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(fCtx, values);\n\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n\n        var rawIndex = this.getRawIndex(dataIndex);\n\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dimNames[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = storage[dim];\n\n          if (dimStore) {\n            dimStore[rawIndex] = val;\n          }\n\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n\n    return list;\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param sampleIndex Sample index for name and id\n   */\n\n\n  List.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this, [dimension]);\n    var targetStorage = list._storage;\n    var frameValues = [];\n    var frameSize = mathFloor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var rawExtentOnDim = list._rawExtent[dimension];\n    var newIndices = new (getIndicesCtor(this))(len);\n    var offset = 0;\n\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        frameValues[k] = dimStore[dataIdx];\n      }\n\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1)); // Only write value on the filtered data\n\n      dimStore[sampleFrameIdx] = value;\n\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n\n      newIndices[offset++] = sampleFrameIdx;\n    }\n\n    list._count = offset;\n    list._indices = newIndices;\n    list.getRawIndex = getRawIndexWithIndices;\n    return list;\n  };\n  /**\n   * Large data down sampling using largest-triangle-three-buckets\n   * @param {string} valueDimension\n   * @param {number} targetCount\n   */\n\n\n  List.prototype.lttbDownSample = function (valueDimension, rate) {\n    var list = cloneListForMapAndSample(this, []);\n    var targetStorage = list._storage;\n    var dimStore = targetStorage[valueDimension];\n    var len = this.count();\n    var newIndices = new (getIndicesCtor(this))(len);\n    var sampledIndex = 0;\n    var frameSize = mathFloor(1 / rate);\n    var currentRawIndex = this.getRawIndex(0);\n    var maxArea;\n    var area;\n    var nextRawIndex; // First frame use the first data.\n\n    newIndices[sampledIndex++] = currentRawIndex;\n\n    for (var i = 1; i < len - 1; i += frameSize) {\n      var nextFrameStart = Math.min(i + frameSize, len - 1);\n      var nextFrameEnd = Math.min(i + frameSize * 2, len);\n      var avgX = (nextFrameEnd + nextFrameStart) / 2;\n      var avgY = 0;\n\n      for (var idx = nextFrameStart; idx < nextFrameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n\n        if (isNaN(y)) {\n          continue;\n        }\n\n        avgY += y;\n      }\n\n      avgY /= nextFrameEnd - nextFrameStart;\n      var frameStart = i;\n      var frameEnd = Math.min(i + frameSize, len);\n      var pointAX = i - 1;\n      var pointAY = dimStore[currentRawIndex];\n      maxArea = -1;\n      nextRawIndex = frameStart; // Find a point from current frame that construct a triangel with largest area with previous selected point\n      // And the average of next frame.\n\n      for (var idx = frameStart; idx < frameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n\n        if (isNaN(y)) {\n          continue;\n        } // Calculate triangle area over three buckets\n\n\n        area = Math.abs((pointAX - avgX) * (y - pointAY) - (pointAX - idx) * (avgY - pointAY));\n\n        if (area > maxArea) {\n          maxArea = area;\n          nextRawIndex = rawIndex; // Next a is this b\n        }\n      }\n\n      newIndices[sampledIndex++] = nextRawIndex;\n      currentRawIndex = nextRawIndex; // This a is the next a (chosen b)\n    } // First frame use the last data.\n\n\n    newIndices[sampledIndex++] = this.getRawIndex(len - 1);\n    list._count = sampledIndex;\n    list._indices = newIndices;\n    list.getRawIndex = getRawIndexWithIndices;\n    return list;\n  };\n  /**\n   * Get model of one data item.\n   */\n  // TODO: Type of data item\n\n\n  List.prototype.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    var dataItem = this.getRawDataItem(idx);\n    return new Model(dataItem, hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   */\n\n\n  List.prototype.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer(otherList ? otherList.getIndices() : [], this.getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   */\n\n\n  List.prototype.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n\n  List.prototype.setVisual = function (kvObj, val) {\n    this._visual = this._visual || {};\n\n    if (isObject(kvObj)) {\n      zrUtil.extend(this._visual, kvObj);\n    } else {\n      this._visual[kvObj] = val;\n    }\n  };\n  /**\n   * Get visual property of single data item\n   */\n  // eslint-disable-next-line\n\n\n  List.prototype.getItemVisual = function (idx, key) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n\n    if (val == null) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n\n    return val;\n  };\n  /**\n   * If exists visual property of single data item\n   */\n\n\n  List.prototype.hasItemVisual = function () {\n    return this._itemVisuals.length > 0;\n  };\n  /**\n   * Make sure itemVisual property is unique\n   */\n  // TODO: use key to save visual to reduce memory.\n\n\n  List.prototype.ensureUniqueItemVisual = function (idx, key) {\n    var itemVisuals = this._itemVisuals;\n    var itemVisual = itemVisuals[idx];\n\n    if (!itemVisual) {\n      itemVisual = itemVisuals[idx] = {};\n    }\n\n    var val = itemVisual[key];\n\n    if (val == null) {\n      val = this.getVisual(key); // TODO Performance?\n\n      if (zrUtil.isArray(val)) {\n        val = val.slice();\n      } else if (isObject(val)) {\n        val = zrUtil.extend({}, val);\n      }\n\n      itemVisual[key] = val;\n    }\n\n    return val;\n  }; // eslint-disable-next-line\n\n\n  List.prototype.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject(key)) {\n      zrUtil.extend(itemVisual, key);\n    } else {\n      itemVisual[key] = value;\n    }\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n\n\n  List.prototype.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n  };\n\n  List.prototype.setLayout = function (key, val) {\n    if (isObject(key)) {\n      for (var name_1 in key) {\n        if (key.hasOwnProperty(name_1)) {\n          this.setLayout(name_1, key[name_1]);\n        }\n      }\n\n      return;\n    }\n\n    this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   */\n\n\n  List.prototype.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   */\n\n\n  List.prototype.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   */\n\n\n  List.prototype.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n\n\n  List.prototype.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   */\n\n\n  List.prototype.setItemGraphicEl = function (idx, el) {\n    var hostModel = this.hostModel;\n\n    if (el) {\n      var ecData = getECData(el); // Add data index and series index for indexing the data by element\n      // Useful in tooltip\n\n      ecData.dataIndex = idx;\n      ecData.dataType = this.dataType;\n      ecData.seriesIndex = hostModel && hostModel.seriesIndex; // TODO: not store dataIndex on children.\n\n      if (el.type === 'group') {\n        el.traverse(setItemDataAndSeriesIndex, el);\n      }\n    }\n\n    this._graphicEls[idx] = el;\n  };\n\n  List.prototype.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n\n  List.prototype.eachItemGraphicEl = function (cb, context) {\n    zrUtil.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n\n\n  List.prototype.cloneShallow = function (list) {\n    if (!list) {\n      var dimensionInfoList = map(this.dimensions, this.getDimensionInfo, this);\n      list = new List(dimensionInfoList, this.hostModel);\n    } // FIXME\n\n\n    list._storage = this._storage;\n    list._storageArr = this._storageArr;\n    transferProperties(list, this); // Clone will not change the data extent and indices\n\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n\n      if (Ctor === Array) {\n        var thisCount = this._indices.length;\n        list._indices = new Ctor(thisCount);\n\n        for (var i = 0; i < thisCount; i++) {\n          list._indices[i] = this._indices[i];\n        }\n      } else {\n        list._indices = new Ctor(this._indices);\n      }\n    } else {\n      list._indices = null;\n    }\n\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   */\n\n\n  List.prototype.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n\n    if (typeof originalMethod !== 'function') {\n      return;\n    }\n\n    this.__wrappedMethods = this.__wrappedMethods || [];\n\n    this.__wrappedMethods.push(methodName);\n\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n    };\n  }; // ----------------------------------------------------------\n  // A work around for internal method visiting private member.\n  // ----------------------------------------------------------\n\n\n  List.internalField = function () {\n    defaultDimValueGetters = {\n      arrayRows: getDimValueSimply,\n      objectRows: function (dataItem, dimName, dataIndex, dimIndex) {\n        return parseDataValue(dataItem[dimName], this._dimensionInfos[dimName]);\n      },\n      keyedColumns: getDimValueSimply,\n      original: function (dataItem, dimName, dataIndex, dimIndex) {\n        // Performance sensitive, do not use modelUtil.getDataItemValue.\n        // If dataItem is an plain object with no value field, the let `value`\n        // will be assigned with the object, but it will be tread correctly\n        // in the `convertValue`.\n        var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value); // If any dataItem is like { value: 10 }\n\n        if (!this._rawData.pure && isDataItemOption(dataItem)) {\n          this.hasItemOption = true;\n        }\n\n        return parseDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n        : value, this._dimensionInfos[dimName]);\n      },\n      typedArray: function (dataItem, dimName, dataIndex, dimIndex) {\n        return dataItem[dimIndex];\n      }\n    };\n\n    function getDimValueSimply(dataItem, dimName, dataIndex, dimIndex) {\n      return parseDataValue(dataItem[dimIndex], this._dimensionInfos[dimName]);\n    }\n\n    prepareInvertedIndex = function (list) {\n      var invertedIndicesMap = list._invertedIndicesMap;\n      zrUtil.each(invertedIndicesMap, function (invertedIndices, dim) {\n        var dimInfo = list._dimensionInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n        var ordinalMeta = dimInfo.ordinalMeta;\n\n        if (ordinalMeta) {\n          invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n          // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n          for (var i = 0; i < invertedIndices.length; i++) {\n            invertedIndices[i] = INDEX_NOT_FOUND;\n          }\n\n          for (var i = 0; i < list._count; i++) {\n            // Only support the case that all values are distinct.\n            invertedIndices[list.get(dim, i)] = i;\n          }\n        }\n      });\n    };\n\n    getIdNameFromStore = function (list, dimIdx, ordinalMeta, rawIndex) {\n      var val;\n      var chunk = list._storageArr[dimIdx];\n\n      if (chunk) {\n        val = chunk[rawIndex];\n\n        if (ordinalMeta && ordinalMeta.categories.length) {\n          val = ordinalMeta.categories[val];\n        }\n      }\n\n      return convertOptionIdName(val, null);\n    };\n\n    getIndicesCtor = function (list) {\n      // The possible max value in this._indicies is always this._rawCount despite of filtering.\n      return list._rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n    };\n\n    prepareStorage = function (storage, dimInfo, end, append) {\n      var DataCtor = dataCtors[dimInfo.type];\n      var dim = dimInfo.name;\n\n      if (append) {\n        var oldStore = storage[dim];\n        var oldLen = oldStore && oldStore.length;\n\n        if (!(oldLen === end)) {\n          var newStore = new DataCtor(end); // The cost of the copy is probably inconsiderable\n          // within the initial chunkSize.\n\n          for (var j = 0; j < oldLen; j++) {\n            newStore[j] = oldStore[j];\n          }\n\n          storage[dim] = newStore;\n        }\n      } else {\n        storage[dim] = new DataCtor(end);\n      }\n    };\n\n    getRawIndexWithoutIndices = function (idx) {\n      return idx;\n    };\n\n    getRawIndexWithIndices = function (idx) {\n      if (idx < this._count && idx >= 0) {\n        return this._indices[idx];\n      }\n\n      return -1;\n    };\n    /**\n     * @see the comment of `List['getId']`.\n     */\n\n\n    getId = function (list, rawIndex) {\n      var id = list._idList[rawIndex];\n\n      if (id == null && list._idDimIdx != null) {\n        id = getIdNameFromStore(list, list._idDimIdx, list._idOrdinalMeta, rawIndex);\n      }\n\n      if (id == null) {\n        id = ID_PREFIX + rawIndex;\n      }\n\n      return id;\n    };\n\n    normalizeDimensions = function (dimensions) {\n      if (!zrUtil.isArray(dimensions)) {\n        dimensions = dimensions != null ? [dimensions] : [];\n      }\n\n      return dimensions;\n    };\n\n    validateDimensions = function (list, dims) {\n      for (var i = 0; i < dims.length; i++) {\n        // stroage may be empty when no data, so use\n        // dimensionInfos to check.\n        if (!list._dimensionInfos[dims[i]]) {\n          console.error('Unkown dimension ' + dims[i]);\n        }\n      }\n    }; // Data in excludeDimensions is copied, otherwise transfered.\n\n\n    cloneListForMapAndSample = function (original, excludeDimensions) {\n      var allDimensions = original.dimensions;\n      var list = new List(map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n      transferProperties(list, original);\n      var storage = list._storage = {};\n      var originalStorage = original._storage;\n      var storageArr = list._storageArr = []; // Init storage\n\n      for (var i = 0; i < allDimensions.length; i++) {\n        var dim = allDimensions[i];\n\n        if (originalStorage[dim]) {\n          // Notice that we do not reset invertedIndicesMap here, becuase\n          // there is no scenario of mapping or sampling ordinal dimension.\n          if (zrUtil.indexOf(excludeDimensions, dim) >= 0) {\n            storage[dim] = cloneChunk(originalStorage[dim]);\n            list._rawExtent[dim] = getInitialExtent();\n            list._extent[dim] = null;\n          } else {\n            // Direct reference for other dimensions\n            storage[dim] = originalStorage[dim];\n          }\n\n          storageArr.push(storage[dim]);\n        }\n      }\n\n      return list;\n    };\n\n    function cloneChunk(originalChunk) {\n      var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\n\n      return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n    }\n\n    getInitialExtent = function () {\n      return [Infinity, -Infinity];\n    };\n\n    setItemDataAndSeriesIndex = function (child) {\n      var childECData = getECData(child);\n      var thisECData = getECData(this);\n      childECData.seriesIndex = thisECData.seriesIndex;\n      childECData.dataIndex = thisECData.dataIndex;\n      childECData.dataType = thisECData.dataType;\n    };\n\n    transferProperties = function (target, source) {\n      zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n        if (source.hasOwnProperty(propName)) {\n          target[propName] = source[propName];\n        }\n      });\n      target.__wrappedMethods = source.__wrappedMethods;\n      zrUtil.each(CLONE_PROPERTIES, function (propName) {\n        target[propName] = zrUtil.clone(source[propName]);\n      });\n      target._calculationInfo = zrUtil.extend({}, source._calculationInfo);\n    };\n\n    makeIdFromName = function (list, idx) {\n      var nameList = list._nameList;\n      var idList = list._idList;\n      var nameDimIdx = list._nameDimIdx;\n      var idDimIdx = list._idDimIdx;\n      var name = nameList[idx];\n      var id = idList[idx];\n\n      if (name == null && nameDimIdx != null) {\n        nameList[idx] = name = getIdNameFromStore(list, nameDimIdx, list._nameOrdinalMeta, idx);\n      }\n\n      if (id == null && idDimIdx != null) {\n        idList[idx] = id = getIdNameFromStore(list, idDimIdx, list._idOrdinalMeta, idx);\n      }\n\n      if (id == null && name != null) {\n        var nameRepeatCount = list._nameRepeatCount;\n        var nmCnt = nameRepeatCount[name] = (nameRepeatCount[name] || 0) + 1;\n        id = name;\n\n        if (nmCnt > 1) {\n          id += '__ec__' + nmCnt;\n        }\n\n        idList[idx] = id;\n      }\n    };\n  }();\n\n  return List;\n}();\n\nexport default List;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Language: English.\n */\nexport default {\n  time: {\n    month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  },\n  legend: {\n    selector: {\n      all: 'All',\n      inverse: 'Inv'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: 'Box Select',\n        polygon: 'Lasso Select',\n        lineX: 'Horizontally Select',\n        lineY: 'Vertically Select',\n        keep: 'Keep Selections',\n        clear: 'Clear Selections'\n      }\n    },\n    dataView: {\n      title: 'Data View',\n      lang: ['Data View', 'Close', 'Refresh']\n    },\n    dataZoom: {\n      title: {\n        zoom: 'Zoom',\n        back: 'Zoom Reset'\n      }\n    },\n    magicType: {\n      title: {\n        line: 'Switch to Line Chart',\n        bar: 'Switch to Bar Chart',\n        stack: 'Stack',\n        tiled: 'Tile'\n      }\n    },\n    restore: {\n      title: 'Restore'\n    },\n    saveAsImage: {\n      title: 'Save as Image',\n      lang: ['Right Click to Save Image']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: 'Pie chart',\n      bar: 'Bar chart',\n      line: 'Line chart',\n      scatter: 'Scatter plot',\n      effectScatter: 'Ripple scatter plot',\n      radar: 'Radar chart',\n      tree: 'Tree',\n      treemap: 'Treemap',\n      boxplot: 'Boxplot',\n      candlestick: 'Candlestick',\n      k: 'K line chart',\n      heatmap: 'Heat map',\n      map: 'Map',\n      parallel: 'Parallel coordinate map',\n      lines: 'Line graph',\n      graph: 'Relationship graph',\n      sankey: 'Sankey diagram',\n      funnel: 'Funnel chart',\n      gauge: 'Gauge',\n      pictorialBar: 'Pictorial bar',\n      themeRiver: 'Theme River Map',\n      sunburst: 'Sunburst'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: 'This is a chart about \"{title}\"',\n      withoutTitle: 'This is a chart'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: ' with type {seriesType} named {seriesName}.',\n        withoutName: ' with type {seriesType}.'\n      },\n      multiple: {\n        prefix: '. It consists of {seriesCount} series count.',\n        withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.',\n        withoutName: ' The {seriesId} series is a {seriesType}.',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    },\n    data: {\n      allData: 'The data is as follows: ',\n      partialData: 'The first {displayCnt} items are: ',\n      withName: 'the data for {name} is {value}',\n      withoutName: '{value}',\n      separator: {\n        middle: ', ',\n        end: '. '\n      }\n    }\n  }\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default {\n  time: {\n    month: ['\u4E00\u6708', '\u4E8C\u6708', '\u4E09\u6708', '\u56DB\u6708', '\u4E94\u6708', '\u516D\u6708', '\u4E03\u6708', '\u516B\u6708', '\u4E5D\u6708', '\u5341\u6708', '\u5341\u4E00\u6708', '\u5341\u4E8C\u6708'],\n    monthAbbr: ['1\u6708', '2\u6708', '3\u6708', '4\u6708', '5\u6708', '6\u6708', '7\u6708', '8\u6708', '9\u6708', '10\u6708', '11\u6708', '12\u6708'],\n    dayOfWeek: ['\u661F\u671F\u65E5', '\u661F\u671F\u4E00', '\u661F\u671F\u4E8C', '\u661F\u671F\u4E09', '\u661F\u671F\u56DB', '\u661F\u671F\u4E94', '\u661F\u671F\u516D'],\n    dayOfWeekAbbr: ['\u65E5', '\u4E00', '\u4E8C', '\u4E09', '\u56DB', '\u4E94', '\u516D']\n  },\n  legend: {\n    selector: {\n      all: '\u5168\u9009',\n      inverse: '\u53CD\u9009'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: '\u77E9\u5F62\u9009\u62E9',\n        polygon: '\u5708\u9009',\n        lineX: '\u6A2A\u5411\u9009\u62E9',\n        lineY: '\u7EB5\u5411\u9009\u62E9',\n        keep: '\u4FDD\u6301\u9009\u62E9',\n        clear: '\u6E05\u9664\u9009\u62E9'\n      }\n    },\n    dataView: {\n      title: '\u6570\u636E\u89C6\u56FE',\n      lang: ['\u6570\u636E\u89C6\u56FE', '\u5173\u95ED', '\u5237\u65B0']\n    },\n    dataZoom: {\n      title: {\n        zoom: '\u533A\u57DF\u7F29\u653E',\n        back: '\u533A\u57DF\u7F29\u653E\u8FD8\u539F'\n      }\n    },\n    magicType: {\n      title: {\n        line: '\u5207\u6362\u4E3A\u6298\u7EBF\u56FE',\n        bar: '\u5207\u6362\u4E3A\u67F1\u72B6\u56FE',\n        stack: '\u5207\u6362\u4E3A\u5806\u53E0',\n        tiled: '\u5207\u6362\u4E3A\u5E73\u94FA'\n      }\n    },\n    restore: {\n      title: '\u8FD8\u539F'\n    },\n    saveAsImage: {\n      title: '\u4FDD\u5B58\u4E3A\u56FE\u7247',\n      lang: ['\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: '\u997C\u56FE',\n      bar: '\u67F1\u72B6\u56FE',\n      line: '\u6298\u7EBF\u56FE',\n      scatter: '\u6563\u70B9\u56FE',\n      effectScatter: '\u6D9F\u6F2A\u6563\u70B9\u56FE',\n      radar: '\u96F7\u8FBE\u56FE',\n      tree: '\u6811\u56FE',\n      treemap: '\u77E9\u5F62\u6811\u56FE',\n      boxplot: '\u7BB1\u578B\u56FE',\n      candlestick: 'K\u7EBF\u56FE',\n      k: 'K\u7EBF\u56FE',\n      heatmap: '\u70ED\u529B\u56FE',\n      map: '\u5730\u56FE',\n      parallel: '\u5E73\u884C\u5750\u6807\u56FE',\n      lines: '\u7EBF\u56FE',\n      graph: '\u5173\u7CFB\u56FE',\n      sankey: '\u6851\u57FA\u56FE',\n      funnel: '\u6F0F\u6597\u56FE',\n      gauge: '\u4EEA\u8868\u76D8\u56FE',\n      pictorialBar: '\u8C61\u5F62\u67F1\u56FE',\n      themeRiver: '\u4E3B\u9898\u6CB3\u6D41\u56FE',\n      sunburst: '\u65ED\u65E5\u56FE'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: '\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002',\n      withoutTitle: '\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: '\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002',\n        withoutName: '\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002'\n      },\n      multiple: {\n        prefix: '\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002',\n        withName: '\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C',\n        withoutName: '\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C',\n        separator: {\n          middle: '\uFF1B',\n          end: '\u3002'\n        }\n      }\n    },\n    data: {\n      allData: '\u5176\u6570\u636E\u662F\u2014\u2014',\n      partialData: '\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014',\n      withName: '{name}\u7684\u6570\u636E\u662F{value}',\n      withoutName: '{value}',\n      separator: {\n        middle: '\uFF0C',\n        end: ''\n      }\n    }\n  }\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Model from '../model/Model';\nimport env from 'zrender/lib/core/env'; // default import ZH and EN lang\n\nimport langEN from '../i18n/langEN';\nimport langZH from '../i18n/langZH';\nimport { isString, clone, merge } from 'zrender/lib/core/util';\nvar LOCALE_ZH = 'ZH';\nvar LOCALE_EN = 'EN';\nvar DEFAULT_LOCALE = LOCALE_EN;\nvar localeStorage = {};\nvar localeModels = {};\nexport var SYSTEM_LANG = !env.domSupported ? DEFAULT_LOCALE : function () {\n  var langStr = (\n  /* eslint-disable-next-line */\n  document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase();\n  return langStr.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;\n}();\nexport function registerLocale(locale, localeObj) {\n  locale = locale.toUpperCase();\n  localeModels[locale] = new Model(localeObj);\n  localeStorage[locale] = localeObj;\n} // export function getLocale(locale: string) {\n//     return localeStorage[locale];\n// }\n\nexport function createLocaleObject(locale) {\n  if (isString(locale)) {\n    var localeObj = localeStorage[locale.toUpperCase()] || {};\n\n    if (locale === LOCALE_ZH || locale === LOCALE_EN) {\n      return clone(localeObj);\n    } else {\n      return merge(clone(localeObj), clone(localeStorage[DEFAULT_LOCALE]), false);\n    }\n  } else {\n    return merge(clone(locale), clone(localeStorage[DEFAULT_LOCALE]), false);\n  }\n}\nexport function getLocaleModel(lang) {\n  return localeModels[lang];\n}\nexport function getDefaultLocaleModel() {\n  return localeModels[DEFAULT_LOCALE];\n} // Default locale\n\nregisterLocale(LOCALE_EN, langEN);\nregisterLocale(LOCALE_ZH, langZH);", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parseClassType } from './clazz';\nimport { makePrintable } from './log'; // A random offset\n\nvar base = Math.round(Math.random() * 10);\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\n\nexport function getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++].join('_');\n}\n/**\n * Implements `SubTypeDefaulterManager` for `target`.\n */\n\nexport function enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n\n    return type;\n  };\n}\n/**\n * Implements `TopologicalTravelable<any>` for `entity`.\n *\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n * If there is circular dependencey, Error will be thrown.\n */\n\nexport function enableTopologicalTravel(entity, dependencyGetter) {\n  /**\n   * @param targetNameList Target Component type list.\n   *                       Can be ['aa', 'bb', 'aa.xx']\n   * @param fullNameList By which we can build dependency graph.\n   * @param callback Params: componentType, dependencies.\n   * @param context Scope of callback.\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Circular dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n\n      throw new Error(errMsg);\n    });\n\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    } // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n\n\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n\n    return graph[name];\n  }\n\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\nexport function inheritDefaultOption(superOption, subOption) {\n  // See also `model/Component.ts#getDefaultOption`\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as numberUtil from './number';\nimport { getDefaultLocaleModel, getLocaleModel, SYSTEM_LANG } from '../core/locale';\nimport Model from '../model/Model';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = ONE_SECOND * 60;\nexport var ONE_HOUR = ONE_MINUTE * 60;\nexport var ONE_DAY = ONE_HOUR * 24;\nexport var ONE_YEAR = ONE_DAY * 365;\nexport var defaultLeveledFormatter = {\n  year: '{yyyy}',\n  month: '{MMM}',\n  day: '{d}',\n  hour: '{HH}:{mm}',\n  minute: '{HH}:{mm}',\n  second: '{HH}:{mm}:{ss}',\n  millisecond: '{hh}:{mm}:{ss} {SSS}',\n  none: '{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}'\n};\nvar fullDayFormatter = '{yyyy}-{MM}-{dd}';\nexport var fullLeveledFormatter = {\n  year: '{yyyy}',\n  month: '{yyyy}-{MM}',\n  day: fullDayFormatter,\n  hour: fullDayFormatter + ' ' + defaultLeveledFormatter.hour,\n  minute: fullDayFormatter + ' ' + defaultLeveledFormatter.minute,\n  second: fullDayFormatter + ' ' + defaultLeveledFormatter.second,\n  millisecond: defaultLeveledFormatter.none\n};\nexport var primaryTimeUnits = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'];\nexport var timeUnits = ['year', 'half-year', 'quarter', 'month', 'week', 'half-week', 'day', 'half-day', 'quarter-day', 'hour', 'minute', 'second', 'millisecond'];\nexport function pad(str, len) {\n  str += '';\n  return '0000'.substr(0, len - str.length) + str;\n}\nexport function getPrimaryTimeUnit(timeUnit) {\n  switch (timeUnit) {\n    case 'half-year':\n    case 'quarter':\n      return 'month';\n\n    case 'week':\n    case 'half-week':\n      return 'day';\n\n    case 'half-day':\n    case 'quarter-day':\n      return 'hour';\n\n    default:\n      // year, minutes, second, milliseconds\n      return timeUnit;\n  }\n}\nexport function isPrimaryTimeUnit(timeUnit) {\n  return timeUnit === getPrimaryTimeUnit(timeUnit);\n}\nexport function getDefaultFormatPrecisionOfInterval(timeUnit) {\n  switch (timeUnit) {\n    case 'year':\n    case 'month':\n      return 'day';\n\n    case 'millisecond':\n      return 'millisecond';\n\n    default:\n      // Also for day, hour, minute, second\n      return 'second';\n  }\n}\nexport function format( // Note: The result based on `isUTC` are totally different, which can not be just simply\n// substituted by the result without `isUTC`. So we make the param `isUTC` mandatory.\ntime, template, isUTC, lang) {\n  var date = numberUtil.parseDate(time);\n  var y = date[fullYearGetterName(isUTC)]();\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var q = Math.floor((M - 1) / 4) + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var e = date['get' + (isUTC ? 'UTC' : '') + 'Day']();\n  var H = date[hoursGetterName(isUTC)]();\n  var h = (H - 1) % 12 + 1;\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var localeModel = lang instanceof Model ? lang : getLocaleModel(lang || SYSTEM_LANG) || getDefaultLocaleModel();\n  var timeModel = localeModel.getModel('time');\n  var month = timeModel.get('month');\n  var monthAbbr = timeModel.get('monthAbbr');\n  var dayOfWeek = timeModel.get('dayOfWeek');\n  var dayOfWeekAbbr = timeModel.get('dayOfWeekAbbr');\n  return (template || '').replace(/{yyyy}/g, y + '').replace(/{yy}/g, y % 100 + '').replace(/{Q}/g, q + '').replace(/{MMMM}/g, month[M - 1]).replace(/{MMM}/g, monthAbbr[M - 1]).replace(/{MM}/g, pad(M, 2)).replace(/{M}/g, M + '').replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + '').replace(/{eeee}/g, dayOfWeek[e]).replace(/{ee}/g, dayOfWeekAbbr[e]).replace(/{e}/g, e + '').replace(/{HH}/g, pad(H, 2)).replace(/{H}/g, H + '').replace(/{hh}/g, pad(h + '', 2)).replace(/{h}/g, h + '').replace(/{mm}/g, pad(m, 2)).replace(/{m}/g, m + '').replace(/{ss}/g, pad(s, 2)).replace(/{s}/g, s + '').replace(/{SSS}/g, pad(S, 3)).replace(/{S}/g, S + '');\n}\nexport function leveledFormat(tick, idx, formatter, lang, isUTC) {\n  var template = null;\n\n  if (typeof formatter === 'string') {\n    // Single formatter for all units at all levels\n    template = formatter;\n  } else if (typeof formatter === 'function') {\n    // Callback formatter\n    template = formatter(tick.value, idx, {\n      level: tick.level\n    });\n  } else {\n    var defaults = zrUtil.extend({}, defaultLeveledFormatter);\n\n    if (tick.level > 0) {\n      for (var i = 0; i < primaryTimeUnits.length; ++i) {\n        defaults[primaryTimeUnits[i]] = \"{primary|\" + defaults[primaryTimeUnits[i]] + \"}\";\n      }\n    }\n\n    var mergedFormatter = formatter ? formatter.inherit === false ? formatter // Use formatter with bigger units\n    : zrUtil.defaults(formatter, defaults) : defaults;\n    var unit = getUnitFromValue(tick.value, isUTC);\n\n    if (mergedFormatter[unit]) {\n      template = mergedFormatter[unit];\n    } else if (mergedFormatter.inherit) {\n      // Unit formatter is not defined and should inherit from bigger units\n      var targetId = timeUnits.indexOf(unit);\n\n      for (var i = targetId - 1; i >= 0; --i) {\n        if (mergedFormatter[unit]) {\n          template = mergedFormatter[unit];\n          break;\n        }\n      }\n\n      template = template || defaults.none;\n    }\n\n    if (zrUtil.isArray(template)) {\n      var levelId = tick.level == null ? 0 : tick.level >= 0 ? tick.level : template.length + tick.level;\n      levelId = Math.min(levelId, template.length - 1);\n      template = template[levelId];\n    }\n  }\n\n  return format(new Date(tick.value), template, isUTC, lang);\n}\nexport function getUnitFromValue(value, isUTC) {\n  var date = numberUtil.parseDate(value);\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var h = date[hoursGetterName(isUTC)]();\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var isSecond = S === 0;\n  var isMinute = isSecond && s === 0;\n  var isHour = isMinute && m === 0;\n  var isDay = isHour && h === 0;\n  var isMonth = isDay && d === 1;\n  var isYear = isMonth && M === 1;\n\n  if (isYear) {\n    return 'year';\n  } else if (isMonth) {\n    return 'month';\n  } else if (isDay) {\n    return 'day';\n  } else if (isHour) {\n    return 'hour';\n  } else if (isMinute) {\n    return 'minute';\n  } else if (isSecond) {\n    return 'second';\n  } else {\n    return 'millisecond';\n  }\n}\nexport function getUnitValue(value, unit, isUTC) {\n  var date = typeof value === 'number' ? numberUtil.parseDate(value) : value;\n  unit = unit || getUnitFromValue(value, isUTC);\n\n  switch (unit) {\n    case 'year':\n      return date[fullYearGetterName(isUTC)]();\n\n    case 'half-year':\n      return date[monthGetterName(isUTC)]() >= 6 ? 1 : 0;\n\n    case 'quarter':\n      return Math.floor((date[monthGetterName(isUTC)]() + 1) / 4);\n\n    case 'month':\n      return date[monthGetterName(isUTC)]();\n\n    case 'day':\n      return date[dateGetterName(isUTC)]();\n\n    case 'half-day':\n      return date[hoursGetterName(isUTC)]() / 24;\n\n    case 'hour':\n      return date[hoursGetterName(isUTC)]();\n\n    case 'minute':\n      return date[minutesGetterName(isUTC)]();\n\n    case 'second':\n      return date[secondsGetterName(isUTC)]();\n\n    case 'millisecond':\n      return date[millisecondsGetterName(isUTC)]();\n  }\n}\nexport function fullYearGetterName(isUTC) {\n  return isUTC ? 'getUTCFullYear' : 'getFullYear';\n}\nexport function monthGetterName(isUTC) {\n  return isUTC ? 'getUTCMonth' : 'getMonth';\n}\nexport function dateGetterName(isUTC) {\n  return isUTC ? 'getUTCDate' : 'getDate';\n}\nexport function hoursGetterName(isUTC) {\n  return isUTC ? 'getUTCHours' : 'getHours';\n}\nexport function minutesGetterName(isUTC) {\n  return isUTC ? 'getUTCMinutes' : 'getMinutes';\n}\nexport function secondsGetterName(isUTC) {\n  return isUTC ? 'getUTCSeconds' : 'getSeconds';\n}\nexport function millisecondsGetterName(isUTC) {\n  return isUTC ? 'getUTCSeconds' : 'getSeconds';\n}\nexport function fullYearSetterName(isUTC) {\n  return isUTC ? 'setUTCFullYear' : 'setFullYear';\n}\nexport function monthSetterName(isUTC) {\n  return isUTC ? 'setUTCMonth' : 'setMonth';\n}\nexport function dateSetterName(isUTC) {\n  return isUTC ? 'setUTCDate' : 'setDate';\n}\nexport function hoursSetterName(isUTC) {\n  return isUTC ? 'setUTCHours' : 'setHours';\n}\nexport function minutesSetterName(isUTC) {\n  return isUTC ? 'setUTCMinutes' : 'setMinutes';\n}\nexport function secondsSetterName(isUTC) {\n  return isUTC ? 'setUTCSeconds' : 'setSeconds';\n}\nexport function millisecondsSetterName(isUTC) {\n  return isUTC ? 'setUTCSeconds' : 'setSeconds';\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Text } from '../util/graphic';\nimport { deprecateLog } from '../util/log';\nexport function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {\n  deprecateLog('getTextRect is deprecated.');\n  var textEl = new Text({\n    style: {\n      text: text,\n      font: font,\n      align: align,\n      verticalAlign: verticalAlign,\n      padding: padding,\n      rich: rich,\n      overflow: truncate ? 'truncate' : null,\n      lineHeight: lineHeight\n    }\n  });\n  return textEl.getBoundingRect();\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parseDate, isNumeric, numericToNumber } from './number';\nimport { format as timeFormat, pad } from './time';\nimport { deprecateReplaceLog } from './log';\n/**\n * Add a comma each three digit.\n */\n\nexport function addCommas(x) {\n  if (!isNumeric(x)) {\n    return zrUtil.isString(x) ? x : '-';\n  }\n\n  var parts = (x + '').split('.');\n  return parts[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (parts.length > 1 ? '.' + parts[1] : '');\n}\nexport function toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  return str;\n}\nexport var normalizeCssArray = zrUtil.normalizeCssArray;\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\nexport function encodeHTML(source) {\n  return source == null ? '' : (source + '').replace(replaceReg, function (str, c) {\n    return replaceMap[c];\n  });\n}\n/**\n * Make value user readable for tooltip and label.\n * \"User readable\":\n *     Try to not print programmer-specific text like NaN, Infinity, null, undefined.\n *     Avoid to display an empty string, which users can not recognize there is\n *     a value and it might look like a bug.\n */\n\nexport function makeValueReadable(value, valueType, useUTC) {\n  var USER_READABLE_DEFUALT_TIME_PATTERN = '{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}';\n\n  function stringToUserReadable(str) {\n    return str && zrUtil.trim(str) ? str : '-';\n  }\n\n  function isNumberUserReadable(num) {\n    return !!(num != null && !isNaN(num) && isFinite(num));\n  }\n\n  var isTypeTime = valueType === 'time';\n  var isValueDate = value instanceof Date;\n\n  if (isTypeTime || isValueDate) {\n    var date = isTypeTime ? parseDate(value) : value;\n\n    if (!isNaN(+date)) {\n      return timeFormat(date, USER_READABLE_DEFUALT_TIME_PATTERN, useUTC);\n    } else if (isValueDate) {\n      return '-';\n    } // In other cases, continue to try to display the value in the following code.\n\n  }\n\n  if (valueType === 'ordinal') {\n    return zrUtil.isStringSafe(value) ? stringToUserReadable(value) : zrUtil.isNumber(value) ? isNumberUserReadable(value) ? value + '' : '-' : '-';\n  } // By default.\n\n\n  var numericResult = numericToNumber(value);\n  return isNumberUserReadable(numericResult) ? addCommas(numericResult) : zrUtil.isStringSafe(value) ? stringToUserReadable(value) : '-';\n}\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\nvar wrapVar = function (varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {Array.<Object>|Object} paramsList\n */\n\n\nexport function formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n\n  var seriesLen = paramsList.length;\n\n  if (!seriesLen) {\n    return '';\n  }\n\n  var $vars = paramsList[0].$vars || [];\n\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n  }\n\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n\n  return tpl;\n}\n/**\n * simple Template formatter\n */\n\nexport function formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\nexport function getTooltipMarker(inOpt, extraCssText) {\n  var opt = zrUtil.isString(inOpt) ? {\n    color: inOpt,\n    extraCssText: extraCssText\n  } : inOpt || {};\n  var color = opt.color;\n  var type = opt.type;\n  extraCssText = opt.extraCssText;\n  var renderMode = opt.renderMode || 'html';\n\n  if (!color) {\n    return '';\n  }\n\n  if (renderMode === 'html') {\n    return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' // Only support string\n    + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:4px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n  } else {\n    // Should better not to auto generate style name by auto-increment number here.\n    // Because this util is usually called in tooltip formatter, which is probably\n    // called repeatly when mouse move and the auto-increment number increases fast.\n    // Users can make their own style name by theirselves, make it unique and readable.\n    var markerId = opt.markerId || 'markerX';\n    return {\n      renderMode: renderMode,\n      content: '{' + markerId + '|}  ',\n      style: type === 'subItem' ? {\n        width: 4,\n        height: 4,\n        borderRadius: 2,\n        backgroundColor: color\n      } : {\n        width: 10,\n        height: 10,\n        borderRadius: 5,\n        backgroundColor: color\n      }\n    };\n  }\n}\n/**\n * @deprecated Use `time/format` instead.\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\n\nexport function formatTime(tpl, value, isUTC) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateReplaceLog('echarts.format.formatTime', 'echarts.time.format');\n  }\n\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n\n  var date = parseDate(value);\n  var utc = isUTC ? 'UTC' : '';\n  var y = date['get' + utc + 'FullYear']();\n  var M = date['get' + utc + 'Month']() + 1;\n  var d = date['get' + utc + 'Date']();\n  var h = date['get' + utc + 'Hours']();\n  var m = date['get' + utc + 'Minutes']();\n  var s = date['get' + utc + 'Seconds']();\n  var S = date['get' + utc + 'Milliseconds']();\n  tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', y % 100 + '').replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\n\nexport function capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n/**\n * @return Never be null/undefined.\n */\n\nexport function convertToColorString(color, defaultColor) {\n  defaultColor = defaultColor || 'transparent';\n  return zrUtil.isString(color) ? color : zrUtil.isObject(color) ? color.colorStops && (color.colorStops[0] || {}).color || defaultColor : defaultColor;\n}\nexport { truncateText } from 'zrender/lib/graphic/helper/parseText';\n/**\n * open new tab\n * @param link url\n * @param target blank or self\n */\n\nexport function windowOpen(link, target) {\n  /* global window */\n  if (target === '_blank' || target === 'blank') {\n    var blank = window.open();\n    blank.opener = null;\n    blank.location.href = link;\n  } else {\n    window.open(link, target);\n  }\n}\nexport { getTextRect } from '../legacy/getTextRect';", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Layout helpers for each component positioning\nimport * as zrUtil from 'zrender/lib/core/util';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport { parsePercent } from './number';\nimport * as formatUtil from './format';\nvar each = zrUtil.each;\n/**\n * @public\n */\n\nexport var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\n\nexport var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n\n    if (child.newline) {\n      return;\n    }\n\n    child.x = x;\n    child.y = y;\n    child.markRedraw();\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\n\nexport var box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nexport var vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nexport var hbox = zrUtil.curry(boxLayout, 'horizontal');\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n */\n\nexport function getAvailableSize(positionInfo, containerRect, margin) {\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var x = parsePercent(positionInfo.left, containerWidth);\n  var y = parsePercent(positionInfo.top, containerHeight);\n  var x2 = parsePercent(positionInfo.right, containerWidth);\n  var y2 = parsePercent(positionInfo.bottom, containerHeight);\n  (isNaN(x) || isNaN(parseFloat(positionInfo.left))) && (x = 0);\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.right))) && (x2 = containerWidth);\n  (isNaN(y) || isNaN(parseFloat(positionInfo.top))) && (y = 0);\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.bottom))) && (y2 = containerHeight);\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  return {\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\n  };\n}\n/**\n * Parse position info.\n */\n\nexport function getLayoutRect(positionInfo, containerRect, margin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    } // Calculate width or height with given aspect\n\n\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  } // If left is not specified, calculate left from right and width\n\n\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  } // Align left and top\n\n\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n  left = left || 0;\n  top = top || 0;\n\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Traslate (with el.position by this method)\n * So this method only fixes the last step 'Traslate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatly with the same input el, the same result will be gotten.\n *\n * @param el Should have `getBoundingRect` method.\n * @param positionInfo\n * @param positionInfo.left\n * @param positionInfo.top\n * @param positionInfo.right\n * @param positionInfo.bottom\n * @param positionInfo.width Only for opt.boundingModel: 'raw'\n * @param positionInfo.height Only for opt.boundingModel: 'raw'\n * @param containerRect\n * @param margin\n * @param opt\n * @param opt.hv Only horizontal or only vertical. Default to be [1, 1]\n * @param opt.boundingMode\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\n\nexport function positionElement(el, positionInfo, containerRect, margin, opt) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n\n  if (!h && !v) {\n    return;\n  }\n\n  var rect;\n\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  } // The real width and height can not be specified but calculated by the given el.\n\n\n  var layoutRect = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransform),\n  // we can just only modify el.position to get final result.\n\n  var dx = h ? layoutRect.x - rect.x : 0;\n  var dy = v ? layoutRect.y - rect.y : 0;\n\n  if (boundingMode === 'raw') {\n    el.x = dx;\n    el.y = dy;\n  } else {\n    el.x += dx;\n    el.y += dy;\n  }\n\n  el.markRedraw();\n}\n/**\n * @param option Contains some of the properties in HV_NAMES.\n * @param hvIdx 0: horizontal; 1: vertical.\n */\n\nexport function sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\nexport function fetchLayoutMode(ins) {\n  var layoutMode = ins.layoutMode || ins.constructor.layoutMode;\n  return zrUtil.isObject(layoutMode) ? layoutMode : layoutMode ? {\n    type: layoutMode\n  } : null;\n}\n/**\n * Consider Case:\n * When default option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         let inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param targetOption\n * @param newOption\n * @param opt\n */\n\nexport function mergeLayoutParam(targetOption, newOption, opt) {\n  var ignoreSize = opt && opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n\n\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n        return newParams;\n      } else {\n        // Chose another param from targetOption by priority.\n        for (var i = 0; i < names.length; i++) {\n          var name_1 = names[i];\n\n          if (!hasProp(newParams, name_1) && hasProp(targetOption, name_1)) {\n            newParams[name_1] = targetOption[name_1];\n            break;\n          }\n        }\n\n        return newParams;\n      }\n  }\n\n  function hasProp(obj, name) {\n    return obj.hasOwnProperty(name);\n  }\n\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n */\n\nexport function getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\nexport function copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    source.hasOwnProperty(name) && (target[name] = source[name]);\n  });\n  return target;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Model from './Model';\nimport * as componentUtil from '../util/component';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz';\nimport { makeInner, queryReferringComponents } from '../util/model';\nimport * as layout from '../util/layout';\nvar inner = makeInner();\n\nvar ComponentModel =\n/** @class */\nfunction (_super) {\n  __extends(ComponentModel, _super);\n\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\n   * Called immediately after `init` or `mergeOption` of this instance called.\n   */\n\n\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\n   * [How to declare defaultOption]:\n   *\n   * (A) If using class declaration in typescript (since echarts 5):\n   * ```ts\n   * import {ComponentOption} from '../model/option';\n   * export interface XxxOption extends ComponentOption {\n   *     aaa: number\n   * }\n   * export class XxxModel extends Component {\n   *     static type = 'xxx';\n   *     static defaultOption: XxxOption = {\n   *         aaa: 123\n   *     }\n   * }\n   * Component.registerClass(XxxModel);\n   * ```\n   * ```ts\n   * import {inheritDefaultOption} from '../util/component';\n   * import {XxxModel, XxxOption} from './XxxModel';\n   * export interface XxxSubOption extends XxxOption {\n   *     bbb: number\n   * }\n   * class XxxSubModel extends XxxModel {\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\n   *         bbb: 456\n   *     })\n   *     fn() {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {aaa: 123, bbb: 456}\n   *     }\n   * }\n   * ```\n   *\n   * (B) If using class extend (previous approach in echarts 3 & 4):\n   * ```js\n   * let XxxComponent = Component.extend({\n   *     defaultOption: {\n   *         xx: 123\n   *     }\n   * })\n   * ```\n   * ```js\n   * let XxxSubComponent = XxxComponent.extend({\n   *     defaultOption: {\n   *         yy: 456\n   *     },\n   *     fn: function () {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {xx: 123, yy: 456}\n   *     }\n   * })\n   * ```\n   */\n\n\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor; // If using class declaration, it is different to travel super class\n    // in legacy env and auto merge defaultOption. So if using class\n    // declaration, defaultOption should be merged manually.\n\n    if (!isExtendedClass(ctor)) {\n      // When using ts class, defaultOption must be declared as static.\n      return ctor.defaultOption;\n    } // FIXME: remove this approach?\n\n\n    var fields = inner(this);\n\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      fields.defaultOption = defaultOption;\n    }\n\n    return fields.defaultOption;\n  };\n  /**\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\n   * The same behavior as `modelUtil.parseFinder`.\n   *\n   * @param useDefault In many cases like series refer axis and axis refer grid,\n   *        If axis index / axis id not specified, use the first target as default.\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\n   */\n\n\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    var boxLayoutModel = this;\n    return {\n      left: boxLayoutModel.get('left'),\n      top: boxLayoutModel.get('top'),\n      right: boxLayoutModel.get('right'),\n      bottom: boxLayoutModel.get('bottom'),\n      width: boxLayoutModel.get('width'),\n      height: boxLayoutModel.get('height')\n    };\n  };\n\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n\n  return ComponentModel;\n}(Model);\n\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n\n  return deps;\n}\n\nexport default ComponentModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../../util/model';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\n\nvar PaletteMixin =\n/** @class */\nfunction () {\n  function PaletteMixin() {}\n\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n\n  return PaletteMixin;\n}();\n\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\n\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length; // TODO palettes must be in order\n\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n\n  return palettes[paletteNum - 1];\n}\n/**\n * @param name MUST NOT be null/undefined. Otherwise call this function\n *             twise with the same parameters will get different result.\n * @param scope default this.\n * @return Can be null/undefined\n */\n\n\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum); // In case can't find in layered color palette.\n\n  palette = palette || defaultPalette;\n\n  if (!palette || !palette.length) {\n    return;\n  }\n\n  var pickedPaletteItem = palette[paletteIdx];\n\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\n\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\n\nexport { PaletteMixin };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { retrieveRawValue } from '../../data/helper/dataProvider';\nimport { formatTpl } from '../../util/format';\nimport { makePrintable } from '../../util/log';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\n\nvar DataFormatMixin =\n/** @class */\nfunction () {\n  function DataFormatMixin() {}\n  /**\n   * Get params for formatter\n   */\n\n\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput;\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.dimensionNames : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\n   * Format label\n   * @param dataIndex\n   * @param status 'normal' by default\n   * @param dataType\n   * @param labelDimIndex Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param formatter Formatter given outside.\n   * @return return null/undefined if no formatter\n   */\n\n\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex); // @ts-ignore\n\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr.charAt(0) === '[' && dimStr.charAt(len - 1) === ']' ? +dimStr.slice(1, len - 1) // Also support: '[]' => 0\n        : dimStr;\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimInfo = data.getDimensionInfo(dimLoose);\n\n          if (dimInfo) {\n            val = extendParams.interpolatedValue[dimInfo.index];\n          }\n        }\n\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\n   * Get raw value in option\n   */\n\n\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {string} [dataType]\n   */\n\n\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n\n  return DataFormatMixin;\n}();\n\nexport { DataFormatMixin };\n; // PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate becuase in 'richText' it is not a HTML\n//     // string. But still support it for backward compat.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n\n/**\n * For backward compat, normalize the return from `formatTooltip`.\n */\n\nexport function normalizeTooltipFormatResult(result // markersExisting: Dictionary<ColorString>\n) {\n  var markupText; // let markers: Dictionary<ColorString>;\n\n  var markupFragment;\n\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    } // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n\n  } else {\n    markupText = result;\n  }\n\n  return {\n    markupText: markupText,\n    // markers: markers || markersExisting,\n    markupFragment: markupFragment\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray } from 'zrender/lib/core/util';\n;\n/**\n * @param {Object} define\n * @return See the return of `createTask`.\n */\n\nexport function createTask(define) {\n  return new Task(define);\n}\n\nvar Task =\n/** @class */\nfunction () {\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true;\n  }\n  /**\n   * @param step Specified step.\n   * @param skip Skip customer perform call.\n   * @param modBy Sampling window size.\n   * @param modDataCount Sampling count.\n   * @return whether unfinished.\n   */\n\n\n  Task.prototype.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip; // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n\n    var planResult;\n\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n\n\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n\n      return val;\n    }\n\n    var forceFirstProgress;\n\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = this._doReset(skip);\n    }\n\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n\n    if (upTask) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(upTask._outputDueEnd != null);\n      }\n\n      this._dueEnd = upTask._outputDueEnd;\n    } // DataTask or overallTask\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n          assert(!this._progress || this._count);\n        }\n\n        this._dueEnd = this._count ? this._count(this.context) : Infinity;\n      } // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n\n\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n\n        if (isArray(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            this._doProgress(progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          this._doProgress(progress, start, end, modBy, modDataCount);\n        }\n      }\n\n      this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n\n      if (process.env.NODE_ENV !== 'production') {\n        // ??? Can not rollback.\n        assert(outputDueEnd >= this._outputDueEnd);\n      }\n\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n\n    return this.unfinished();\n  };\n\n  Task.prototype.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n\n  Task.prototype._doProgress = function (progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    this._callingProgress = progress;\n\n    this._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, this.context);\n  };\n\n  Task.prototype._doReset = function (skip) {\n    this._dueIndex = this._outputDueEnd = this._dueEnd = 0;\n    this._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n\n    if (!skip && this._reset) {\n      progress = this._reset(this.context);\n\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      } // To simplify no progress checking, array must has item.\n\n\n      if (isArray(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n\n    this._progress = progress;\n    this._modBy = this._modDataCount = null;\n    var downstream = this._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  };\n\n  Task.prototype.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param downTask The downstream task.\n   * @return The downstream task.\n   */\n\n\n  Task.prototype.pipe = function (downTask) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(downTask && !downTask._disposed && downTask !== this);\n    } // If already downstream, do not dirty downTask.\n\n\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n\n  Task.prototype.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n\n  Task.prototype.getUpstream = function () {\n    return this._upstream;\n  };\n\n  Task.prototype.getDownstream = function () {\n    return this._downstream;\n  };\n\n  Task.prototype.setOutputEnd = function (end) {\n    // This only happend in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the setted end, in case\n    // that the stub of dataZoom perform again and earse the\n    // setted end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  };\n\n  return Task;\n}();\n\nexport { Task };\n\nvar iterator = function () {\n  var end;\n  var current;\n  var modBy;\n  var modDataCount;\n  var winCount;\n  var it = {\n    reset: function (s, e, sStep, sCount) {\n      current = s;\n      end = e;\n      modBy = sStep;\n      modDataCount = sCount;\n      winCount = Math.ceil(modDataCount / modBy);\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n    }\n  };\n  return it;\n\n  function sequentialNext() {\n    return current < end ? current++ : null;\n  }\n\n  function modNext() {\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\n    // Use normal linear rendering mode.\n    : current;\n    current++;\n    return result;\n  }\n}(); ///////////////////////////////////////////////////////////\n// For stream debug (Should be commented out after used!)\n// @usage: printTask(this, 'begin');\n// @usage: printTask(this, null, {someExtraProp});\n// @usage: Use `__idxInPipeline` as conditional breakpiont.\n//\n// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n//     let props = [];\n//     if (task.__pipeline) {\n//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n//         props.push({text: '__idxInPipeline/total', value: val});\n//     } else {\n//         let stubCount = 0;\n//         task.agentStubMap.each(() => stubCount++);\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n//     }\n//     props.push({text: 'uid', value: task.uidDebug});\n//     if (task.__pipeline) {\n//         props.push({text: 'pipelineId', value: task.__pipeline.id});\n//         task.agent && props.push(\n//             {text: 'stubFor', value: task.agent.uidDebug}\n//         );\n//     }\n//     props.push(\n//         {text: 'dirty', value: task._dirty},\n//         {text: 'dueIndex', value: task._dueIndex},\n//         {text: 'dueEnd', value: task._dueEnd},\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\n//     );\n//     if (extra) {\n//         Object.keys(extra).forEach(key => {\n//             props.push({text: key, value: extra[key]});\n//         });\n//     }\n//     let args = ['color: blue'];\n//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n//         args.push('color: green', 'color: red'),\n//         `${item.text}: %c${item.value}`\n//     )).join('%c, ');\n//     console.log.apply(console, [msg].concat(args));\n//     // console.log(this);\n// };\n// window.printPipeline = function (task: any, prefix: string) {\n//     const pipeline = task.__pipeline;\n//     let currTask = pipeline.head;\n//     while (currTask) {\n//         window.printTask(currTask, prefix);\n//         currTask = currTask._downstream;\n//     }\n// };\n// window.showChain = function (chainHeadTask) {\n//     var chain = [];\n//     var task = chainHeadTask;\n//     while (task) {\n//         chain.push({\n//             task: task,\n//             up: task._upstream,\n//             down: task._downstream,\n//             idxInPipeline: task.__idxInPipeline\n//         });\n//         task = task._downstream;\n//     }\n//     return chain;\n// };\n// window.findTaskInChain = function (task, chainHeadTask) {\n//     let chain = window.showChain(chainHeadTask);\n//     let result = [];\n//     for (let i = 0; i < chain.length; i++) {\n//         let chainItem = chain[i];\n//         if (chainItem.task === task) {\n//             result.push(i);\n//         }\n//     }\n//     return result;\n// };\n// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {\n//     let chainA = window.showChain(chainHeadTaskA);\n//     for (let i = 0; i < chainA.length; i++) {\n//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));\n//     }\n// };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, getDataItemValue, queryReferringComponents, SINGLE_REFERRING } from '../../util/model';\nimport { createHashMap, each, isArray, isString, isObject, isTypedArray } from 'zrender/lib/core/util';\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_ARRAY_ROWS, SOURCE_FORMAT_OBJECT_ROWS, SERIES_LAYOUT_BY_ROW, SOURCE_FORMAT_KEYED_COLUMNS } from '../../util/types'; // The result of `guessOrdinal`.\n\nexport var BE_ORDINAL = {\n  Must: 1,\n  Might: 2,\n  Not: 3 // Other cases\n\n};\nvar innerGlobalModel = makeInner();\n/**\n * MUST be called before mergeOption of all series.\n */\n\nexport function resetSourceDefaulter(ecModel) {\n  // `datasetMap` is used to make default encode.\n  innerGlobalModel(ecModel).datasetMap = createHashMap();\n}\n/**\n * [The strategy of the arrengment of data dimensions for dataset]:\n * \"value way\": all axes are non-category axes. So series one by one take\n *     several (the number is coordSysDims.length) dimensions from dataset.\n *     The result of data arrengment of data dimensions like:\n *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n * \"category way\": at least one axis is category axis. So the the first data\n *     dimension is always mapped to the first category axis and shared by\n *     all of the series. The other data dimensions are taken by series like\n *     \"value way\" does.\n *     The result of data arrengment of data dimensions like:\n *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n *\n * @return encode Never be `null/undefined`.\n */\n\nexport function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n  var encode = {};\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n  if (!datasetModel || !coordDimensions) {\n    return encode;\n  }\n\n  var encodeItemName = [];\n  var encodeSeriesName = [];\n  var ecModel = seriesModel.ecModel;\n  var datasetMap = innerGlobalModel(ecModel).datasetMap;\n  var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n  var baseCategoryDimIndex;\n  var categoryWayValueDimStart;\n  coordDimensions = coordDimensions.slice();\n  each(coordDimensions, function (coordDimInfoLoose, coordDimIdx) {\n    var coordDimInfo = isObject(coordDimInfoLoose) ? coordDimInfoLoose : coordDimensions[coordDimIdx] = {\n      name: coordDimInfoLoose\n    };\n\n    if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n      baseCategoryDimIndex = coordDimIdx;\n      categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimInfo);\n    }\n\n    encode[coordDimInfo.name] = [];\n  });\n  var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n    categoryWayDim: categoryWayValueDimStart,\n    valueWayDim: 0\n  }); // TODO\n  // Auto detect first time axis and do arrangement.\n\n  each(coordDimensions, function (coordDimInfo, coordDimIdx) {\n    var coordDimName = coordDimInfo.name;\n    var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\n\n    if (baseCategoryDimIndex == null) {\n      var start = datasetRecord.valueWayDim;\n      pushDim(encode[coordDimName], start, count);\n      pushDim(encodeSeriesName, start, count);\n      datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\n      // especially when encode x y specified.\n      // consider: when mutiple series share one dimension\n      // category axis, series name should better use\n      // the other dimsion name. On the other hand, use\n      // both dimensions name.\n    } // In category way, the first category axis.\n    else if (baseCategoryDimIndex === coordDimIdx) {\n        pushDim(encode[coordDimName], 0, count);\n        pushDim(encodeItemName, 0, count);\n      } // In category way, the other axis.\n      else {\n          var start = datasetRecord.categoryWayDim;\n          pushDim(encode[coordDimName], start, count);\n          pushDim(encodeSeriesName, start, count);\n          datasetRecord.categoryWayDim += count;\n        }\n  });\n\n  function pushDim(dimIdxArr, idxFrom, idxCount) {\n    for (var i = 0; i < idxCount; i++) {\n      dimIdxArr.push(idxFrom + i);\n    }\n  }\n\n  function getDataDimCountOnCoordDim(coordDimInfo) {\n    var dimsDef = coordDimInfo.dimsDef;\n    return dimsDef ? dimsDef.length : 1;\n  }\n\n  encodeItemName.length && (encode.itemName = encodeItemName);\n  encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n  return encode;\n}\n/**\n * Work for data like [{name: ..., value: ...}, ...].\n *\n * @return encode Never be `null/undefined`.\n */\n\nexport function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n  var encode = {};\n  var datasetModel = querySeriesUpstreamDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n  if (!datasetModel) {\n    return encode;\n  }\n\n  var sourceFormat = source.sourceFormat;\n  var dimensionsDefine = source.dimensionsDefine;\n  var potentialNameDimIndex;\n\n  if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    each(dimensionsDefine, function (dim, idx) {\n      if ((isObject(dim) ? dim.name : dim) === 'name') {\n        potentialNameDimIndex = idx;\n      }\n    });\n  }\n\n  var idxResult = function () {\n    var idxRes0 = {};\n    var idxRes1 = {};\n    var guessRecords = []; // 5 is an experience value.\n\n    for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n      var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n      guessRecords.push(guessResult);\n      var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n      // and then find a name dim with the priority:\n      // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n\n      if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n        idxRes0.v = i;\n      }\n\n      if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n        idxRes0.n = i;\n      }\n\n      if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n        return idxRes0;\n      } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n      // find the first BE_ORDINAL.Might as the value dim,\n      // and then find a name dim with the priority:\n      // \"other dim\" > \"the value dim itself\".\n      // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n      // treated as number.\n\n\n      if (!isPureNumber) {\n        if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n          idxRes1.v = i;\n        }\n\n        if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n          idxRes1.n = i;\n        }\n      }\n    }\n\n    function fulfilled(idxResult) {\n      return idxResult.v != null && idxResult.n != null;\n    }\n\n    return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n  }();\n\n  if (idxResult) {\n    encode.value = [idxResult.v]; // `potentialNameDimIndex` has highest priority.\n\n    var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label use itemName in charts.\n    // So we dont set encodeLabel here.\n\n    encode.itemName = [nameDimIndex];\n    encode.seriesName = [nameDimIndex];\n  }\n\n  return encode;\n}\n/**\n * @return If return null/undefined, indicate that should not use datasetModel.\n */\n\nexport function querySeriesUpstreamDatasetModel(seriesModel) {\n  // Caution: consider the scenario:\n  // A dataset is declared and a series is not expected to use the dataset,\n  // and at the beginning `setOption({series: { noData })` (just prepare other\n  // option but no data), then `setOption({series: {data: [...]}); In this case,\n  // the user should set an empty array to avoid that dataset is used by default.\n  var thisData = seriesModel.get('data', true);\n\n  if (!thisData) {\n    return queryReferringComponents(seriesModel.ecModel, 'dataset', {\n      index: seriesModel.get('datasetIndex', true),\n      id: seriesModel.get('datasetId', true)\n    }, SINGLE_REFERRING).models[0];\n  }\n}\n/**\n * @return Always return an array event empty.\n */\n\nexport function queryDatasetUpstreamDatasetModels(datasetModel) {\n  // Only these attributes declared, we by defualt reference to `datasetIndex: 0`.\n  // Otherwise, no reference.\n  if (!datasetModel.get('transform', true) && !datasetModel.get('fromTransformResult', true)) {\n    return [];\n  }\n\n  return queryReferringComponents(datasetModel.ecModel, 'dataset', {\n    index: datasetModel.get('fromDatasetIndex', true),\n    id: datasetModel.get('fromDatasetId', true)\n  }, SINGLE_REFERRING).models;\n}\n/**\n * The rule should not be complex, otherwise user might not\n * be able to known where the data is wrong.\n * The code is ugly, but how to make it neat?\n */\n\nexport function guessOrdinal(source, dimIndex) {\n  return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n} // dimIndex may be overflow source data.\n// return {BE_ORDINAL}\n\nfunction doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n  var result; // Experience value.\n\n  var maxLoop = 5;\n\n  if (isTypedArray(data)) {\n    return BE_ORDINAL.Not;\n  } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n  // always exists in source.\n\n\n  var dimName;\n  var dimType;\n\n  if (dimensionsDefine) {\n    var dimDefItem = dimensionsDefine[dimIndex];\n\n    if (isObject(dimDefItem)) {\n      dimName = dimDefItem.name;\n      dimType = dimDefItem.type;\n    } else if (isString(dimDefItem)) {\n      dimName = dimDefItem;\n    }\n  }\n\n  if (dimType != null) {\n    return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n  }\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var dataArrayRows = data;\n\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n      var sample = dataArrayRows[dimIndex];\n\n      for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[startIndex + i])) != null) {\n          return result;\n        }\n      }\n    } else {\n      for (var i = 0; i < dataArrayRows.length && i < maxLoop; i++) {\n        var row = dataArrayRows[startIndex + i];\n\n        if (row && (result = detectValue(row[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    var dataObjectRows = data;\n\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n\n    for (var i = 0; i < dataObjectRows.length && i < maxLoop; i++) {\n      var item = dataObjectRows[i];\n\n      if (item && (result = detectValue(item[dimName])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    var dataKeyedColumns = data;\n\n    if (!dimName) {\n      return BE_ORDINAL.Not;\n    }\n\n    var sample = dataKeyedColumns[dimName];\n\n    if (!sample || isTypedArray(sample)) {\n      return BE_ORDINAL.Not;\n    }\n\n    for (var i = 0; i < sample.length && i < maxLoop; i++) {\n      if ((result = detectValue(sample[i])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var dataOriginal = data;\n\n    for (var i = 0; i < dataOriginal.length && i < maxLoop; i++) {\n      var item = dataOriginal[i];\n      var val = getDataItemValue(item);\n\n      if (!isArray(val)) {\n        return BE_ORDINAL.Not;\n      }\n\n      if ((result = detectValue(val[dimIndex])) != null) {\n        return result;\n      }\n    }\n  }\n\n  function detectValue(val) {\n    var beStr = isString(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `isFinit('')` get `true`.\n\n    if (val != null && isFinite(val) && val !== '') {\n      return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n    } else if (beStr && val !== '-') {\n      return BE_ORDINAL.Must;\n    }\n  }\n\n  return BE_ORDINAL.Not;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types';\nimport { normalizeToArray } from '../../util/model';\nimport { createHashMap, bind, each, hasOwn, map, clone, isObject, extend } from 'zrender/lib/core/util';\nimport { getRawSourceItemGetter, getRawSourceDataCounter, getRawSourceValueGetter } from './dataProvider';\nimport { parseDataValue } from './dataValueHelper';\nimport { consoleLog, makePrintable, throwError } from '../../util/log';\nimport { createSource, detectSourceFormat } from '../Source';\n/**\n * TODO: disable writable.\n * This structure will be exposed to users.\n */\n\nvar ExternalSource =\n/** @class */\nfunction () {\n  function ExternalSource() {}\n\n  ExternalSource.prototype.getRawData = function () {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n\n  ExternalSource.prototype.getRawDataItem = function (dataIndex) {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n\n  ExternalSource.prototype.cloneRawData = function () {\n    return;\n  };\n  /**\n   * @return If dimension not found, return null/undefined.\n   */\n\n\n  ExternalSource.prototype.getDimensionInfo = function (dim) {\n    return;\n  };\n  /**\n   * dimensions defined if and only if either:\n   * (a) dataset.dimensions are declared.\n   * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).\n   * If dimensions are defined, `dimensionInfoAll` is corresponding to\n   * the defined dimensions.\n   * Otherwise, `dimensionInfoAll` is determined by data columns.\n   * @return Always return an array (even empty array).\n   */\n\n\n  ExternalSource.prototype.cloneAllDimensionInfo = function () {\n    return;\n  };\n\n  ExternalSource.prototype.count = function () {\n    return;\n  };\n  /**\n   * Only support by dimension index.\n   * No need to support by dimension name in transform function,\n   * becuase transform function is not case-specific, no need to use name literally.\n   */\n\n\n  ExternalSource.prototype.retrieveValue = function (dataIndex, dimIndex) {\n    return;\n  };\n\n  ExternalSource.prototype.retrieveValueFromItem = function (dataItem, dimIndex) {\n    return;\n  };\n\n  ExternalSource.prototype.convertValue = function (rawVal, dimInfo) {\n    return parseDataValue(rawVal, dimInfo);\n  };\n\n  return ExternalSource;\n}();\n\nexport { ExternalSource };\n\nfunction createExternalSource(internalSource, externalTransform) {\n  var extSource = new ExternalSource();\n  var data = internalSource.data;\n  var sourceFormat = extSource.sourceFormat = internalSource.sourceFormat;\n  var sourceHeaderCount = internalSource.startIndex;\n  var errMsg = '';\n\n  if (internalSource.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN) {\n    // For the logic simplicity in transformer, only 'culumn' is\n    // supported in data transform. Otherwise, the `dimensionsDefine`\n    // might be detected by 'row', which probably confuses users.\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`seriesLayoutBy` of upstream dataset can only be \"column\" in data transform.';\n    }\n\n    throwError(errMsg);\n  } // [MEMO]\n  // Create a new dimensions structure for exposing.\n  // Do not expose all dimension info to users directly.\n  // Becuase the dimension is probably auto detected from data and not might reliable.\n  // Should not lead the transformers to think that is relialbe and return it.\n  // See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\n\n\n  var dimensions = [];\n  var dimsByName = {};\n  var dimsDef = internalSource.dimensionsDefine;\n\n  if (dimsDef) {\n    each(dimsDef, function (dimDef, idx) {\n      var name = dimDef.name;\n      var dimDefExt = {\n        index: idx,\n        name: name,\n        displayName: dimDef.displayName\n      };\n      dimensions.push(dimDefExt); // Users probably not sepcify dimension name. For simplicity, data transform\n      // do not generate dimension name.\n\n      if (name != null) {\n        // Dimension name should not be duplicated.\n        // For simplicity, data transform forbid name duplication, do not generate\n        // new name like module `completeDimensions.ts` did, but just tell users.\n        var errMsg_1 = '';\n\n        if (hasOwn(dimsByName, name)) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg_1 = 'dimension name \"' + name + '\" duplicated.';\n          }\n\n          throwError(errMsg_1);\n        }\n\n        dimsByName[name] = dimDefExt;\n      }\n    });\n  } // If dimension definitions are not defined and can not be detected.\n  // e.g., pure data `[[11, 22], ...]`.\n  else {\n      for (var i = 0; i < internalSource.dimensionsDetectedCount || 0; i++) {\n        // Do not generete name or anything others. The consequence process in\n        // `transform` or `series` probably have there own name generation strategry.\n        dimensions.push({\n          index: i\n        });\n      }\n    } // Implement public methods:\n\n\n  var rawItemGetter = getRawSourceItemGetter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n\n  if (externalTransform.__isBuiltIn) {\n    extSource.getRawDataItem = function (dataIndex) {\n      return rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    };\n\n    extSource.getRawData = bind(getRawData, null, internalSource);\n  }\n\n  extSource.cloneRawData = bind(cloneRawData, null, internalSource);\n  var rawCounter = getRawSourceDataCounter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n  extSource.count = bind(rawCounter, null, data, sourceHeaderCount, dimensions);\n  var rawValueGetter = getRawSourceValueGetter(sourceFormat);\n\n  extSource.retrieveValue = function (dataIndex, dimIndex) {\n    var rawItem = rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    return retrieveValueFromItem(rawItem, dimIndex);\n  };\n\n  var retrieveValueFromItem = extSource.retrieveValueFromItem = function (dataItem, dimIndex) {\n    if (dataItem == null) {\n      return;\n    }\n\n    var dimDef = dimensions[dimIndex]; // When `dimIndex` is `null`, `rawValueGetter` return the whole item.\n\n    if (dimDef) {\n      return rawValueGetter(dataItem, dimIndex, dimDef.name);\n    }\n  };\n\n  extSource.getDimensionInfo = bind(getDimensionInfo, null, dimensions, dimsByName);\n  extSource.cloneAllDimensionInfo = bind(cloneAllDimensionInfo, null, dimensions);\n  return extSource;\n}\n\nfunction getRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`getRawData` is not supported in source format ' + sourceFormat;\n    }\n\n    throwError(errMsg);\n  }\n\n  return upstream.data;\n}\n\nfunction cloneRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n  var data = upstream.data;\n\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`cloneRawData` is not supported in source format ' + sourceFormat;\n    }\n\n    throwError(errMsg);\n  }\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var result = [];\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(data[i].slice());\n    }\n\n    return result;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    var result = [];\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(extend({}, data[i]));\n    }\n\n    return result;\n  }\n}\n\nfunction getDimensionInfo(dimensions, dimsByName, dim) {\n  if (dim == null) {\n    return;\n  } // Keep the same logic as `List::getDimension` did.\n\n\n  if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n  || !isNaN(dim) && !hasOwn(dimsByName, dim)) {\n    return dimensions[dim];\n  } else if (hasOwn(dimsByName, dim)) {\n    return dimsByName[dim];\n  }\n}\n\nfunction cloneAllDimensionInfo(dimensions) {\n  return clone(dimensions);\n}\n\nvar externalTransformMap = createHashMap();\nexport function registerExternalTransform(externalTransform) {\n  externalTransform = clone(externalTransform);\n  var type = externalTransform.type;\n  var errMsg = '';\n\n  if (!type) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have a `type` when `registerTransform`.';\n    }\n\n    throwError(errMsg);\n  }\n\n  var typeParsed = type.split(':');\n\n  if (typeParsed.length !== 2) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Name must include namespace like \"ns:regression\".';\n    }\n\n    throwError(errMsg);\n  } // Namespace 'echarts:xxx' is official namespace, where the transforms should\n  // be called directly via 'xxx' rather than 'echarts:xxx'.\n\n\n  var isBuiltIn = false;\n\n  if (typeParsed[0] === 'echarts') {\n    type = typeParsed[1];\n    isBuiltIn = true;\n  }\n\n  externalTransform.__isBuiltIn = isBuiltIn;\n  externalTransformMap.set(type, externalTransform);\n}\nexport function applyDataTransform(rawTransOption, sourceList, infoForPrint) {\n  var pipedTransOption = normalizeToArray(rawTransOption);\n  var pipeLen = pipedTransOption.length;\n  var errMsg = '';\n\n  if (!pipeLen) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'If `transform` declared, it should at least contain one transform.';\n    }\n\n    throwError(errMsg);\n  }\n\n  for (var i = 0, len = pipeLen; i < len; i++) {\n    var transOption = pipedTransOption[i];\n    sourceList = applySingleDataTransform(transOption, sourceList, infoForPrint, pipeLen === 1 ? null : i); // piped transform only support single input, except the fist one.\n    // piped transform only support single output, except the last one.\n\n    if (i !== len - 1) {\n      sourceList.length = Math.max(sourceList.length, 1);\n    }\n  }\n\n  return sourceList;\n}\n\nfunction applySingleDataTransform(transOption, upSourceList, infoForPrint, // If `pipeIndex` is null/undefined, no piped transform.\npipeIndex) {\n  var errMsg = '';\n\n  if (!upSourceList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have at least one upstream dataset.';\n    }\n\n    throwError(errMsg);\n  }\n\n  if (!isObject(transOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'transform declaration must be an object rather than ' + typeof transOption + '.';\n    }\n\n    throwError(errMsg);\n  }\n\n  var transType = transOption.type;\n  var externalTransform = externalTransformMap.get(transType);\n\n  if (!externalTransform) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Can not find transform on type \"' + transType + '\".';\n    }\n\n    throwError(errMsg);\n  } // Prepare source\n\n\n  var extUpSourceList = map(upSourceList, function (upSource) {\n    return createExternalSource(upSource, externalTransform);\n  });\n  var resultList = normalizeToArray(externalTransform.transform({\n    upstream: extUpSourceList[0],\n    upstreamList: extUpSourceList,\n    config: clone(transOption.config)\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (transOption.print) {\n      var printStrArr = map(resultList, function (extSource) {\n        var pipeIndexStr = pipeIndex != null ? ' === pipe index: ' + pipeIndex : '';\n        return ['=== dataset index: ' + infoForPrint.datasetIndex + pipeIndexStr + ' ===', '- transform result data:', makePrintable(extSource.data), '- transform result dimensions:', makePrintable(extSource.dimensions)].join('\\n');\n      }).join('\\n');\n      consoleLog(printStrArr);\n    }\n  }\n\n  return map(resultList, function (result, resultIndex) {\n    var errMsg = '';\n\n    if (!isObject(result)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'A transform should not return some empty results.';\n      }\n\n      throwError(errMsg);\n    }\n\n    if (!result.data) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be not be null or undefined';\n      }\n\n      throwError(errMsg);\n    }\n\n    var sourceFormat = detectSourceFormat(result.data);\n\n    if (!isSupportedSourceFormat(sourceFormat)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be array rows or object rows.';\n      }\n\n      throwError(errMsg);\n    }\n\n    var resultMetaRawOption;\n    var firstUpSource = upSourceList[0];\n    /**\n     * Intuitively, the end users known the content of the original `dataset.source`,\n     * calucating the transform result in mind.\n     * Suppose the original `dataset.source` is:\n     * ```js\n     * [\n     *     ['product', '2012', '2013', '2014', '2015'],\n     *     ['AAA', 41.1, 30.4, 65.1, 53.3],\n     *     ['BBB', 86.5, 92.1, 85.7, 83.1],\n     *     ['CCC', 24.1, 67.2, 79.5, 86.4]\n     * ]\n     * ```\n     * The dimension info have to be detected from the source data.\n     * Some of the transformers (like filter, sort) will follow the dimension info\n     * of upstream, while others use new dimensions (like aggregate).\n     * Transformer can output a field `dimensions` to define the its own output dimensions.\n     * We also allow transformers to ignore the output `dimensions` field, and\n     * inherit the upstream dimensions definition. It can reduce the burden of handling\n     * dimensions in transformers.\n     *\n     * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\n     */\n\n    if (firstUpSource && resultIndex === 0 // If transformer returns `dimensions`, it means that the transformer has different\n    // dimensions definitions. We do not inherit anything from upstream.\n    && !result.dimensions) {\n      var startIndex = firstUpSource.startIndex; // We copy the header of upstream to the result becuase:\n      // (1) The returned data always does not contain header line and can not be used\n      // as dimension-detection. In this case we can not use \"detected dimensions\" of\n      // upstream directly, because it might be detected based on different `seriesLayoutBy`.\n      // (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.\n      // So the original detected header should be add to the result, otherwise they can not be read.\n\n      if (startIndex) {\n        result.data = firstUpSource.data.slice(0, startIndex).concat(result.data);\n      }\n\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: startIndex,\n        dimensions: firstUpSource.metaRawOption.dimensions\n      };\n    } else {\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: 0,\n        dimensions: result.dimensions\n      };\n    }\n\n    return createSource(result.data, resultMetaRawOption, null, null);\n  });\n}\n\nfunction isSupportedSourceFormat(sourceFormat) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS || sourceFormat === SOURCE_FORMAT_OBJECT_ROWS;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { setAsPrimitive, map, isTypedArray, assert, each, retrieve2 } from 'zrender/lib/core/util';\nimport { createSource, cloneSourceShallow } from '../Source';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../../util/types';\nimport { querySeriesUpstreamDatasetModel, queryDatasetUpstreamDatasetModels } from './sourceHelper';\nimport { applyDataTransform } from './transform';\n/**\n * [REQUIREMENT_MEMO]:\n * (0) `metaRawOption` means `dimensions`/`sourceHeader`/`seriesLayoutBy` in raw option.\n * (1) Keep support the feature: `metaRawOption` can be specified both on `series` and\n * `root-dataset`. Them on `series` has higher priority.\n * (2) Do not support to set `metaRawOption` on a `non-root-dataset`, because it might\n * confuse users: whether those props indicate how to visit the upstream source or visit\n * the transform result source, and some transforms has nothing to do with these props,\n * and some transforms might have multiple upstream.\n * (3) Transforms should specify `metaRawOption` in each output, just like they can be\n * declared in `root-dataset`.\n * (4) At present only support visit source in `SERIES_LAYOUT_BY_COLUMN` in transforms.\n * That is for reducing complexity in transfroms.\n * PENDING: Whether to provide transposition transform?\n *\n * [IMPLEMENTAION_MEMO]:\n * \"sourceVisitConfig\" are calculated from `metaRawOption` and `data`.\n * They will not be calculated until `source` is about to be visited (to prevent from\n * duplicate calcuation). `source` is visited only in series and input to transforms.\n *\n * [DIMENSION_INHERIT_RULE]:\n * By default the dimensions are inherited from ancestors, unless a transform return\n * a new dimensions definition.\n * Consider the case:\n * ```js\n * dataset: [{\n *     source: [ ['Product', 'Sales', 'Prise'], ['Cookies', 321, 44.21], ...]\n * }, {\n *     transform: { type: 'filter', ... }\n * }]\n * dataset: [{\n *     dimension: ['Product', 'Sales', 'Prise'],\n *     source: [ ['Cookies', 321, 44.21], ...]\n * }, {\n *     transform: { type: 'filter', ... }\n * }]\n * ```\n * The two types of option should have the same behavior after transform.\n *\n *\n * [SCENARIO]:\n * (1) Provide source data directly:\n * ```js\n * series: {\n *     encode: {...},\n *     dimensions: [...]\n *     seriesLayoutBy: 'row',\n *     data: [[...]]\n * }\n * ```\n * (2) Series refer to dataset.\n * ```js\n * series: [{\n *     encode: {...}\n *     // Ignore datasetIndex means `datasetIndex: 0`\n *     // and the dimensions defination in dataset is used\n * }, {\n *     encode: {...},\n *     seriesLayoutBy: 'column',\n *     datasetIndex: 1\n * }]\n * ```\n * (3) dataset transform\n * ```js\n * dataset: [{\n *     source: [...]\n * }, {\n *     source: [...]\n * }, {\n *     // By default from 0.\n *     transform: { type: 'filter', config: {...} }\n * }, {\n *     // Piped.\n *     transform: [\n *         { type: 'filter', config: {...} },\n *         { type: 'sort', config: {...} }\n *     ]\n * }, {\n *     id: 'regressionData',\n *     fromDatasetIndex: 1,\n *     // Third-party transform\n *     transform: { type: 'ecStat:regression', config: {...} }\n * }, {\n *     // retrieve the extra result.\n *     id: 'regressionFormula',\n *     fromDatasetId: 'regressionData',\n *     fromTransformResult: 1\n * }]\n * ```\n */\n\nvar SourceManager =\n/** @class */\nfunction () {\n  function SourceManager(sourceHost) {\n    // Cached source. Do not repeat calculating if not dirty.\n    this._sourceList = []; // version sign of each upstream source manager.\n\n    this._upstreamSignList = [];\n    this._versionSignBase = 0;\n    this._sourceHost = sourceHost;\n  }\n  /**\n   * Mark dirty.\n   */\n\n\n  SourceManager.prototype.dirty = function () {\n    this._setLocalSource([], []);\n  };\n\n  SourceManager.prototype._setLocalSource = function (sourceList, upstreamSignList) {\n    this._sourceList = sourceList;\n    this._upstreamSignList = upstreamSignList;\n    this._versionSignBase++;\n\n    if (this._versionSignBase > 9e10) {\n      this._versionSignBase = 0;\n    }\n  };\n  /**\n   * For detecting whether the upstream source is dirty, so that\n   * the local cached source (in `_sourceList`) should be discarded.\n   */\n\n\n  SourceManager.prototype._getVersionSign = function () {\n    return this._sourceHost.uid + '_' + this._versionSignBase;\n  };\n  /**\n   * Always return a source instance. Otherwise throw error.\n   */\n\n\n  SourceManager.prototype.prepareSource = function () {\n    // For the case that call `setOption` multiple time but no data changed,\n    // cache the result source to prevent from repeating transform.\n    if (this._isDirty()) {\n      this._createSource();\n    }\n  };\n\n  SourceManager.prototype._createSource = function () {\n    this._setLocalSource([], []);\n\n    var sourceHost = this._sourceHost;\n\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n\n    var hasUpstream = !!upSourceMgrList.length;\n    var resultSourceList;\n    var upstreamSignList;\n\n    if (isSeries(sourceHost)) {\n      var seriesModel = sourceHost;\n      var data = void 0;\n      var sourceFormat = void 0;\n      var upSource = void 0; // Has upstream dataset\n\n      if (hasUpstream) {\n        var upSourceMgr = upSourceMgrList[0];\n        upSourceMgr.prepareSource();\n        upSource = upSourceMgr.getSource();\n        data = upSource.data;\n        sourceFormat = upSource.sourceFormat;\n        upstreamSignList = [upSourceMgr._getVersionSign()];\n      } // Series data is from own.\n      else {\n          data = seriesModel.get('data', true);\n          sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\n          upstreamSignList = [];\n        } // See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.\n\n\n      var newMetaRawOption = this._getSourceMetaRawOption();\n\n      var upMetaRawOption = upSource ? upSource.metaRawOption : null;\n      var seriesLayoutBy = retrieve2(newMetaRawOption.seriesLayoutBy, upMetaRawOption ? upMetaRawOption.seriesLayoutBy : null);\n      var sourceHeader = retrieve2(newMetaRawOption.sourceHeader, upMetaRawOption ? upMetaRawOption.sourceHeader : null); // Note here we should not use `upSource.dimensionsDefine`. Consider the case:\n      // `upSource.dimensionsDefine` is detected by `seriesLayoutBy: 'column'`,\n      // but series need `seriesLayoutBy: 'row'`.\n\n      var dimensions = retrieve2(newMetaRawOption.dimensions, upMetaRawOption ? upMetaRawOption.dimensions : null);\n      resultSourceList = [createSource(data, {\n        seriesLayoutBy: seriesLayoutBy,\n        sourceHeader: sourceHeader,\n        dimensions: dimensions\n      }, sourceFormat, seriesModel.get('encode', true))];\n    } else {\n      var datasetModel = sourceHost; // Has upstream dataset.\n\n      if (hasUpstream) {\n        var result = this._applyTransform(upSourceMgrList);\n\n        resultSourceList = result.sourceList;\n        upstreamSignList = result.upstreamSignList;\n      } // Is root dataset.\n      else {\n          var sourceData = datasetModel.get('source', true);\n          resultSourceList = [createSource(sourceData, this._getSourceMetaRawOption(), null, // Note: dataset option does not have `encode`.\n          null)];\n          upstreamSignList = [];\n        }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(resultSourceList && upstreamSignList);\n    }\n\n    this._setLocalSource(resultSourceList, upstreamSignList);\n  };\n\n  SourceManager.prototype._applyTransform = function (upMgrList) {\n    var datasetModel = this._sourceHost;\n    var transformOption = datasetModel.get('transform', true);\n    var fromTransformResult = datasetModel.get('fromTransformResult', true);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(fromTransformResult != null || transformOption != null);\n    }\n\n    if (fromTransformResult != null) {\n      var errMsg = '';\n\n      if (upMgrList.length !== 1) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'When using `fromTransformResult`, there should be only one upstream dataset';\n        }\n\n        doThrow(errMsg);\n      }\n    }\n\n    var sourceList;\n    var upSourceList = [];\n    var upstreamSignList = [];\n    each(upMgrList, function (upMgr) {\n      upMgr.prepareSource();\n      var upSource = upMgr.getSource(fromTransformResult || 0);\n      var errMsg = '';\n\n      if (fromTransformResult != null && !upSource) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Can not retrieve result by `fromTransformResult`: ' + fromTransformResult;\n        }\n\n        doThrow(errMsg);\n      }\n\n      upSourceList.push(upSource);\n      upstreamSignList.push(upMgr._getVersionSign());\n    });\n\n    if (transformOption) {\n      sourceList = applyDataTransform(transformOption, upSourceList, {\n        datasetIndex: datasetModel.componentIndex\n      });\n    } else if (fromTransformResult != null) {\n      sourceList = [cloneSourceShallow(upSourceList[0])];\n    }\n\n    return {\n      sourceList: sourceList,\n      upstreamSignList: upstreamSignList\n    };\n  };\n\n  SourceManager.prototype._isDirty = function () {\n    var sourceList = this._sourceList;\n\n    if (!sourceList.length) {\n      return true;\n    } // All sourceList is from the some upsteam.\n\n\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n\n    for (var i = 0; i < upSourceMgrList.length; i++) {\n      var upSrcMgr = upSourceMgrList[i];\n\n      if ( // Consider the case that there is ancestor diry, call it recursively.\n      // The performance is probably not an issue because usually the chain is not long.\n      upSrcMgr._isDirty() || this._upstreamSignList[i] !== upSrcMgr._getVersionSign()) {\n        return true;\n      }\n    }\n  };\n  /**\n   * @param sourceIndex By defualt 0, means \"main source\".\n   *                    Most cases there is only one source.\n   */\n\n\n  SourceManager.prototype.getSource = function (sourceIndex) {\n    return this._sourceList[sourceIndex || 0];\n  };\n  /**\n   * PEDING: Is it fast enough?\n   * If no upstream, return empty array.\n   */\n\n\n  SourceManager.prototype._getUpstreamSourceManagers = function () {\n    // Always get the relationship from the raw option.\n    // Do not cache the link of the dependency graph, so that\n    // no need to update them when change happen.\n    var sourceHost = this._sourceHost;\n\n    if (isSeries(sourceHost)) {\n      var datasetModel = querySeriesUpstreamDatasetModel(sourceHost);\n      return !datasetModel ? [] : [datasetModel.getSourceManager()];\n    } else {\n      return map(queryDatasetUpstreamDatasetModels(sourceHost), function (datasetModel) {\n        return datasetModel.getSourceManager();\n      });\n    }\n  };\n\n  SourceManager.prototype._getSourceMetaRawOption = function () {\n    var sourceHost = this._sourceHost;\n    var seriesLayoutBy;\n    var sourceHeader;\n    var dimensions;\n\n    if (isSeries(sourceHost)) {\n      seriesLayoutBy = sourceHost.get('seriesLayoutBy', true);\n      sourceHeader = sourceHost.get('sourceHeader', true);\n      dimensions = sourceHost.get('dimensions', true);\n    } // See [REQUIREMENT_MEMO], `non-root-dataset` do not support them.\n    else if (!this._getUpstreamSourceManagers().length) {\n        var model = sourceHost;\n        seriesLayoutBy = model.get('seriesLayoutBy', true);\n        sourceHeader = model.get('sourceHeader', true);\n        dimensions = model.get('dimensions', true);\n      }\n\n    return {\n      seriesLayoutBy: seriesLayoutBy,\n      sourceHeader: sourceHeader,\n      dimensions: dimensions\n    };\n  };\n\n  return SourceManager;\n}();\n\nexport { SourceManager }; // Call this method after `super.init` and `super.mergeOption` to\n// disable the transform merge, but do not disable transfrom clone from rawOption.\n\nexport function disableTransformOptionMerge(datasetModel) {\n  var transformOption = datasetModel.option.transform;\n  transformOption && setAsPrimitive(datasetModel.option.transform);\n}\n\nfunction isSeries(sourceHost) {\n  // Avoid circular dependency with Series.ts\n  return sourceHost.mainType === 'series';\n}\n\nfunction doThrow(errMsg) {\n  throw new Error(errMsg);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getTooltipMarker, encodeHTML, makeValueReadable, convertToColorString } from '../../util/format';\nimport { isString, each, hasOwn, isArray, map, assert, extend } from 'zrender/lib/core/util';\nimport { SortOrderComparator } from '../../data/helper/dataValueHelper';\nimport { getRandomIdBase } from '../../util/number';\nvar TOOLTIP_LINE_HEIGHT_CSS = 'line-height:1'; // TODO: more textStyle option\n\nfunction getTooltipTextStyle(textStyle, renderMode) {\n  var nameFontColor = textStyle.color || '#6e7079';\n  var nameFontSize = textStyle.fontSize || 12;\n  var nameFontWeight = textStyle.fontWeight || '400';\n  var valueFontColor = textStyle.color || '#464646';\n  var valueFontSize = textStyle.fontSize || 14;\n  var valueFontWeight = textStyle.fontWeight || '900';\n\n  if (renderMode === 'html') {\n    // `textStyle` is probably from user input, should be encoded to reduce security risk.\n    return {\n      // eslint-disable-next-line max-len\n      nameStyle: \"font-size:\" + encodeHTML(nameFontSize + '') + \"px;color:\" + encodeHTML(nameFontColor) + \";font-weight:\" + encodeHTML(nameFontWeight + ''),\n      // eslint-disable-next-line max-len\n      valueStyle: \"font-size:\" + encodeHTML(valueFontSize + '') + \"px;color:\" + encodeHTML(valueFontColor) + \";font-weight:\" + encodeHTML(valueFontWeight + '')\n    };\n  } else {\n    return {\n      nameStyle: {\n        fontSize: nameFontSize,\n        fill: nameFontColor,\n        fontWeight: nameFontWeight\n      },\n      valueStyle: {\n        fontSize: valueFontSize,\n        fill: valueFontColor,\n        fontWeight: valueFontWeight\n      }\n    };\n  }\n} // See `TooltipMarkupLayoutIntent['innerGapLevel']`.\n// (value from UI design)\n\n\nvar HTML_GAPS = [0, 10, 20, 30];\nvar RICH_TEXT_GAPS = ['', '\\n', '\\n\\n', '\\n\\n\\n']; // eslint-disable-next-line max-len\n\nexport function createTooltipMarkup(type, option) {\n  option.type = type;\n  return option;\n}\n\nfunction getBuilder(fragment) {\n  return hasOwn(builderMap, fragment.type) && builderMap[fragment.type];\n}\n\nvar builderMap = {\n  /**\n   * A `section` block is like:\n   * ```\n   * header\n   * subBlock\n   * subBlock\n   * ...\n   * ```\n   */\n  section: {\n    planLayout: function (fragment) {\n      var subBlockLen = fragment.blocks.length;\n      var thisBlockHasInnerGap = subBlockLen > 1 || subBlockLen > 0 && !fragment.noHeader;\n      var thisGapLevelBetweenSubBlocks = 0;\n      each(fragment.blocks, function (subBlock) {\n        getBuilder(subBlock).planLayout(subBlock);\n        var subGapLevel = subBlock.__gapLevelBetweenSubBlocks; // If the some of the sub-blocks have some gaps (like 10px) inside, this block\n        // should use a larger gap (like 20px) to distinguish those sub-blocks.\n\n        if (subGapLevel >= thisGapLevelBetweenSubBlocks) {\n          thisGapLevelBetweenSubBlocks = subGapLevel + (thisBlockHasInnerGap && ( // 0 always can not be readable gap level.\n          !subGapLevel // If no header, always keep the sub gap level. Otherwise\n          // look weird in case `multipleSeries`.\n          || subBlock.type === 'section' && !subBlock.noHeader) ? 1 : 0);\n        }\n      });\n      fragment.__gapLevelBetweenSubBlocks = thisGapLevelBetweenSubBlocks;\n    },\n    build: function (ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n      var noHeader = fragment.noHeader;\n      var gaps = getGap(fragment);\n      var subMarkupText = buildSubBlocks(ctx, fragment, noHeader ? topMarginForOuterGap : gaps.html, toolTipTextStyle);\n\n      if (noHeader) {\n        return subMarkupText;\n      }\n\n      var displayableHeader = makeValueReadable(fragment.header, 'ordinal', ctx.useUTC);\n      var nameStyle = getTooltipTextStyle(toolTipTextStyle, ctx.renderMode).nameStyle;\n\n      if (ctx.renderMode === 'richText') {\n        return wrapInlineNameRichText(ctx, displayableHeader, nameStyle) + gaps.richText + subMarkupText;\n      } else {\n        return wrapBlockHTML(\"<div style=\\\"\" + nameStyle + \";\" + TOOLTIP_LINE_HEIGHT_CSS + \";\\\">\" + encodeHTML(displayableHeader) + '</div>' + subMarkupText, topMarginForOuterGap);\n      }\n    }\n  },\n\n  /**\n   * A `nameValue` block is like:\n   * ```\n   * marker  name  value\n   * ```\n   */\n  nameValue: {\n    planLayout: function (fragment) {\n      fragment.__gapLevelBetweenSubBlocks = 0;\n    },\n    build: function (ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n      var renderMode = ctx.renderMode;\n      var noName = fragment.noName;\n      var noValue = fragment.noValue;\n      var noMarker = !fragment.markerType;\n      var name = fragment.name;\n      var value = fragment.value;\n      var useUTC = ctx.useUTC;\n\n      if (noName && noValue) {\n        return;\n      }\n\n      var markerStr = noMarker ? '' : ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType, fragment.markerColor || '#333', renderMode);\n      var readableName = noName ? '' : makeValueReadable(name, 'ordinal', useUTC);\n      var valueTypeOption = fragment.valueType;\n      var readableValueList = noValue ? [] : isArray(value) ? map(value, function (val, idx) {\n        return makeValueReadable(val, isArray(valueTypeOption) ? valueTypeOption[idx] : valueTypeOption, useUTC);\n      }) : [makeValueReadable(value, isArray(valueTypeOption) ? valueTypeOption[0] : valueTypeOption, useUTC)];\n      var valueAlignRight = !noMarker || !noName; // It little weird if only value next to marker but far from marker.\n\n      var valueCloseToMarker = !noMarker && noName;\n\n      var _a = getTooltipTextStyle(toolTipTextStyle, renderMode),\n          nameStyle = _a.nameStyle,\n          valueStyle = _a.valueStyle;\n\n      return renderMode === 'richText' ? (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameRichText(ctx, readableName, nameStyle)) // Value has commas inside, so use ' ' as delimiter for multiple values.\n      + (noValue ? '' : wrapInlineValueRichText(ctx, readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)) : wrapBlockHTML((noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameHTML(readableName, !noMarker, nameStyle)) + (noValue ? '' : wrapInlineValueHTML(readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)), topMarginForOuterGap);\n    }\n  }\n};\n\nfunction buildSubBlocks(ctx, fragment, topMarginForOuterGap, tooltipTextStyle) {\n  var subMarkupTextList = [];\n  var subBlocks = fragment.blocks || [];\n  assert(!subBlocks || isArray(subBlocks));\n  subBlocks = subBlocks || [];\n  var orderMode = ctx.orderMode;\n\n  if (fragment.sortBlocks && orderMode) {\n    subBlocks = subBlocks.slice();\n    var orderMap = {\n      valueAsc: 'asc',\n      valueDesc: 'desc'\n    };\n\n    if (hasOwn(orderMap, orderMode)) {\n      var comparator_1 = new SortOrderComparator(orderMap[orderMode], null);\n      subBlocks.sort(function (a, b) {\n        return comparator_1.evaluate(a.sortParam, b.sortParam);\n      });\n    } // FIXME 'seriesDesc' necessary?\n    else if (orderMode === 'seriesDesc') {\n        subBlocks.reverse();\n      }\n  }\n\n  var gaps = getGap(fragment);\n  each(subBlocks, function (subBlock, idx) {\n    var subMarkupText = getBuilder(subBlock).build(ctx, subBlock, idx > 0 ? gaps.html : 0, tooltipTextStyle);\n    subMarkupText != null && subMarkupTextList.push(subMarkupText);\n  });\n\n  if (!subMarkupTextList.length) {\n    return;\n  }\n\n  return ctx.renderMode === 'richText' ? subMarkupTextList.join(gaps.richText) : wrapBlockHTML(subMarkupTextList.join(''), topMarginForOuterGap);\n}\n/**\n * @return markupText. null/undefined means no content.\n */\n\n\nexport function buildTooltipMarkup(fragment, markupStyleCreator, renderMode, orderMode, useUTC, toolTipTextStyle) {\n  if (!fragment) {\n    return;\n  }\n\n  var builder = getBuilder(fragment);\n  builder.planLayout(fragment);\n  var ctx = {\n    useUTC: useUTC,\n    renderMode: renderMode,\n    orderMode: orderMode,\n    markupStyleCreator: markupStyleCreator\n  };\n  return builder.build(ctx, fragment, 0, toolTipTextStyle);\n}\n\nfunction getGap(fragment) {\n  var gapLevelBetweenSubBlocks = fragment.__gapLevelBetweenSubBlocks;\n  return {\n    html: HTML_GAPS[gapLevelBetweenSubBlocks],\n    richText: RICH_TEXT_GAPS[gapLevelBetweenSubBlocks]\n  };\n}\n\nfunction wrapBlockHTML(encodedContent, topGap) {\n  var clearfix = '<div style=\"clear:both\"></div>';\n  var marginCSS = \"margin: \" + topGap + \"px 0 0\";\n  return \"<div style=\\\"\" + marginCSS + \";\" + TOOLTIP_LINE_HEIGHT_CSS + \";\\\">\" + encodedContent + clearfix + '</div>';\n}\n\nfunction wrapInlineNameHTML(name, leftHasMarker, style) {\n  var marginCss = leftHasMarker ? 'margin-left:2px' : '';\n  return \"<span style=\\\"\" + style + \";\" + marginCss + \"\\\">\" + encodeHTML(name) + '</span>';\n}\n\nfunction wrapInlineValueHTML(valueList, alignRight, valueCloseToMarker, style) {\n  // Do not too close to marker, considering there are multiple values separated by spaces.\n  var paddingStr = valueCloseToMarker ? '10px' : '20px';\n  var alignCSS = alignRight ? \"float:right;margin-left:\" + paddingStr : '';\n  return \"<span style=\\\"\" + alignCSS + \";\" + style + \"\\\">\" // Value has commas inside, so use '  ' as delimiter for multiple values.\n  + map(valueList, function (value) {\n    return encodeHTML(value);\n  }).join('&nbsp;&nbsp;') + '</span>';\n}\n\nfunction wrapInlineNameRichText(ctx, name, style) {\n  return ctx.markupStyleCreator.wrapRichTextStyle(name, style);\n}\n\nfunction wrapInlineValueRichText(ctx, valueList, alignRight, valueCloseToMarker, style) {\n  var styles = [style];\n  var paddingLeft = valueCloseToMarker ? 10 : 20;\n  alignRight && styles.push({\n    padding: [0, 0, 0, paddingLeft],\n    align: 'right'\n  }); // Value has commas inside, so use '  ' as delimiter for multiple values.\n\n  return ctx.markupStyleCreator.wrapRichTextStyle(valueList.join('  '), styles);\n}\n\nexport function retrieveVisualColorForTooltipMarker(series, dataIndex) {\n  var style = series.getData().getItemVisual(dataIndex, 'style');\n  var color = style[series.visualDrawType];\n  return convertToColorString(color);\n}\nexport function getPaddingFromTooltipModel(model, renderMode) {\n  var padding = model.get('padding');\n  return padding != null ? padding // We give slightly different to look pretty.\n  : renderMode === 'richText' ? [8, 10] : 10;\n}\n/**\n * The major feature is generate styles for `renderMode: 'richText'`.\n * But it also serves `renderMode: 'html'` to provide\n * \"renderMode-independent\" API.\n */\n\nvar TooltipMarkupStyleCreator =\n/** @class */\nfunction () {\n  function TooltipMarkupStyleCreator() {\n    this.richTextStyles = {}; // Notice that \"generate a style name\" usuall happens repeatly when mouse moving and\n    // displaying a tooltip. So we put the `_nextStyleNameId` as a member of each creator\n    // rather than static shared by all creators (which will cause it increase to fast).\n\n    this._nextStyleNameId = getRandomIdBase();\n  }\n\n  TooltipMarkupStyleCreator.prototype._generateStyleName = function () {\n    return '__EC_aUTo_' + this._nextStyleNameId++;\n  };\n\n  TooltipMarkupStyleCreator.prototype.makeTooltipMarker = function (markerType, colorStr, renderMode) {\n    var markerId = renderMode === 'richText' ? this._generateStyleName() : null;\n    var marker = getTooltipMarker({\n      color: colorStr,\n      type: markerType,\n      renderMode: renderMode,\n      markerId: markerId\n    });\n\n    if (isString(marker)) {\n      return marker;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(markerId);\n      }\n\n      this.richTextStyles[markerId] = marker.style;\n      return marker.content;\n    }\n  };\n  /**\n   * @usage\n   * ```ts\n   * const styledText = markupStyleCreator.wrapRichTextStyle([\n   *     // The styles will be auto merged.\n   *     {\n   *         fontSize: 12,\n   *         color: 'blue'\n   *     },\n   *     {\n   *         padding: 20\n   *     }\n   * ]);\n   * ```\n   */\n\n\n  TooltipMarkupStyleCreator.prototype.wrapRichTextStyle = function (text, styles) {\n    var finalStl = {};\n\n    if (isArray(styles)) {\n      each(styles, function (stl) {\n        return extend(finalStl, stl);\n      });\n    } else {\n      extend(finalStl, styles);\n    }\n\n    var styleName = this._generateStyleName();\n\n    this.richTextStyles[styleName] = finalStl;\n    return \"{\" + styleName + \"|\" + text + \"}\";\n  };\n\n  return TooltipMarkupStyleCreator;\n}();\n\nexport { TooltipMarkupStyleCreator };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { trim, isArray, each, reduce } from 'zrender/lib/core/util';\nimport { retrieveVisualColorForTooltipMarker, createTooltipMarkup } from './tooltipMarkup';\nimport { retrieveRawValue } from '../../data/helper/dataProvider';\nimport { isNameSpecified } from '../../util/model';\nexport function defaultSeriesFormatTooltip(opt) {\n  var series = opt.series;\n  var dataIndex = opt.dataIndex;\n  var multipleSeries = opt.multipleSeries;\n  var data = series.getData();\n  var tooltipDims = data.mapDimensionsAll('defaultedTooltip');\n  var tooltipDimLen = tooltipDims.length;\n  var value = series.getRawValue(dataIndex);\n  var isValueArr = isArray(value);\n  var markerColor = retrieveVisualColorForTooltipMarker(series, dataIndex); // Complicated rule for pretty tooltip.\n\n  var inlineValue;\n  var inlineValueType;\n  var subBlocks;\n  var sortParam;\n\n  if (tooltipDimLen > 1 || isValueArr && !tooltipDimLen) {\n    var formatArrResult = formatTooltipArrayValue(value, series, dataIndex, tooltipDims, markerColor);\n    inlineValue = formatArrResult.inlineValues;\n    inlineValueType = formatArrResult.inlineValueTypes;\n    subBlocks = formatArrResult.blocks; // Only support tooltip sort by the first inline value. It's enough in most cases.\n\n    sortParam = formatArrResult.inlineValues[0];\n  } else if (tooltipDimLen) {\n    var dimInfo = data.getDimensionInfo(tooltipDims[0]);\n    sortParam = inlineValue = retrieveRawValue(data, dataIndex, tooltipDims[0]);\n    inlineValueType = dimInfo.type;\n  } else {\n    sortParam = inlineValue = isValueArr ? value[0] : value;\n  } // Do not show generated series name. It might not be readable.\n\n\n  var seriesNameSpecified = isNameSpecified(series);\n  var seriesName = seriesNameSpecified && series.name || '';\n  var itemName = data.getName(dataIndex);\n  var inlineName = multipleSeries ? seriesName : itemName;\n  return createTooltipMarkup('section', {\n    header: seriesName,\n    // When series name not specified, do not show a header line with only '-'.\n    // This case alway happen in tooltip.trigger: 'item'.\n    noHeader: multipleSeries || !seriesNameSpecified,\n    sortParam: sortParam,\n    blocks: [createTooltipMarkup('nameValue', {\n      markerType: 'item',\n      markerColor: markerColor,\n      // Do not mix display seriesName and itemName in one tooltip,\n      // which might confuses users.\n      name: inlineName,\n      // name dimension might be auto assigned, where the name might\n      // be not readable. So we check trim here.\n      noName: !trim(inlineName),\n      value: inlineValue,\n      valueType: inlineValueType\n    })].concat(subBlocks || [])\n  });\n}\n\nfunction formatTooltipArrayValue(value, series, dataIndex, tooltipDims, colorStr) {\n  // check: category-no-encode-has-axis-data in dataset.html\n  var data = series.getData();\n  var isValueMultipleLine = reduce(value, function (isValueMultipleLine, val, idx) {\n    var dimItem = data.getDimensionInfo(idx);\n    return isValueMultipleLine = isValueMultipleLine || dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n  }, false);\n  var inlineValues = [];\n  var inlineValueTypes = [];\n  var blocks = [];\n  tooltipDims.length ? each(tooltipDims, function (dim) {\n    setEachItem(retrieveRawValue(data, dataIndex, dim), dim);\n  }) // By default, all dims is used on tooltip.\n  : each(value, setEachItem);\n\n  function setEachItem(val, dim) {\n    var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\n\n    if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n      return;\n    }\n\n    if (isValueMultipleLine) {\n      blocks.push(createTooltipMarkup('nameValue', {\n        markerType: 'subItem',\n        markerColor: colorStr,\n        name: dimInfo.displayName,\n        value: val,\n        valueType: dimInfo.type\n      }));\n    } else {\n      inlineValues.push(val);\n      inlineValueTypes.push(dimInfo.type);\n    }\n  }\n\n  return {\n    inlineValues: inlineValues,\n    inlineValueTypes: inlineValueTypes,\n    blocks: blocks\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends, __spreadArrays } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport env from 'zrender/lib/core/env';\nimport * as modelUtil from '../util/model';\nimport ComponentModel from './Component';\nimport { PaletteMixin } from './mixin/palette';\nimport { DataFormatMixin } from '../model/mixin/dataFormat';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout';\nimport { createTask } from '../core/task';\nimport { mountExtend } from '../util/clazz';\nimport { SourceManager } from '../data/helper/sourceManager';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip';\nvar inner = modelUtil.makeInner();\n\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\n\nvar SeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SeriesModel, _super);\n\n  function SeriesModel() {\n    // [Caution]: Becuase this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this; // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n\n\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkList\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n\n\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overriden.\n   */\n\n\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n\n\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n\n\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var data = task.context.data;\n      return dataType == null ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var context = task.context; // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n\n      context.outputData = data; // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n\n    inner(this).data = data;\n  };\n\n  SeriesModel.prototype.getSource = function () {\n    return inner(this).sourceManager.getSource();\n  };\n  /**\n   * Get data before processed\n   */\n\n\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overrided for some chart.\n   * @return {type} description\n   */\n\n\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem; // @ts-ignore\n\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n\n\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    if (env.node) {\n      return false;\n    }\n\n    var animationEnabled = this.getShallow('animation');\n\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n\n    return !!animationEnabled;\n  };\n\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n\n\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  }; // PENGING If selectedMode is null ?\n\n\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return;\n    }\n\n    var data = this.getData(dataType);\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n\n    return dataIndices;\n  };\n\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return false;\n    }\n\n    var data = this.getData(dataType);\n    var nameOrId = getSelectionKey(data, dataIndex);\n    return selectedMap[nameOrId] || false;\n  };\n\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n\n    var selectedMode = this.option.selectedMode;\n    var len = innerDataIndices.length;\n\n    if (!selectedMode || !len) {\n      return;\n    }\n\n    if (selectedMode === 'multiple') {\n      var selectedMap = this.option.selectedMap || (this.option.selectedMap = {});\n\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i]; // TODO diffrent types of data share same object.\n\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      this.option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n\n    var dataIndices = [];\n\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  }; // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n\n\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.useColorPaletteOnData = false;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle'; // Make sure the values can be accessed!\n\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n\n  return SeriesModel;\n}(ComponentModel);\n\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\n\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\n\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\n\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\n\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\n\nfunction dataTaskProgress(param, context) {\n  // Avoid repead cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n} // TODO refactor\n\n\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(__spreadArrays(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\n\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n\n  return newList;\n}\n\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n\n    return task;\n  }\n}\n\nexport default SeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model';\n/**\n * @return {string} If large mode changed, return string 'reset';\n */\n\nexport default function createRenderPlanner() {\n  var inner = makeInner();\n  return function (seriesModel) {\n    var fields = inner(seriesModel);\n    var pipelineContext = seriesModel.pipelineContext;\n    var originalLarge = !!fields.large;\n    var originalProgressive = !!fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n    // exists. See #11611 . Probably we need to modify this structure, see the comment\n    // on `performRawSeries` in `Schedular.js`.\n\n    var large = fields.large = !!(pipelineContext && pipelineContext.large);\n    var progressive = fields.progressiveRender = !!(pipelineContext && pipelineContext.progressiveRender);\n    return !!(originalLarge !== large || originalProgressive !== progressive) && 'reset';\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util';\nimport Group from 'zrender/lib/graphic/Group';\nimport * as componentUtil from '../util/component';\nimport * as clazzUtil from '../util/clazz';\nimport * as modelUtil from '../util/model';\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit } from '../util/states';\nimport { createTask } from '../core/task';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner';\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\n\nvar ChartView =\n/** @class */\nfunction () {\n  function ChartView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewChart');\n    this.renderTask = createTask({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n\n  ChartView.prototype.init = function (ecModel, api) {};\n\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {};\n  /**\n   * Highlight series or specified data item.\n   */\n\n\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n  };\n  /**\n   * Downplay series or specified data item.\n   */\n\n\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'normal');\n  };\n  /**\n   * Remove self.\n   */\n\n\n  ChartView.prototype.remove = function (ecModel, api) {\n    this.group.removeAll();\n  };\n  /**\n   * Dispose self.\n   */\n\n\n  ChartView.prototype.dispose = function (ecModel, api) {};\n\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  }; // FIXME never used?\n\n\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  }; // FIXME never used?\n\n\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n\n  ChartView.markUpdateMethod = function (payload, methodName) {\n    inner(payload).updateMethod = methodName;\n  };\n\n  ChartView.protoInitialize = function () {\n    var proto = ChartView.prototype;\n    proto.type = 'chart';\n  }();\n\n  return ChartView;\n}();\n\n;\n/**\n * Set state of single element\n */\n\nfunction elSetState(el, state, highlightDigit) {\n  if (el) {\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\n  }\n}\n\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\n\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n}\n\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\nclazzUtil.enableClassManagement(ChartView);\n\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\n\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload; // FIXME: remove updateView updateVisual\n\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n\n  return progressMethodMap[methodName];\n}\n\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function (params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function (params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nexport default ChartView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n;\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\n\nexport function throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n\n  var cb = function () {\n    var cbArgs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      cbArgs[_i] = arguments[_i];\n    }\n\n    currCall = new Date().getTime();\n    scope = this;\n    args = cbArgs;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n\n\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n\n\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n */\n\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n\n  if (!fn) {\n    return;\n  }\n\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n */\n\nexport function clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n\n  if (fn && fn[ORIGIN_METHOD]) {\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}", "/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env';\nimport * as zrUtil from './core/util';\nimport Handler from './Handler';\nimport Storage from './Storage';\nimport Animation from './animation/Animation';\nimport HandlerProxy from './dom/HandlerProxy';\nimport { lum } from './tool/color';\nimport { DARK_MODE_THRESHOLD } from './config';\nimport Group from './graphic/Group';\nvar useVML = !env.canvasSupported;\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (useVML) {\n            throw new Error('IE8 support has been dropped since 5.0');\n        }\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (!painterCtors[rendererType]) {\n            throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        this.storage = storage;\n        this.painter = painter;\n        var handerProxy = (!env.node && !env.worker)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        this.handler = new Handler(storage, painter, handerProxy, painter.root);\n        this.animation = new Animation({\n            stage: {\n                update: function () { return _this._flush(true); }\n            }\n        });\n        this.animation.start();\n    }\n    ZRender.prototype.add = function (el) {\n        if (!el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (!el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = new Date().getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = new Date().getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.addHover = function (el) {\n    };\n    ZRender.prototype.removeHover = function (el) {\n    };\n    ZRender.prototype.clearHover = function () {\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.pathToImage = function (e, dpr) {\n        if (this.painter.pathToImage) {\n            return this.painter.pathToImage(e, dpr);\n        }\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        this.handler.on(eventName, eventHandler, context);\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nexport var version = '5.1.1';\n;\n", "var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n", "var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n", "import env from './env';\nimport { buildTransformer } from './fourPointsTransform';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\n", "import Eventful from './Eventful';\nimport env from './env';\nimport { isCanvasEl, transformCoordWithViewport } from './dom';\nvar isDomLevel2 = (typeof window !== 'undefined') && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate || !env.canvasSupported) {\n        calculateZrXY(el, e, out);\n    }\n    else if (env.browser.firefox\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.addEventListener(name, handler, opt);\n    }\n    else {\n        el.attachEvent('on' + name, handler);\n    }\n}\nexport function removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.removeEventListener(name, handler, opt);\n    }\n    else {\n        el.detachEvent('on' + name, handler);\n    }\n}\nexport var stop = isDomLevel2\n    ? function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.cancelBubble = true;\n    }\n    : function (e) {\n        e.returnValue = false;\n        e.cancelBubble = true;\n    };\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport function notLeftMouse(e) {\n    return e.which > 1;\n}\nexport { Eventful as Dispatcher };\n", "import * as eventUtil from './event';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n", "import { __extends } from \"tslib\";\nimport * as util from './core/util';\nimport * as vec2 from './core/vector';\nimport Draggable from './mixin/Draggable';\nimport Eventful from './core/Eventful';\nimport * as eventTool from './core/event';\nimport { GestureMgr } from './core/GestureMgr';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        for (var i = list.length - 1; i >= 0; i--) {\n            var hoverCheckResult = void 0;\n            if (list[i] !== exclude\n                && !list[i].ignore\n                && (hoverCheckResult = isHover(list[i], x, y))) {\n                !out.topTarget && (out.topTarget = list[i]);\n                if (hoverCheckResult !== SILENT) {\n                    out.target = list[i];\n                    break;\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n                if (el.silent) {\n                    isSilent = true;\n                }\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n", "var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var length = 0;\n    var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n    var stackLength = 0;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    length = array.length;\n    if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n        tmpStorageLength = length >>> 1;\n    }\n    var tmp = [];\n    stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n", "import * as util from './core/util';\nimport env from './core/env';\nimport timsort from './core/timsort';\nimport { REDARAW_BIT } from './graphic/constants';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        env.canvasSupported && timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        if (el.ignoreClip) {\n            clipPaths = null;\n        }\n        else if (userSetClipPath) {\n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                clipPaths.push(currentClipPath);\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDARAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (clipPaths && clipPaths.length) {\n                disp.__clipPaths = clipPaths;\n            }\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\n                disp.__clipPaths = [];\n            }\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n", "import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful';\nimport requestAnimationFrame from './requestAnimationFrame';\nimport Animator from './Animator';\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        _this.onframe = opts.onframe || function () { };\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._clipsHead) {\n            this._clipsHead = this._clipsTail = clip;\n        }\n        else {\n            this._clipsTail.next = clip;\n            clip.prev = this._clipsTail;\n            clip.next = null;\n            this._clipsTail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._clipsHead = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._clipsTail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = new Date().getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._clipsHead;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy && clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.onframe(delta);\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = new Date().getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = new Date().getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += (new Date().getTime()) - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._clipsHead;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._clipsHead = this._clipsTail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._clipsHead == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n", "import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event';\nimport * as zrUtil from '../core/util';\nimport Eventful from '../core/Eventful';\nimport env from '../core/env';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Group from 'zrender/lib/graphic/Group';\nimport * as componentUtil from '../util/component';\nimport * as clazzUtil from '../util/clazz';\n\nvar ComponentView =\n/** @class */\nfunction () {\n  function ComponentView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewComponent');\n  }\n\n  ComponentView.prototype.init = function (ecModel, api) {};\n\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\n\n  ComponentView.prototype.dispose = function (ecModel, api) {};\n\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {// Do nothing;\n  };\n\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {// Do nothing;\n  };\n\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {// Do nothing;\n  };\n  /**\n   * Hook for blur target series.\n   * Can be used in marker for blur the markers\n   */\n\n\n  ComponentView.prototype.blurSeries = function (seriesModels, ecModel) {// Do nothing;\n  };\n\n  return ComponentView;\n}();\n\n;\nclazzUtil.enableClassExtend(ComponentView);\nclazzUtil.enableClassManagement(ComponentView);\nexport default ComponentView;", "import windingLine from './windingLine';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport * as bbox from 'zrender/lib/core/bbox';\nimport * as vec2 from 'zrender/lib/core/vector';\nimport * as polygonContain from 'zrender/lib/contain/polygon';\nimport * as matrix from 'zrender/lib/core/matrix';\nvar TMP_TRANSFORM = [];\n\nvar Region =\n/** @class */\nfunction () {\n  function Region(name) {\n    this.name = name;\n  }\n  /**\n   * Get center point in data unit. That is,\n   * for GeoJSONRegion, the unit is lat/lng,\n   * for GeoSVGRegion, the unit is SVG local coord.\n   */\n\n\n  Region.prototype.getCenter = function () {\n    return;\n  };\n\n  return Region;\n}();\n\nexport { Region };\n\nvar GeoJSONRegion =\n/** @class */\nfunction (_super) {\n  __extends(GeoJSONRegion, _super);\n\n  function GeoJSONRegion(name, geometries, cp) {\n    var _this = _super.call(this, name) || this;\n\n    _this.type = 'geoJSON';\n    _this.geometries = geometries;\n\n    if (!cp) {\n      var rect = _this.getBoundingRect();\n\n      cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    } else {\n      cp = [cp[0], cp[1]];\n    }\n\n    _this._center = cp;\n    return _this;\n  }\n\n  GeoJSONRegion.prototype.getBoundingRect = function () {\n    var rect = this._rect;\n\n    if (rect) {\n      return rect;\n    }\n\n    var MAX_NUMBER = Number.MAX_VALUE;\n    var min = [MAX_NUMBER, MAX_NUMBER];\n    var max = [-MAX_NUMBER, -MAX_NUMBER];\n    var min2 = [];\n    var max2 = [];\n    var geometries = this.geometries;\n    var i = 0;\n\n    for (; i < geometries.length; i++) {\n      // Only support polygon\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      } // Doesn't consider hole\n\n\n      var exterior = geometries[i].exterior;\n      bbox.fromPoints(exterior, min2, max2);\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return this._rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  };\n\n  GeoJSONRegion.prototype.contain = function (coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k], coord[0], coord[1])) {\n            continue loopGeo;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  GeoJSONRegion.prototype.transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      for (var p = 0; p < exterior.length; p++) {\n        vec2.applyTransform(exterior[p], exterior[p], transform);\n      }\n\n      for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n        for (var p = 0; p < interiors[h].length; p++) {\n          vec2.applyTransform(interiors[h][p], interiors[h][p], transform);\n        }\n      }\n    }\n\n    rect = this._rect;\n    rect.copy(target); // Update center\n\n    this._center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n\n  GeoJSONRegion.prototype.cloneShallow = function (name) {\n    name == null && (name = this.name);\n    var newRegion = new GeoJSONRegion(name, this.geometries, this._center);\n    newRegion._rect = this._rect;\n    newRegion.transformTo = null; // Simply avoid to be called.\n\n    return newRegion;\n  };\n\n  GeoJSONRegion.prototype.getCenter = function () {\n    return this._center;\n  };\n\n  GeoJSONRegion.prototype.setCenter = function (center) {\n    this._center = center;\n  };\n\n  return GeoJSONRegion;\n}(Region);\n\nexport { GeoJSONRegion };\n\nvar GeoSVGRegion =\n/** @class */\nfunction (_super) {\n  __extends(GeoSVGRegion, _super);\n\n  function GeoSVGRegion(name, elOnlyForCalculate) {\n    var _this = _super.call(this, name) || this;\n\n    _this.type = 'geoSVG';\n    _this._elOnlyForCalculate = elOnlyForCalculate;\n    return _this;\n  }\n\n  GeoSVGRegion.prototype.getCenter = function () {\n    var center = this._center;\n\n    if (!center) {\n      // In most cases there are no need to calculate this center.\n      // So calculate only when called.\n      center = this._center = this._calculateCenter();\n    }\n\n    return center;\n  };\n\n  GeoSVGRegion.prototype._calculateCenter = function () {\n    var el = this._elOnlyForCalculate;\n    var rect = el.getBoundingRect();\n    var center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    var mat = matrix.identity(TMP_TRANSFORM);\n    var target = el;\n\n    while (target && !target.isGeoSVGGraphicRoot) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n\n    matrix.invert(mat, mat);\n    vec2.applyTransform(center, center, mat);\n    return center;\n  };\n\n  return GeoSVGRegion;\n}(Region);\n\nexport { GeoSVGRegion };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Parse and decode geo json\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { GeoJSONRegion } from './Region';\n\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n\n  var jsonCompressed = json;\n  var encodeScale = jsonCompressed.UTF8Scale;\n\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n\n  var features = jsonCompressed.features;\n\n  for (var f = 0; f < features.length; f++) {\n    var feature = features[f];\n    var geometry = feature.geometry;\n\n    if (geometry.type === 'Polygon') {\n      var coordinates = geometry.coordinates;\n\n      for (var c = 0; c < coordinates.length; c++) {\n        coordinates[c] = decodePolygon(coordinates[c], geometry.encodeOffsets[c], encodeScale);\n      }\n    } else if (geometry.type === 'MultiPolygon') {\n      var coordinates = geometry.coordinates;\n\n      for (var c = 0; c < coordinates.length; c++) {\n        var coordinate = coordinates[c];\n\n        for (var c2 = 0; c2 < coordinate.length; c2++) {\n          coordinate[c2] = decodePolygon(coordinate[c2], geometry.encodeOffsets[c][c2], encodeScale);\n        }\n      }\n    }\n  } // Has been decoded\n\n\n  jsonCompressed.UTF8Encoding = false;\n  return jsonCompressed;\n}\n\nfunction decodePolygon(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1); // Delta deocding\n\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y; // Dequantize\n\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n\n  return result;\n}\n\nexport default function parseGeoJSON(geoJson, nameProperty) {\n  geoJson = decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var geometries = [];\n\n    if (geo.type === 'Polygon') {\n      var coordinates = geo.coordinates;\n      geometries.push({\n        type: 'polygon',\n        // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n        exterior: coordinates[0],\n        interiors: coordinates.slice(1)\n      });\n    }\n\n    if (geo.type === 'MultiPolygon') {\n      var coordinates = geo.coordinates;\n      zrUtil.each(coordinates, function (item) {\n        if (item[0]) {\n          geometries.push({\n            type: 'polygon',\n            exterior: item[0],\n            interiors: item.slice(1)\n          });\n        }\n      });\n    }\n\n    var region = new GeoJSONRegion(properties[nameProperty || 'name'], geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\n\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n  // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n  // Light colors:\n  // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n  // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n  // Dark colors:\n  // color: [\n  //     '#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83',\n  //     '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'\n  // ],\n  color: [// '#51689b', '#ce5c5c', '#fbc357', '#8fbf8f', '#659d84', '#fb8e6a', '#c77288', '#786090', '#91c4c5', '#6890ba'\n  '#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util';\nimport { isComponentIdInternal } from '../util/model';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n\n  var internalOptions = internalOptionCreator(ecModel);\n\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n\n  return newCmptOptionList.concat(internalOptions);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util';\nimport * as modelUtil from '../util/model';\nimport Model from './Model';\nimport ComponentModel from './Component';\nimport globalDefault from './globalDefault';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper';\nimport { concatInternalOptions } from './internalComponentCreator';\nimport { PaletteMixin } from './mixin/palette';\nimport { error } from '../util/log'; // -----------------------\n// Internal method names:\n// -----------------------\n\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\n\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\n\nvar GlobalModel =\n/** @class */\nfunction (_super) {\n  __extends(GlobalModel, _super);\n\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n\n    var innerOpt = normalizeSetOptionInput(opts);\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n\n\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n\n        this._mergeOption(baseOption, opt);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    } // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Becuase either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n\n      if (timelineOption) {\n        optionChanged = true;\n\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  };\n\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode = // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode); // Set mainType and complete subType.\n\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel); // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unkown series \" + subType);\n                }\n              }\n            }\n\n            return;\n          }\n\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt); // Assign `keyInfo`\n\n            extend(componentModel, extraOpt);\n\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n\n            componentModel.init(newCmptOption, this, this); // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    } // If no series declared, ensure `_seriesIndices` initialized.\n\n\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n\n\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType); // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n\n        var realLen = opts.length;\n        var metNonInner = false;\n\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n\n  GlobalModel.prototype.getLocale = function (localePosition) {\n    var locale = this.getLocaleModel();\n    return locale.get(localePosition);\n  };\n\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n\n\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      var cmpt = list[idx || 0];\n\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n\n\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cmpts = this._componentsMap.get(mainType);\n\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n\n\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n\n\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n\n\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n\n\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series').slice(), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * frome raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * frome raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n\n\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE; // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap(); // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n\n      var airaOption = baseOption.aria;\n\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n\n      mergeTheme(baseOption, ecModel._theme.option); // TODO Needs clone when merging to the unexisted property\n\n      merge(baseOption, globalDefault, false);\n\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n\n  return GlobalModel;\n}(Model);\n\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\n\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n\n\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\n\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\n\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', // 'getModel',\n'getOption', // 'getViewOfComponentModel',\n// 'getViewOfSeriesModel',\n'getId', 'updateLabelLayout'];\n\nvar ExtensionAPI =\n/** @class */\nfunction () {\n  function ExtensionAPI(ecInstance) {\n    zrUtil.each(availableMethods, function (methodName) {\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\n    }, this);\n  }\n\n  return ExtensionAPI;\n}();\n\nexport default ExtensionAPI;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nvar coordinateSystemCreators = {};\n\nvar CoordinateSystemManager =\n/** @class */\nfunction () {\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creater, type) {\n      var list = creater.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  };\n\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  };\n\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\n    return this._coordinateSystems.slice();\n  };\n\n  CoordinateSystemManager.register = function (type, creator) {\n    coordinateSystemCreators[type] = creator;\n  };\n\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n\n  return CoordinateSystemManager;\n}();\n\nexport default CoordinateSystemManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray // , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject // , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util';\nimport { error } from '../util/log';\nvar QUERY_REG = /^(min|max)?(.+)$/; // Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\n\nvar OptionManager =\n/** @class */\nfunction () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    } // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n\n\n    rawOption = clone(rawOption); // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, becuase in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline opitons will not be merged to the formers, but just substitude them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n\n      if (timelineModel) {\n        option = clone( // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n\n    return option;\n  };\n\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n\n    var ecHeight = this._api.getHeight();\n\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n\n    this._currentMediaIndices = indices;\n    return result;\n  };\n\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\n\n\nfunction parseRawOption( // `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption; // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption; // For merge option.\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  } // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n      if (hasTimeline || hasMedia) {\n        rawOption.options = rawOption.media = null;\n      }\n\n      baseOption = rawOption;\n    }\n\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n  };\n  var applicatable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicatable = false;\n    }\n  });\n  return applicatable;\n}\n\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\n\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handle its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performace expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\n\n\nexport default OptionManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as modelUtil from '../../util/model';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      } // Timeline controlStyle has other properties besides normal and emphasis\n\n\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt; // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\n\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\n\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\n\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label'); // treemap\n\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n  compatTextStyle(seriesOpt, 'edgeLabel');\n\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n\n  var markArea = seriesOpt.markArea;\n\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  } // mark point data\n\n\n  markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  } // mark line data\n\n\n  markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  } // Series\n\n\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  } // sunburst starts from ec4, so it does not need to compat levels.\n\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name'); // Use axisName instead of name because component has name property\n\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label'); // Clean logs\n  // storedLogs = {};\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util';\nimport compatStyle from './helper/compatStyle';\nimport { normalizeToArray } from '../util/model';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log';\n\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\n\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\n\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n\n    option.edgeDistance = option.margin;\n  }\n}\n\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\n\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\n\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\n\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt); // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n\n        seriesOpt.map = seriesOpt.mapType;\n      }\n\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n\n    compatLayoutProperties(seriesOpt);\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util';\nimport { addSafe } from '../util/number'; // (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatly.\n//     Should be executed after series filtered and before stack calculation.\n\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      }; // If stacked on axis that do not support data stack.\n\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\n\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n\n    var newData = targetData.map(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n\n      var byValue;\n      var stackedDataRawIndex;\n\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      } // If stackOver is NaN, chart view will render point on value start.\n\n\n      var stackedOver = NaN;\n\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n          if (sum >= 0 && val > 0 || // Positive stack\n          sum <= 0 && val < 0 // Negative stack\n          ) {\n              // The sum should be as less as possible to be effected\n              // by floating arithmetic problem. A wrong result probably\n              // filtered incorrectly by axis min/max.\n              sum = addSafe(sum, val);\n              stackedOver = val;\n              break;\n            }\n        }\n      }\n\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n    targetData.hostModel.setData(newData); // Update for consequent calculation\n\n    targetStackInfo.data = newData;\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util';\nimport makeStyleMapper from '../model/mixin/makeStyleMapper';\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle';\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle';\nimport Model from '../model/Model';\nimport { makeInner } from '../util/model';\nvar inner = makeInner();\nvar defaultStyleMappers = {\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\n};\nvar defaultColorKey = {\n  lineStyle: 'stroke',\n  itemStyle: 'fill'\n};\n\nfunction getStyleMapper(seriesModel, stylePath) {\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\n\n  if (!styleMapper) {\n    console.warn(\"Unkown style type '\" + stylePath + \"'.\");\n    return defaultStyleMappers.itemStyle;\n  }\n\n  return styleMapper;\n}\n\nfunction getDefaultColorKey(seriesModel, stylePath) {\n  // return defaultColorKey[stylePath] ||\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\n\n  if (!colorKey) {\n    console.warn(\"Unkown style type '\" + stylePath + \"'.\");\n    return 'fill';\n  }\n\n  return colorKey;\n}\n\nvar seriesStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\n\n    var styleModel = seriesModel.getModel(stylePath);\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var globalStyle = getStyle(styleModel);\n    var decalOption = styleModel.getShallow('decal');\n\n    if (decalOption) {\n      data.setVisual('decal', decalOption);\n      decalOption.dirty = true;\n    } // TODO\n\n\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\n    var color = globalStyle[colorKey]; // TODO style callback\n\n    var colorCallback = isFunction(color) ? color : null;\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto'; // Get from color palette by default.\n\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\n      // Note: if some series has color specified (e.g., by itemStyle.color), we DO NOT\n      // make it effect palette. Bacause some scenarios users need to make some series\n      // transparent or as background, which should better not effect the palette.\n      var colorPalette = seriesModel.getColorFromPalette( // TODO series count changed.\n      seriesModel.name, null, ecModel.getSeriesCount());\n\n      if (!globalStyle[colorKey]) {\n        globalStyle[colorKey] = colorPalette;\n        data.setVisual('colorFromPalette', true);\n      }\n\n      globalStyle.fill = globalStyle.fill === 'auto' || typeof globalStyle.fill === 'function' ? colorPalette : globalStyle.fill;\n      globalStyle.stroke = globalStyle.stroke === 'auto' || typeof globalStyle.stroke === 'function' ? colorPalette : globalStyle.stroke;\n    }\n\n    data.setVisual('style', globalStyle);\n    data.setVisual('drawType', colorKey); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\n      data.setVisual('colorFromPalette', false);\n      return {\n        dataEach: function (data, idx) {\n          var dataParams = seriesModel.getDataParams(idx);\n          var itemStyle = extend({}, globalStyle);\n          itemStyle[colorKey] = colorCallback(dataParams);\n          data.setItemVisual(idx, 'style', itemStyle);\n        }\n      };\n    }\n  }\n};\nvar sharedModel = new Model();\nvar dataStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\n\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var colorKey = data.getVisual('drawType');\n    return {\n      dataEach: data.hasItemOption ? function (data, idx) {\n        // Not use getItemModel for performance considuration\n        var rawItem = data.getRawDataItem(idx);\n\n        if (rawItem && rawItem[stylePath]) {\n          sharedModel.option = rawItem[stylePath];\n          var style = getStyle(sharedModel);\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\n          extend(existsStyle, style);\n\n          if (sharedModel.option.decal) {\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\n            sharedModel.option.decal.dirty = true;\n          }\n\n          if (colorKey in style) {\n            data.setItemVisual(idx, 'colorFromPalette', false);\n          }\n        }\n      } : null\n    };\n  }\n}; // Pick color from palette for the data which has not been set with color yet.\n// Note: do not support stream rendering. No such cases yet.\n\nvar dataColorPaletteTask = {\n  performRawSeries: true,\n  overallReset: function (ecModel) {\n    // Each type of series use one scope.\n    // Pie and funnel are using diferrent scopes\n    var paletteScopeGroupByType = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      if (!seriesModel.useColorPaletteOnData) {\n        return;\n      }\n\n      var colorScope = paletteScopeGroupByType.get(seriesModel.type);\n\n      if (!colorScope) {\n        colorScope = {};\n        paletteScopeGroupByType.set(seriesModel.type, colorScope);\n      }\n\n      inner(seriesModel).scope = colorScope;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (!seriesModel.useColorPaletteOnData || ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      var colorScope = inner(seriesModel).scope;\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      }); // Iterate on data before filtered. To make sure color from palette can be\n      // Consistent when toggling legend.\n\n      dataAll.each(function (rawIdx) {\n        var idx = idxMap[rawIdx];\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette'); // Get color from palette for each data only when the color is inherited from series color, which is\n        // also picked from color palette. So following situation is not in the case:\n        // 1. series.itemStyle.color is set\n        // 2. color is encoded by visualMap\n\n        if (fromPalette) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\n          var dataCount = dataAll.count();\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\n        }\n      });\n    });\n  }\n};\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../util/graphic';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  } // Inject resize\n\n\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2) // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util';\nimport { createTask } from './task';\nimport { getUID } from '../util/component';\nimport GlobalModel from '../model/Global';\nimport ExtensionAPI from './ExtensionAPI';\nimport { normalizeToArray } from '../util/model';\n;\n\nvar Scheduler =\n/** @class */\nfunction () {\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    // key: handlerUID\n    this._stageTaskMap = createHashMap();\n    this.ecInstance = ecInstance;\n    this.api = api; // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  }\n\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  }; // If seriesModel provided, incremental threshold is check by series data.\n\n\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n\n  Scheduler.prototype.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n\n\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n    var data = seriesModel.getData();\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n\n  Scheduler.prototype.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\n    });\n  };\n\n  Scheduler.prototype.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.api.getModel();\n    var api = this.api;\n    each(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        // Currently do not need to support to sepecify them both.\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\n      }\n\n      assert(!(handler.reset && handler.overallReset), errMsg);\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\n    }, this);\n  };\n\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n\n    this._pipe(model, renderTask);\n  };\n\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  };\n\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\n  };\n\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished = false;\n    var scheduler = this;\n    each(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n\n      if (overallTask) {\n        var overallNeedDirty_1;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty_1 = true;\n          }\n        });\n        overallNeedDirty_1 && overallTask.dirty();\n        scheduler.updatePayload(overallTask, payload);\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs_1);\n        });\n\n        if (overallTask.perform(performArgs_1)) {\n          unfinished = true;\n        }\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\n          // if intending to decalare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because is a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operaions\n          // and stream-independent operations should better not be mixed.\n\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          scheduler.updatePayload(task, payload);\n\n          if (task.perform(performArgs)) {\n            unfinished = true;\n          }\n        });\n      }\n    });\n\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n\n    this.unfinished = unfinished || this.unfinished;\n  };\n\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished = seriesModel.dataTask.perform() || unfinished;\n    });\n    this.unfinished = unfinished || this.unfinished;\n  };\n\n  Scheduler.prototype.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n\n  Scheduler.prototype.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap; // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        // PENDING: `useClearVisual` not used?\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n\n      scheduler._pipe(seriesModel, task);\n    }\n  };\n\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n    || createTask({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    };\n    var oldAgentStubMap = overallTask.agentStubMap; // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var shouldOverallTaskDirty = false; // FIXME:TS never used, so comment it\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n\n    var errMsg = '';\n\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '\"createOnAllSeries\" do not supported for \"overallReset\", ' + 'becuase it will block all streams.';\n    }\n\n    assert(!stageHandler.createOnAllSeries, errMsg);\n\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    } // Otherwise, (usually it is legancy case), the overall task will only be\n    // executed when upstream dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upsteam.\n    else {\n        overallProgress = false;\n        each(ecModel.getSeries(), createStub);\n      }\n\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || ( // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n      shouldOverallTaskDirty = true, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })));\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress // FIXME:TS never used, so comment it\n        // modifyOutputEnd: modifyOutputEnd\n\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n\n      scheduler._pipe(seriesModel, stub);\n    }\n\n    if (shouldOverallTaskDirty) {\n      overallTask.dirty();\n    }\n  };\n\n  Scheduler.prototype._pipe = function (seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n\n    var pipeline = this._pipelineMap.get(pipelineId);\n\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  };\n\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n\n    stageHandler.uid = getUID('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n\n  ;\n  return Scheduler;\n}();\n\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\n\nfunction stubReset(context) {\n  return context.overallProgress && stubProgress;\n}\n\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\n\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\n\nfunction seriesTaskPlan(context) {\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\n}\n\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\n\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\n\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n/**\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n * To ensure that they can work normally, they should work in block mode, that is,\n * they should not be started util the previous tasks finished. So they cause the\n * progressive rendering disabled. We try to detect the series type, to narrow down\n * the block range to only the series type they concern, but not all series.\n */\n\n\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n\n  return seriesType;\n}\n\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\n\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\n\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\n\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name_1 in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name_1] = noop;\n  }\n  /* eslint-enable */\n\n}\n\nexport default Scheduler;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\n\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\n\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92' // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parseClassType } from './clazz';\n/**\n * Usage of query:\n * `chart.on('click', query, handler);`\n * The `query` can be:\n * + The component type query string, only `mainType` or `mainType.subType`,\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n * + The component query object, like:\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n * + The data query object, like:\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n * + The other query object (cmponent customized query), like:\n *   `{element: 'some'}` (only available in custom series).\n *\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n * same as there is no such prop in the `query` object.\n */\n\nvar ECEventProcessor =\n/** @class */\nfunction () {\n  function ECEventProcessor() {}\n\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    } // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n        // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n        // can not be used in `compomentModel.filterForExposedEvent`.\n        var suffixes_1 = ['Index', 'Name', 'Id'];\n        var dataKeys_1 = {\n          name: 1,\n          dataIndex: 1,\n          dataType: 1\n        };\n        zrUtil.each(query, function (val, key) {\n          var reserved = false;\n\n          for (var i = 0; i < suffixes_1.length; i++) {\n            var propSuffix = suffixes_1[i];\n            var suffixPos = key.lastIndexOf(propSuffix);\n\n            if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n              var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n              if (mainType !== 'data') {\n                cptQuery.mainType = mainType;\n                cptQuery[propSuffix.toLowerCase()] = val;\n                reserved = true;\n              }\n            }\n          }\n\n          if (dataKeys_1.hasOwnProperty(key)) {\n            dataQuery[key] = val;\n            reserved = true;\n          }\n\n          if (!reserved) {\n            otherQuery[key] = val;\n          }\n        });\n      }\n\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  };\n\n  ECEventProcessor.prototype.filter = function (eventType, query) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n\n    if (!eventInfo) {\n      return true;\n    }\n\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view; // For event like 'globalout'.\n\n    if (!model || !view) {\n      return true;\n    }\n\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  };\n\n  ECEventProcessor.prototype.afterTrigger = function () {\n    // Make sure the eventInfo wont be used in next trigger.\n    this.eventInfo = null;\n  };\n\n  return ECEventProcessor;\n}();\n\nexport { ECEventProcessor };\n;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction } from 'zrender/lib/core/util'; // Encoding visual for all series include which is filtered for legend drawing\n\nvar seriesSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n\n    if (seriesModel.legendIcon) {\n      data.setVisual('legendIcon', seriesModel.legendIcon);\n    }\n\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n\n    var symbolType = seriesModel.get('symbol');\n    var symbolSize = seriesModel.get('symbolSize');\n    var keepAspect = seriesModel.get('symbolKeepAspect');\n    var symbolRotate = seriesModel.get('symbolRotate');\n    var symbolOffset = seriesModel.get('symbolOffset');\n    var hasSymbolTypeCallback = isFunction(symbolType);\n    var hasSymbolSizeCallback = isFunction(symbolSize);\n    var hasSymbolRotateCallback = isFunction(symbolRotate);\n    var hasSymbolOffsetCallback = isFunction(symbolOffset);\n    var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback || hasSymbolOffsetCallback;\n    var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : seriesModel.defaultSymbol;\n    var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n    var seriesSymbolRotate = !hasSymbolRotateCallback ? symbolRotate : null;\n    var seriesSymbolOffset = !hasSymbolOffsetCallback ? symbolOffset : null;\n    data.setVisual({\n      legendIcon: seriesModel.legendIcon || seriesSymbol,\n      // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n      // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n      // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n      // some cases but generally it is not recommanded.\n      symbol: seriesSymbol,\n      symbolSize: seriesSymbolSize,\n      symbolKeepAspect: keepAspect,\n      symbolRotate: seriesSymbolRotate,\n      symbolOffset: seriesSymbolOffset\n    }); // Only visible series has each data be visual encoded\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    function dataEach(data, idx) {\n      var rawValue = seriesModel.getRawValue(idx);\n      var params = seriesModel.getDataParams(idx);\n      hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n      hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n      hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n      hasSymbolOffsetCallback && data.setItemVisual(idx, 'symbolOffset', symbolOffset(rawValue, params));\n    }\n\n    return {\n      dataEach: hasCallback ? dataEach : null\n    };\n  }\n};\nvar dataSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    } // Only visible series has each data be visual encoded\n\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      var itemSymbolType = itemModel.getShallow('symbol', true);\n      var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n      var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n      var itemSymbolOffset = itemModel.getShallow('symbolOffset', true);\n      var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n      if (itemSymbolType != null) {\n        data.setItemVisual(idx, 'symbol', itemSymbolType);\n      }\n\n      if (itemSymbolSize != null) {\n        // PENDING Transform symbolSize ?\n        data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n      }\n\n      if (itemSymbolRotate != null) {\n        data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n      }\n\n      if (itemSymbolOffset != null) {\n        data.setItemVisual(idx, 'symbolOffset', itemSymbolOffset);\n      }\n\n      if (itemSymbolKeepAspect != null) {\n        data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n      }\n    }\n\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport { seriesSymbolTask, dataSymbolTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getItemVisualFromData(data, dataIndex, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getItemVisual(dataIndex, 'style');\n      return style[data.getVisual('drawType')];\n\n    case 'opacity':\n      return data.getItemVisual(dataIndex, 'style').opacity;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getItemVisual(dataIndex, key);\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}\nexport function getVisualFromData(data, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getVisual('style');\n      return style[data.getVisual('drawType')];\n\n    case 'opacity':\n      return data.getVisual('style').opacity;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getVisual(key);\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}\nexport function setItemVisualFromData(data, dataIndex, key, value) {\n  switch (key) {\n    case 'color':\n      // Make sure not sharing style object.\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\n      style[data.getVisual('drawType')] = value; // Mark the color has been changed, not from palette anymore\n\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\n      break;\n\n    case 'opacity':\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\n      break;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      data.setItemVisual(dataIndex, key, value);\n      break;\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Point, Path, Polyline } from '../util/graphic';\nimport PathProxy from 'zrender/lib/core/PathProxy';\nimport { normalizeRadian } from 'zrender/lib/contain/util';\nimport { cubicProjectPoint, quadraticProjectPoint } from 'zrender/lib/core/curve';\nimport { defaults, retrieve2 } from 'zrender/lib/core/util';\nimport { invert } from 'zrender/lib/core/matrix';\nimport * as vector from 'zrender/lib/core/vector';\nimport { DISPLAY_STATES, SPECIAL_STATES } from '../util/states';\nvar PI2 = Math.PI * 2;\nvar CMD = PathProxy.CMD;\nvar DEFAULT_SEARCH_SPACE = ['top', 'right', 'bottom', 'left'];\n\nfunction getCandidateAnchor(pos, distance, rect, outPt, outDir) {\n  var width = rect.width;\n  var height = rect.height;\n\n  switch (pos) {\n    case 'top':\n      outPt.set(rect.x + width / 2, rect.y - distance);\n      outDir.set(0, -1);\n      break;\n\n    case 'bottom':\n      outPt.set(rect.x + width / 2, rect.y + height + distance);\n      outDir.set(0, 1);\n      break;\n\n    case 'left':\n      outPt.set(rect.x - distance, rect.y + height / 2);\n      outDir.set(-1, 0);\n      break;\n\n    case 'right':\n      outPt.set(rect.x + width + distance, rect.y + height / 2);\n      outDir.set(1, 0);\n      break;\n  }\n}\n\nfunction projectPointToArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y, out) {\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n  x /= d;\n  y /= d; // Intersect point.\n\n  var ox = x * r + cx;\n  var oy = y * r + cy;\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n    // Project point is on the arc.\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n\n  var x1 = r * Math.cos(startAngle) + cx;\n  var y1 = r * Math.sin(startAngle) + cy;\n  var x2 = r * Math.cos(endAngle) + cx;\n  var y2 = r * Math.sin(endAngle) + cy;\n  var d1 = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n  var d2 = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n\n  if (d1 < d2) {\n    out[0] = x1;\n    out[1] = y1;\n    return Math.sqrt(d1);\n  } else {\n    out[0] = x2;\n    out[1] = y2;\n    return Math.sqrt(d2);\n  }\n}\n\nfunction projectPointToLine(x1, y1, x2, y2, x, y, out, limitToEnds) {\n  var dx = x - x1;\n  var dy = y - y1;\n  var dx1 = x2 - x1;\n  var dy1 = y2 - y1;\n  var lineLen = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  dx1 /= lineLen;\n  dy1 /= lineLen; // dot product\n\n  var projectedLen = dx * dx1 + dy * dy1;\n  var t = projectedLen / lineLen;\n\n  if (limitToEnds) {\n    t = Math.min(Math.max(t, 0), 1);\n  }\n\n  t *= lineLen;\n  var ox = out[0] = x1 + t * dx1;\n  var oy = out[1] = y1 + t * dy1;\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\n\nfunction projectPointToRect(x1, y1, width, height, x, y, out) {\n  if (width < 0) {\n    x1 = x1 + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y1 = y1 + height;\n    height = -height;\n  }\n\n  var x2 = x1 + width;\n  var y2 = y1 + height;\n  var ox = out[0] = Math.min(Math.max(x, x1), x2);\n  var oy = out[1] = Math.min(Math.max(y, y1), y2);\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\n\nvar tmpPt = [];\n\nfunction nearestPointOnRect(pt, rect, out) {\n  var dist = projectPointToRect(rect.x, rect.y, rect.width, rect.height, pt.x, pt.y, tmpPt);\n  out.set(tmpPt[0], tmpPt[1]);\n  return dist;\n}\n/**\n * Calculate min distance corresponding point.\n * This method won't evaluate if point is in the path.\n */\n\n\nfunction nearestPointOnPath(pt, path, out) {\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n  var x1;\n  var y1;\n  var minDist = Infinity;\n  var data = path.data;\n  var x = pt.x;\n  var y = pt.y;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++];\n\n    if (i === 1) {\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    var d = minDist;\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo \u547D\u4EE4\u91CD\u65B0\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 subpath, \u5E76\u4E14\u66F4\u65B0\u65B0\u7684\u8D77\u70B9\n        // \u5728 closePath \u7684\u65F6\u5019\u4F7F\u7528\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        d = projectPointToLine(xi, yi, data[i], data[i + 1], x, y, tmpPt, true);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        d = cubicProjectPoint(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        d = quadraticProjectPoint(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc \u5224\u65AD\u7684\u5F00\u9500\u6BD4\u8F83\u5927\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc \u65CB\u8F6C\n\n        i += 1;\n        var anticlockwise = !!(1 - data[i++]);\n        x1 = Math.cos(theta) * rx + cx;\n        y1 = Math.sin(theta) * ry + cy; // \u4E0D\u662F\u76F4\u63A5\u4F7F\u7528 arc \u547D\u4EE4\n\n        if (i <= 1) {\n          // \u7B2C\u4E00\u4E2A\u547D\u4EE4\u8D77\u70B9\u8FD8\u672A\u5B9A\u4E49\n          x0 = x1;\n          y0 = y1;\n        } // zr \u4F7F\u7528scale\u6765\u6A21\u62DF\u692D\u5706, \u8FD9\u91CC\u4E5F\u5BF9x\u505A\u4E00\u5B9A\u7684\u7F29\u653E\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        d = projectPointToArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y, tmpPt);\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        d = projectPointToRect(x0, y0, width, height, x, y, tmpPt);\n        break;\n\n      case CMD.Z:\n        d = projectPointToLine(xi, yi, x0, y0, x, y, tmpPt, true);\n        xi = x0;\n        yi = y0;\n        break;\n    }\n\n    if (d < minDist) {\n      minDist = d;\n      out.set(tmpPt[0], tmpPt[1]);\n    }\n  }\n\n  return minDist;\n} // Temporal varible for intermediate usage.\n\n\nvar pt0 = new Point();\nvar pt1 = new Point();\nvar pt2 = new Point();\nvar dir = new Point();\nvar dir2 = new Point();\n/**\n * Calculate a proper guide line based on the label position and graphic element definition\n * @param label\n * @param labelRect\n * @param target\n * @param targetRect\n */\n\nexport function updateLabelLinePoints(target, labelLineModel) {\n  if (!target) {\n    return;\n  }\n\n  var labelLine = target.getTextGuideLine();\n  var label = target.getTextContent(); // Needs to create text guide in each charts.\n\n  if (!(label && labelLine)) {\n    return;\n  }\n\n  var labelGuideConfig = target.textGuideLineConfig || {};\n  var points = [[0, 0], [0, 0], [0, 0]];\n  var searchSpace = labelGuideConfig.candidates || DEFAULT_SEARCH_SPACE;\n  var labelRect = label.getBoundingRect().clone();\n  labelRect.applyTransform(label.getComputedTransform());\n  var minDist = Infinity;\n  var anchorPoint = labelGuideConfig.anchor;\n  var targetTransform = target.getComputedTransform();\n  var targetInversedTransform = targetTransform && invert([], targetTransform);\n  var len = labelLineModel.get('length2') || 0;\n\n  if (anchorPoint) {\n    pt2.copy(anchorPoint);\n  }\n\n  for (var i = 0; i < searchSpace.length; i++) {\n    var candidate = searchSpace[i];\n    getCandidateAnchor(candidate, 0, labelRect, pt0, dir);\n    Point.scaleAndAdd(pt1, pt0, dir, len); // Transform to target coord space.\n\n    pt1.transform(targetInversedTransform); // Note: getBoundingRect will ensure the `path` being created.\n\n    var boundingRect = target.getBoundingRect();\n    var dist = anchorPoint ? anchorPoint.distance(pt1) : target instanceof Path ? nearestPointOnPath(pt1, target.path, pt2) : nearestPointOnRect(pt1, boundingRect, pt2); // TODO pt2 is in the path\n\n    if (dist < minDist) {\n      minDist = dist; // Transform back to global space.\n\n      pt1.transform(targetTransform);\n      pt2.transform(targetTransform);\n      pt2.toArray(points[0]);\n      pt1.toArray(points[1]);\n      pt0.toArray(points[2]);\n    }\n  }\n\n  limitTurnAngle(points, labelLineModel.get('minTurnAngle'));\n  labelLine.setShape({\n    points: points\n  });\n} // Temporal variable for the limitTurnAngle function\n\nvar tmpArr = [];\nvar tmpProjPoint = new Point();\n/**\n * Reduce the line segment attached to the label to limit the turn angle between two segments.\n * @param linePoints\n * @param minTurnAngle Radian of minimum turn angle. 0 - 180\n */\n\nexport function limitTurnAngle(linePoints, minTurnAngle) {\n  if (!(minTurnAngle <= 180 && minTurnAngle > 0)) {\n    return;\n  }\n\n  minTurnAngle = minTurnAngle / 180 * Math.PI; // The line points can be\n  //      /pt1----pt2 (label)\n  //     /\n  // pt0/\n\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt0, pt1);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(dir2);\n  var minTurnAngleCos = Math.cos(minTurnAngle);\n\n  if (minTurnAngleCos < angleCos) {\n    // Smaller than minTurnAngle\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr); // Calculate new projected length with limited minTurnAngle and get the new connect point\n\n    tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI - minTurnAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n    var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n\n    if (isNaN(t)) {\n      return;\n    }\n\n    if (t < 0) {\n      Point.copy(tmpProjPoint, pt1);\n    } else if (t > 1) {\n      Point.copy(tmpProjPoint, pt2);\n    }\n\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n/**\n * Limit the angle of line and the surface\n * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite\n */\n\nexport function limitSurfaceAngle(linePoints, surfaceNormal, maxSurfaceAngle) {\n  if (!(maxSurfaceAngle <= 180 && maxSurfaceAngle > 0)) {\n    return;\n  }\n\n  maxSurfaceAngle = maxSurfaceAngle / 180 * Math.PI;\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt1, pt0);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(surfaceNormal);\n  var maxSurfaceAngleCos = Math.cos(maxSurfaceAngle);\n\n  if (angleCos < maxSurfaceAngleCos) {\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    var HALF_PI = Math.PI / 2;\n    var angle2 = Math.acos(dir2.dot(surfaceNormal));\n    var newAngle = HALF_PI + angle2 - maxSurfaceAngle;\n\n    if (newAngle >= HALF_PI) {\n      // parallel\n      Point.copy(tmpProjPoint, pt2);\n    } else {\n      // Calculate new projected length with limited minTurnAngle and get the new connect point\n      tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - newAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n      var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n\n      if (isNaN(t)) {\n        return;\n      }\n\n      if (t < 0) {\n        Point.copy(tmpProjPoint, pt1);\n      } else if (t > 1) {\n        Point.copy(tmpProjPoint, pt2);\n      }\n    }\n\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n\nfunction setLabelLineState(labelLine, ignore, stateName, stateModel) {\n  var isNormal = stateName === 'normal';\n  var stateObj = isNormal ? labelLine : labelLine.ensureState(stateName); // Make sure display.\n\n  stateObj.ignore = ignore; // Set smooth\n\n  var smooth = stateModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.3;\n  }\n\n  stateObj.shape = stateObj.shape || {};\n\n  if (smooth > 0) {\n    stateObj.shape.smooth = smooth;\n  }\n\n  var styleObj = stateModel.getModel('lineStyle').getLineStyle();\n  isNormal ? labelLine.useStyle(styleObj) : stateObj.style = styleObj;\n}\n\nfunction buildLabelLinePath(path, shape) {\n  var smooth = shape.smooth;\n  var points = shape.points;\n\n  if (!points) {\n    return;\n  }\n\n  path.moveTo(points[0][0], points[0][1]);\n\n  if (smooth > 0 && points.length >= 3) {\n    var len1 = vector.dist(points[0], points[1]);\n    var len2 = vector.dist(points[1], points[2]);\n\n    if (!len1 || !len2) {\n      path.lineTo(points[1][0], points[1][1]);\n      path.lineTo(points[2][0], points[2][1]);\n      return;\n    }\n\n    var moveLen = Math.min(len1, len2) * smooth;\n    var midPoint0 = vector.lerp([], points[1], points[0], moveLen / len1);\n    var midPoint2 = vector.lerp([], points[1], points[2], moveLen / len2);\n    var midPoint1 = vector.lerp([], midPoint0, midPoint2, 0.5);\n    path.bezierCurveTo(midPoint0[0], midPoint0[1], midPoint0[0], midPoint0[1], midPoint1[0], midPoint1[1]);\n    path.bezierCurveTo(midPoint2[0], midPoint2[1], midPoint2[0], midPoint2[1], points[2][0], points[2][1]);\n  } else {\n    for (var i = 1; i < points.length; i++) {\n      path.lineTo(points[i][0], points[i][1]);\n    }\n  }\n}\n/**\n * Create a label line if necessary and set it's style.\n */\n\n\nexport function setLabelLineStyle(targetEl, statesModels, defaultStyle) {\n  var labelLine = targetEl.getTextGuideLine();\n  var label = targetEl.getTextContent();\n\n  if (!label) {\n    // Not show label line if there is no label.\n    if (labelLine) {\n      targetEl.removeTextGuideLine();\n    }\n\n    return;\n  }\n\n  var normalModel = statesModels.normal;\n  var showNormal = normalModel.get('show');\n  var labelIgnoreNormal = label.ignore;\n\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateName = DISPLAY_STATES[i];\n    var stateModel = statesModels[stateName];\n    var isNormal = stateName === 'normal';\n\n    if (stateModel) {\n      var stateShow = stateModel.get('show');\n      var isLabelIgnored = isNormal ? labelIgnoreNormal : retrieve2(label.states[stateName] && label.states[stateName].ignore, labelIgnoreNormal);\n\n      if (isLabelIgnored // Not show when label is not shown in this state.\n      || !retrieve2(stateShow, showNormal) // Use normal state by default if not set.\n      ) {\n          var stateObj = isNormal ? labelLine : labelLine && labelLine.states.normal;\n\n          if (stateObj) {\n            stateObj.ignore = true;\n          }\n\n          continue;\n        } // Create labelLine if not exists\n\n\n      if (!labelLine) {\n        labelLine = new Polyline();\n        targetEl.setTextGuideLine(labelLine); // Reset state of normal because it's new created.\n        // NOTE: NORMAL should always been the first!\n\n        if (!isNormal && (labelIgnoreNormal || !showNormal)) {\n          setLabelLineState(labelLine, true, 'normal', statesModels.normal);\n        } // Use same state proxy.\n\n\n        if (targetEl.stateProxy) {\n          labelLine.stateProxy = targetEl.stateProxy;\n        }\n      }\n\n      setLabelLineState(labelLine, false, stateName, stateModel);\n    }\n  }\n\n  if (labelLine) {\n    defaults(labelLine.style, defaultStyle); // Not fill.\n\n    labelLine.style.fill = null;\n    var showAbove = normalModel.get('showAbove');\n    var labelLineConfig = targetEl.textGuideLineConfig = targetEl.textGuideLineConfig || {};\n    labelLineConfig.showAbove = showAbove || false; // Custom the buildPath.\n\n    labelLine.buildPath = buildLabelLinePath;\n  }\n}\nexport function getLabelLineStatesModels(itemModel, labelLineName) {\n  labelLineName = labelLineName || 'labelLine';\n  var statesModels = {\n    normal: itemModel.getModel(labelLineName)\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelLineName]);\n  }\n\n  return statesModels;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { BoundingRect, OrientedBoundingRect } from '../util/graphic';\nexport function prepareLayoutList(input) {\n  var list = [];\n\n  for (var i = 0; i < input.length; i++) {\n    var rawItem = input[i];\n\n    if (rawItem.defaultAttr.ignore) {\n      continue;\n    }\n\n    var label = rawItem.label;\n    var transform = label.getComputedTransform(); // NOTE: Get bounding rect after getComputedTransform, or label may not been updated by the host el.\n\n    var localRect = label.getBoundingRect();\n    var isAxisAligned = !transform || transform[1] < 1e-5 && transform[2] < 1e-5;\n    var minMargin = label.style.margin || 0;\n    var globalRect = localRect.clone();\n    globalRect.applyTransform(transform);\n    globalRect.x -= minMargin / 2;\n    globalRect.y -= minMargin / 2;\n    globalRect.width += minMargin;\n    globalRect.height += minMargin;\n    var obb = isAxisAligned ? new OrientedBoundingRect(localRect, transform) : null;\n    list.push({\n      label: label,\n      labelLine: rawItem.labelLine,\n      rect: globalRect,\n      localRect: localRect,\n      obb: obb,\n      priority: rawItem.priority,\n      defaultAttr: rawItem.defaultAttr,\n      layoutOption: rawItem.computedLayoutOption,\n      axisAligned: isAxisAligned,\n      transform: transform\n    });\n  }\n\n  return list;\n}\n\nfunction shiftLayout(list, xyDim, sizeDim, minBound, maxBound, balanceShift) {\n  var len = list.length;\n\n  if (len < 2) {\n    return;\n  }\n\n  list.sort(function (a, b) {\n    return a.rect[xyDim] - b.rect[xyDim];\n  });\n  var lastPos = 0;\n  var delta;\n  var adjusted = false;\n  var shifts = [];\n  var totalShifts = 0;\n\n  for (var i = 0; i < len; i++) {\n    var item = list[i];\n    var rect = item.rect;\n    delta = rect[xyDim] - lastPos;\n\n    if (delta < 0) {\n      // shiftForward(i, len, -delta);\n      rect[xyDim] -= delta;\n      item.label[xyDim] -= delta;\n      adjusted = true;\n    }\n\n    var shift = Math.max(-delta, 0);\n    shifts.push(shift);\n    totalShifts += shift;\n    lastPos = rect[xyDim] + rect[sizeDim];\n  }\n\n  if (totalShifts > 0 && balanceShift) {\n    // Shift back to make the distribution more equally.\n    shiftList(-totalShifts / len, 0, len);\n  } // TODO bleedMargin?\n\n\n  var first = list[0];\n  var last = list[len - 1];\n  var minGap;\n  var maxGap;\n  updateMinMaxGap(); // If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.\n\n  minGap < 0 && squeezeGaps(-minGap, 0.8);\n  maxGap < 0 && squeezeGaps(maxGap, 0.8);\n  updateMinMaxGap();\n  takeBoundsGap(minGap, maxGap, 1);\n  takeBoundsGap(maxGap, minGap, -1); // Handle bailout when there is not enough space.\n\n  updateMinMaxGap();\n\n  if (minGap < 0) {\n    squeezeWhenBailout(-minGap);\n  }\n\n  if (maxGap < 0) {\n    squeezeWhenBailout(maxGap);\n  }\n\n  function updateMinMaxGap() {\n    minGap = first.rect[xyDim] - minBound;\n    maxGap = maxBound - last.rect[xyDim] - last.rect[sizeDim];\n  }\n\n  function takeBoundsGap(gapThisBound, gapOtherBound, moveDir) {\n    if (gapThisBound < 0) {\n      // Move from other gap if can.\n      var moveFromMaxGap = Math.min(gapOtherBound, -gapThisBound);\n\n      if (moveFromMaxGap > 0) {\n        shiftList(moveFromMaxGap * moveDir, 0, len);\n        var remained = moveFromMaxGap + gapThisBound;\n\n        if (remained < 0) {\n          squeezeGaps(-remained * moveDir, 1);\n        }\n      } else {\n        squeezeGaps(-gapThisBound * moveDir, 1);\n      }\n    }\n  }\n\n  function shiftList(delta, start, end) {\n    if (delta !== 0) {\n      adjusted = true;\n    }\n\n    for (var i = start; i < end; i++) {\n      var item = list[i];\n      var rect = item.rect;\n      rect[xyDim] += delta;\n      item.label[xyDim] += delta;\n    }\n  } // Squeeze gaps if the labels exceed margin.\n\n\n  function squeezeGaps(delta, maxSqeezePercent) {\n    var gaps = [];\n    var totalGaps = 0;\n\n    for (var i = 1; i < len; i++) {\n      var prevItemRect = list[i - 1].rect;\n      var gap = Math.max(list[i].rect[xyDim] - prevItemRect[xyDim] - prevItemRect[sizeDim], 0);\n      gaps.push(gap);\n      totalGaps += gap;\n    }\n\n    if (!totalGaps) {\n      return;\n    }\n\n    var squeezePercent = Math.min(Math.abs(delta) / totalGaps, maxSqeezePercent);\n\n    if (delta > 0) {\n      for (var i = 0; i < len - 1; i++) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i] * squeezePercent; // Forward\n\n        shiftList(movement, 0, i + 1);\n      }\n    } else {\n      // Backward\n      for (var i = len - 1; i > 0; i--) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i - 1] * squeezePercent;\n        shiftList(-movement, i, len);\n      }\n    }\n  }\n  /**\n   * Squeeze to allow overlap if there is no more space available.\n   * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.\n   */\n\n\n  function squeezeWhenBailout(delta) {\n    var dir = delta < 0 ? -1 : 1;\n    delta = Math.abs(delta);\n    var moveForEachLabel = Math.ceil(delta / (len - 1));\n\n    for (var i = 0; i < len - 1; i++) {\n      if (dir > 0) {\n        // Forward\n        shiftList(moveForEachLabel, 0, i + 1);\n      } else {\n        // Backward\n        shiftList(-moveForEachLabel, len - i - 1, len);\n      }\n\n      delta -= moveForEachLabel;\n\n      if (delta <= 0) {\n        return;\n      }\n    }\n  }\n\n  return adjusted;\n}\n/**\n * Adjust labels on x direction to avoid overlap.\n */\n\n\nexport function shiftLayoutOnX(list, leftBound, rightBound, // If average the shifts on all labels and add them to 0\n// TODO: Not sure if should enable it.\n// Pros: The angle of lines will distribute more equally\n// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.\nbalanceShift) {\n  return shiftLayout(list, 'x', 'width', leftBound, rightBound, balanceShift);\n}\n/**\n * Adjust labels on y direction to avoid overlap.\n */\n\nexport function shiftLayoutOnY(list, topBound, bottomBound, // If average the shifts on all labels and add them to 0\nbalanceShift) {\n  return shiftLayout(list, 'y', 'height', topBound, bottomBound, balanceShift);\n}\nexport function hideOverlap(labelList) {\n  var displayedLabels = []; // TODO, render overflow visible first, put in the displayedLabels.\n\n  labelList.sort(function (a, b) {\n    return b.priority - a.priority;\n  });\n  var globalRect = new BoundingRect(0, 0, 0, 0);\n\n  function hideEl(el) {\n    if (!el.ignore) {\n      // Show on emphasis.\n      var emphasisState = el.ensureState('emphasis');\n\n      if (emphasisState.ignore == null) {\n        emphasisState.ignore = false;\n      }\n    }\n\n    el.ignore = true;\n  }\n\n  for (var i = 0; i < labelList.length; i++) {\n    var labelItem = labelList[i];\n    var isAxisAligned = labelItem.axisAligned;\n    var localRect = labelItem.localRect;\n    var transform = labelItem.transform;\n    var label = labelItem.label;\n    var labelLine = labelItem.labelLine;\n    globalRect.copy(labelItem.rect); // Add a threshold because layout may be aligned precisely.\n\n    globalRect.width -= 0.1;\n    globalRect.height -= 0.1;\n    globalRect.x += 0.05;\n    globalRect.y += 0.05;\n    var obb = labelItem.obb;\n    var overlapped = false;\n\n    for (var j = 0; j < displayedLabels.length; j++) {\n      var existsTextCfg = displayedLabels[j]; // Fast rejection.\n\n      if (!globalRect.intersect(existsTextCfg.rect)) {\n        continue;\n      }\n\n      if (isAxisAligned && existsTextCfg.axisAligned) {\n        // Is overlapped\n        overlapped = true;\n        break;\n      }\n\n      if (!existsTextCfg.obb) {\n        // If self is not axis aligned. But other is.\n        existsTextCfg.obb = new OrientedBoundingRect(existsTextCfg.localRect, existsTextCfg.transform);\n      }\n\n      if (!obb) {\n        // If self is axis aligned. But other is not.\n        obb = new OrientedBoundingRect(localRect, transform);\n      }\n\n      if (obb.intersect(existsTextCfg.obb)) {\n        overlapped = true;\n        break;\n      }\n    } // TODO Callback to determine if this overlap should be handled?\n\n\n    if (overlapped) {\n      hideEl(label);\n      labelLine && hideEl(labelLine);\n    } else {\n      label.attr('ignore', labelItem.defaultAttr.ignore);\n      labelLine && labelLine.attr('ignore', labelItem.defaultAttr.labelGuideIgnore);\n      displayedLabels.push(labelItem);\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO: move labels out of viewport.\nimport { BoundingRect, updateProps, initProps, isElementRemoved } from '../util/graphic';\nimport { getECData } from '../util/innerStore';\nimport { parsePercent } from '../util/number';\nimport Transformable from 'zrender/lib/core/Transformable';\nimport { updateLabelLinePoints, setLabelLineStyle, getLabelLineStatesModels } from './labelGuideHelper';\nimport { makeInner } from '../util/model';\nimport { retrieve2, each, keys, isFunction, filter, indexOf } from 'zrender/lib/core/util';\nimport { prepareLayoutList, hideOverlap, shiftLayoutOnX, shiftLayoutOnY } from './labelLayoutHelper';\nimport { labelInner, animateLabelValue } from './labelStyle';\n\nfunction cloneArr(points) {\n  if (points) {\n    var newPoints = [];\n\n    for (var i = 0; i < points.length; i++) {\n      newPoints.push(points[i].slice());\n    }\n\n    return newPoints;\n  }\n}\n\nfunction prepareLayoutCallbackParams(labelItem, hostEl) {\n  var label = labelItem.label;\n  var labelLine = hostEl && hostEl.getTextGuideLine();\n  return {\n    dataIndex: labelItem.dataIndex,\n    dataType: labelItem.dataType,\n    seriesIndex: labelItem.seriesModel.seriesIndex,\n    text: labelItem.label.style.text,\n    rect: labelItem.hostRect,\n    labelRect: labelItem.rect,\n    // x: labelAttr.x,\n    // y: labelAttr.y,\n    align: label.style.align,\n    verticalAlign: label.style.verticalAlign,\n    labelLinePoints: cloneArr(labelLine && labelLine.shape.points)\n  };\n}\n\nvar LABEL_OPTION_TO_STYLE_KEYS = ['align', 'verticalAlign', 'width', 'height', 'fontSize'];\nvar dummyTransformable = new Transformable();\nvar labelLayoutInnerStore = makeInner();\nvar labelLineAnimationStore = makeInner();\n\nfunction extendWithKeys(target, source, keys) {\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    if (source[key] != null) {\n      target[key] = source[key];\n    }\n  }\n}\n\nvar LABEL_LAYOUT_PROPS = ['x', 'y', 'rotation'];\n\nvar LabelManager =\n/** @class */\nfunction () {\n  function LabelManager() {\n    this._labelList = [];\n    this._chartViewList = [];\n  }\n\n  LabelManager.prototype.clearLabels = function () {\n    this._labelList = [];\n    this._chartViewList = [];\n  };\n  /**\n   * Add label to manager\n   */\n\n\n  LabelManager.prototype._addLabel = function (dataIndex, dataType, seriesModel, label, layoutOption) {\n    var labelStyle = label.style;\n    var hostEl = label.__hostTarget;\n    var textConfig = hostEl.textConfig || {}; // TODO: If label is in other state.\n\n    var labelTransform = label.getComputedTransform();\n    var labelRect = label.getBoundingRect().plain();\n    BoundingRect.applyTransform(labelRect, labelRect, labelTransform);\n\n    if (labelTransform) {\n      dummyTransformable.setLocalTransform(labelTransform);\n    } else {\n      // Identity transform.\n      dummyTransformable.x = dummyTransformable.y = dummyTransformable.rotation = dummyTransformable.originX = dummyTransformable.originY = 0;\n      dummyTransformable.scaleX = dummyTransformable.scaleY = 1;\n    }\n\n    var host = label.__hostTarget;\n    var hostRect;\n\n    if (host) {\n      hostRect = host.getBoundingRect().plain();\n      var transform = host.getComputedTransform();\n      BoundingRect.applyTransform(hostRect, hostRect, transform);\n    }\n\n    var labelGuide = hostRect && host.getTextGuideLine();\n\n    this._labelList.push({\n      label: label,\n      labelLine: labelGuide,\n      seriesModel: seriesModel,\n      dataIndex: dataIndex,\n      dataType: dataType,\n      layoutOption: layoutOption,\n      computedLayoutOption: null,\n      rect: labelRect,\n      hostRect: hostRect,\n      // Label with lower priority will be hidden when overlapped\n      // Use rect size as default priority\n      priority: hostRect ? hostRect.width * hostRect.height : 0,\n      // Save default label attributes.\n      // For restore if developers want get back to default value in callback.\n      defaultAttr: {\n        ignore: label.ignore,\n        labelGuideIgnore: labelGuide && labelGuide.ignore,\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY,\n        rotation: dummyTransformable.rotation,\n        style: {\n          x: labelStyle.x,\n          y: labelStyle.y,\n          align: labelStyle.align,\n          verticalAlign: labelStyle.verticalAlign,\n          width: labelStyle.width,\n          height: labelStyle.height,\n          fontSize: labelStyle.fontSize\n        },\n        cursor: label.cursor,\n        attachedPos: textConfig.position,\n        attachedRot: textConfig.rotation\n      }\n    });\n  };\n\n  LabelManager.prototype.addLabelsOfSeries = function (chartView) {\n    var _this = this;\n\n    this._chartViewList.push(chartView);\n\n    var seriesModel = chartView.__model;\n    var layoutOption = seriesModel.get('labelLayout');\n    /**\n     * Ignore layouting if it's not specified anything.\n     */\n\n    if (!(isFunction(layoutOption) || keys(layoutOption).length)) {\n      return;\n    }\n\n    chartView.group.traverse(function (child) {\n      if (child.ignore) {\n        return true; // Stop traverse descendants.\n      } // Only support label being hosted on graphic elements.\n\n\n      var textEl = child.getTextContent();\n      var ecData = getECData(child); // Can only attach the text on the element with dataIndex\n\n      if (textEl && !textEl.disableLabelLayout) {\n        _this._addLabel(ecData.dataIndex, ecData.dataType, seriesModel, textEl, layoutOption);\n      }\n    });\n  };\n\n  LabelManager.prototype.updateLayoutConfig = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n\n    function createDragHandler(el, labelLineModel) {\n      return function () {\n        updateLabelLinePoints(el, labelLineModel);\n      };\n    }\n\n    for (var i = 0; i < this._labelList.length; i++) {\n      var labelItem = this._labelList[i];\n      var label = labelItem.label;\n      var hostEl = label.__hostTarget;\n      var defaultLabelAttr = labelItem.defaultAttr;\n      var layoutOption = void 0; // TODO A global layout option?\n\n      if (typeof labelItem.layoutOption === 'function') {\n        layoutOption = labelItem.layoutOption(prepareLayoutCallbackParams(labelItem, hostEl));\n      } else {\n        layoutOption = labelItem.layoutOption;\n      }\n\n      layoutOption = layoutOption || {};\n      labelItem.computedLayoutOption = layoutOption;\n      var degreeToRadian = Math.PI / 180; // TODO hostEl should always exists.\n      // Or label should not have parent because the x, y is all in global space.\n\n      if (hostEl) {\n        hostEl.setTextConfig({\n          // Force to set local false.\n          local: false,\n          // Ignore position and rotation config on the host el if x or y is changed.\n          position: layoutOption.x != null || layoutOption.y != null ? null : defaultLabelAttr.attachedPos,\n          // Ignore rotation config on the host el if rotation is changed.\n          rotation: layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.attachedRot,\n          offset: [layoutOption.dx || 0, layoutOption.dy || 0]\n        });\n      }\n\n      var needsUpdateLabelLine = false;\n\n      if (layoutOption.x != null) {\n        // TODO width of chart view.\n        label.x = parsePercent(layoutOption.x, width);\n        label.setStyle('x', 0); // Ignore movement in style. TODO: origin.\n\n        needsUpdateLabelLine = true;\n      } else {\n        label.x = defaultLabelAttr.x;\n        label.setStyle('x', defaultLabelAttr.style.x);\n      }\n\n      if (layoutOption.y != null) {\n        // TODO height of chart view.\n        label.y = parsePercent(layoutOption.y, height);\n        label.setStyle('y', 0); // Ignore movement in style.\n\n        needsUpdateLabelLine = true;\n      } else {\n        label.y = defaultLabelAttr.y;\n        label.setStyle('y', defaultLabelAttr.style.y);\n      }\n\n      if (layoutOption.labelLinePoints) {\n        var guideLine = hostEl.getTextGuideLine();\n\n        if (guideLine) {\n          guideLine.setShape({\n            points: layoutOption.labelLinePoints\n          }); // Not update\n\n          needsUpdateLabelLine = false;\n        }\n      }\n\n      var labelLayoutStore = labelLayoutInnerStore(label);\n      labelLayoutStore.needsUpdateLabelLine = needsUpdateLabelLine;\n      label.rotation = layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.rotation;\n      label.scaleX = defaultLabelAttr.scaleX;\n      label.scaleY = defaultLabelAttr.scaleY;\n\n      for (var k = 0; k < LABEL_OPTION_TO_STYLE_KEYS.length; k++) {\n        var key = LABEL_OPTION_TO_STYLE_KEYS[k];\n        label.setStyle(key, layoutOption[key] != null ? layoutOption[key] : defaultLabelAttr.style[key]);\n      }\n\n      if (layoutOption.draggable) {\n        label.draggable = true;\n        label.cursor = 'move';\n\n        if (hostEl) {\n          var hostModel = labelItem.seriesModel;\n\n          if (labelItem.dataIndex != null) {\n            var data = labelItem.seriesModel.getData(labelItem.dataType);\n            hostModel = data.getItemModel(labelItem.dataIndex);\n          }\n\n          label.on('drag', createDragHandler(hostEl, hostModel.getModel('labelLine')));\n        }\n      } else {\n        // TODO Other drag functions?\n        label.off('drag');\n        label.cursor = defaultLabelAttr.cursor;\n      }\n    }\n  };\n\n  LabelManager.prototype.layout = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var labelList = prepareLayoutList(this._labelList);\n    var labelsNeedsAdjustOnX = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftX';\n    });\n    var labelsNeedsAdjustOnY = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftY';\n    });\n    shiftLayoutOnX(labelsNeedsAdjustOnX, 0, width);\n    shiftLayoutOnY(labelsNeedsAdjustOnY, 0, height);\n    var labelsNeedsHideOverlap = filter(labelList, function (item) {\n      return item.layoutOption.hideOverlap;\n    });\n    hideOverlap(labelsNeedsHideOverlap);\n  };\n  /**\n   * Process all labels. Not only labels with layoutOption.\n   */\n\n\n  LabelManager.prototype.processLabelsOverall = function () {\n    var _this = this;\n\n    each(this._chartViewList, function (chartView) {\n      var seriesModel = chartView.__model;\n      var ignoreLabelLineUpdate = chartView.ignoreLabelLineUpdate;\n      var animationEnabled = seriesModel.isAnimationEnabled();\n      chartView.group.traverse(function (child) {\n        if (child.ignore) {\n          return true; // Stop traverse descendants.\n        }\n\n        var needsUpdateLabelLine = !ignoreLabelLineUpdate;\n        var label = child.getTextContent();\n\n        if (!needsUpdateLabelLine && label) {\n          needsUpdateLabelLine = labelLayoutInnerStore(label).needsUpdateLabelLine;\n        }\n\n        if (needsUpdateLabelLine) {\n          _this._updateLabelLine(child, seriesModel);\n        }\n\n        if (animationEnabled) {\n          _this._animateLabels(child, seriesModel);\n        }\n      });\n    });\n  };\n\n  LabelManager.prototype._updateLabelLine = function (el, seriesModel) {\n    // Only support label being hosted on graphic elements.\n    var textEl = el.getTextContent(); // Update label line style.\n\n    var ecData = getECData(el);\n    var dataIndex = ecData.dataIndex; // Only support labelLine on the labels represent data.\n\n    if (textEl && dataIndex != null) {\n      var data = seriesModel.getData(ecData.dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var defaultStyle = {};\n      var visualStyle = data.getItemVisual(dataIndex, 'style');\n      var visualType = data.getVisual('drawType'); // Default to be same with main color\n\n      defaultStyle.stroke = visualStyle[visualType];\n      var labelLineModel = itemModel.getModel('labelLine');\n      setLabelLineStyle(el, getLabelLineStatesModels(itemModel), defaultStyle);\n      updateLabelLinePoints(el, labelLineModel);\n    }\n  };\n\n  LabelManager.prototype._animateLabels = function (el, seriesModel) {\n    var textEl = el.getTextContent();\n    var guideLine = el.getTextGuideLine(); // Animate\n\n    if (textEl && !textEl.ignore && !textEl.invisible && !el.disableLabelAnimation && !isElementRemoved(el)) {\n      var layoutStore = labelLayoutInnerStore(textEl);\n      var oldLayout = layoutStore.oldLayout;\n      var ecData = getECData(el);\n      var dataIndex = ecData.dataIndex;\n      var newProps = {\n        x: textEl.x,\n        y: textEl.y,\n        rotation: textEl.rotation\n      };\n      var data = seriesModel.getData(ecData.dataType);\n\n      if (!oldLayout) {\n        textEl.attr(newProps); // Disable fade in animation if value animation is enabled.\n\n        if (!labelInner(textEl).valueAnimation) {\n          var oldOpacity = retrieve2(textEl.style.opacity, 1); // Fade in animation\n\n          textEl.style.opacity = 0;\n          initProps(textEl, {\n            style: {\n              opacity: oldOpacity\n            }\n          }, seriesModel, dataIndex);\n        }\n      } else {\n        textEl.attr(oldLayout); // Make sure the animation from is in the right status.\n\n        var prevStates = el.prevStates;\n\n        if (prevStates) {\n          if (indexOf(prevStates, 'select') >= 0) {\n            textEl.attr(layoutStore.oldLayoutSelect);\n          }\n\n          if (indexOf(prevStates, 'emphasis') >= 0) {\n            textEl.attr(layoutStore.oldLayoutEmphasis);\n          }\n        }\n\n        updateProps(textEl, newProps, seriesModel, dataIndex);\n      }\n\n      layoutStore.oldLayout = newProps;\n\n      if (textEl.states.select) {\n        var layoutSelect = layoutStore.oldLayoutSelect = {};\n        extendWithKeys(layoutSelect, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutSelect, textEl.states.select, LABEL_LAYOUT_PROPS);\n      }\n\n      if (textEl.states.emphasis) {\n        var layoutEmphasis = layoutStore.oldLayoutEmphasis = {};\n        extendWithKeys(layoutEmphasis, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutEmphasis, textEl.states.emphasis, LABEL_LAYOUT_PROPS);\n      }\n\n      animateLabelValue(textEl, dataIndex, data, seriesModel, seriesModel);\n    }\n\n    if (guideLine && !guideLine.ignore && !guideLine.invisible) {\n      var layoutStore = labelLineAnimationStore(guideLine);\n      var oldLayout = layoutStore.oldLayout;\n      var newLayout = {\n        points: guideLine.shape.points\n      };\n\n      if (!oldLayout) {\n        guideLine.setShape(newLayout);\n        guideLine.style.strokePercent = 0;\n        initProps(guideLine, {\n          style: {\n            strokePercent: 1\n          }\n        }, seriesModel);\n      } else {\n        guideLine.attr({\n          shape: oldLayout\n        });\n        updateProps(guideLine, {\n          shape: newLayout\n        }, seriesModel);\n      }\n\n      layoutStore.oldLayout = newLayout;\n    }\n  };\n\n  return LabelManager;\n}();\n\nexport default LabelManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray } from 'zrender/lib/core/util';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log';\nimport { queryDataIndex } from '../util/model'; // Legacy data selection action.\n// Inlucdes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\n\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\n\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selected = payload.selected;\n\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: extend({}, seriesModel.option.selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\n\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function findEventDispatcher(target, det, returnFirstMatch) {\n  var found;\n\n  while (target) {\n    if (det(target)) {\n      found = target;\n\n      if (returnFirstMatch) {\n        break;\n      }\n    }\n\n    target = target.__hostTarget || target.parent;\n  }\n\n  return found;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from './graphic';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport { calculateTextPosition } from 'zrender/lib/contain/text';\n/**\n * Triangle shape\n * @inner\n */\n\nvar Triangle = graphic.Path.extend({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\n\nvar Diamond = graphic.Path.extend({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\n\nvar Pin = graphic.Path.extend({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3; // Height must be larger than width\n\n    var h = Math.max(w, shape.height);\n    var r = w / 2; // Dist on y with tangent point and circle center\n\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\n\nvar Arrow = graphic.Path.extend({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path contructors\n */\n// TODO Use function to build symbol path.\n\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nexport var symbolBuildProxies = {};\nzrUtil.each(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.Path.extend({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, config, rect) {\n    var res = calculateTextPosition(out, config, rect);\n    var shape = this.shape;\n\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n\n    if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff'; // TODO Same width with lineStyle in LineView\n\n      symbolStyle.lineWidth = 2;\n    } else if (this.shape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else {\n      symbolStyle.fill = color;\n    }\n\n    this.markRedraw();\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n */\n\n\nexport function createSymbol(symbolType, x, y, w, h, color, // whether to keep the ratio of w/h,\nkeepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n\n  var symbolPath;\n\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n\n  symbolPath.__isEmptyBrush = isEmpty; // TODO Should deprecate setColor\n\n  symbolPath.setColor = symbolPathSetColor;\n\n  if (color) {\n    symbolPath.setColor(color);\n  }\n\n  return symbolPath;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport WeakMap from 'zrender/lib/core/WeakMap';\nimport LRU from 'zrender/lib/core/LRU';\nimport { defaults, createCanvas, map, isArray } from 'zrender/lib/core/util';\nimport { getLeastCommonMultiple } from './number';\nimport { createSymbol } from './symbol';\nimport { brushSingle } from 'zrender/lib/canvas/graphic';\nvar decalMap = new WeakMap();\nvar decalCache = new LRU(100);\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\n/**\n * Create or update pattern image from decal options\n *\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\n * @return {Pattern} pattern with generated image, null if no decal\n */\n\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\n  if (decalObject === 'none') {\n    return null;\n  }\n\n  var dpr = api.getDevicePixelRatio();\n  var zr = api.getZr();\n  var isSVG = zr.painter.type === 'svg';\n\n  if (decalObject.dirty) {\n    decalMap[\"delete\"](decalObject);\n  }\n\n  var oldPattern = decalMap.get(decalObject);\n\n  if (oldPattern) {\n    return oldPattern;\n  }\n\n  var decalOpt = defaults(decalObject, {\n    symbol: 'rect',\n    symbolSize: 1,\n    symbolKeepAspect: true,\n    color: 'rgba(0, 0, 0, 0.2)',\n    backgroundColor: null,\n    dashArrayX: 5,\n    dashArrayY: 5,\n    rotation: 0,\n    maxTileWidth: 512,\n    maxTileHeight: 512\n  });\n\n  if (decalOpt.backgroundColor === 'none') {\n    decalOpt.backgroundColor = null;\n  }\n\n  var pattern = {\n    repeat: 'repeat'\n  };\n  setPatternnSource(pattern);\n  pattern.rotation = decalOpt.rotation;\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\n  decalMap.set(decalObject, pattern);\n  decalObject.dirty = false;\n  return pattern;\n\n  function setPatternnSource(pattern) {\n    var keys = [dpr];\n    var isValidKey = true;\n\n    for (var i = 0; i < decalKeys.length; ++i) {\n      var value = decalOpt[decalKeys[i]];\n      var valueType = typeof value;\n\n      if (value != null && !isArray(value) && valueType !== 'string' && valueType !== 'number' && valueType !== 'boolean') {\n        isValidKey = false;\n        break;\n      }\n\n      keys.push(value);\n    }\n\n    var cacheKey;\n\n    if (isValidKey) {\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\n      var cache = decalCache.get(cacheKey);\n\n      if (cache) {\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\n      }\n    }\n\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\n    var canvas = !isSVG && createCanvas();\n    var svgRoot = isSVG && zr.painter.createSVGElement('g');\n    var pSize = getPatternSize();\n    var ctx;\n\n    if (canvas) {\n      canvas.width = pSize.width * dpr;\n      canvas.height = pSize.height * dpr;\n      ctx = canvas.getContext('2d');\n    }\n\n    brushDecal();\n\n    if (isValidKey) {\n      decalCache.put(cacheKey, canvas || svgRoot);\n    }\n\n    pattern.image = canvas;\n    pattern.svgElement = svgRoot;\n    pattern.svgWidth = pSize.width;\n    pattern.svgHeight = pSize.height;\n    /**\n     * Get minumum length that can make a repeatable pattern.\n     *\n     * @return {Object} pattern width and height\n     */\n\n    function getPatternSize() {\n      /**\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * So the minumum length of X is 15,\n       * which is the least common multiple of `3 + 2` and `2 + 1`\n       * |---  ---  ---  |---  --- ...\n       * |-- -- -- -- -- |-- -- -- ...\n       */\n      var width = 1;\n\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\n      }\n\n      var symbolRepeats = 1;\n\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\n      }\n\n      width *= symbolRepeats;\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\n\n      if (process.env.NODE_ENV !== 'production') {\n        var warn = function (attrName) {\n          /* eslint-disable-next-line */\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\n        };\n\n        if (width > decalOpt.maxTileWidth) {\n          warn('maxTileWidth');\n        }\n\n        if (height > decalOpt.maxTileHeight) {\n          warn('maxTileHeight');\n        }\n      }\n\n      return {\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\n      };\n    }\n\n    function brushDecal() {\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (decalOpt.backgroundColor) {\n          ctx.fillStyle = decalOpt.backgroundColor;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n      }\n\n      var ySum = 0;\n\n      for (var i = 0; i < dashArrayY.length; ++i) {\n        ySum += dashArrayY[i];\n      }\n\n      if (ySum <= 0) {\n        // dashArrayY is 0, draw nothing\n        return;\n      }\n\n      var y = -lineBlockLengthY;\n      var yId = 0;\n      var yIdTotal = 0;\n      var xId0 = 0;\n\n      while (y < pSize.height) {\n        if (yId % 2 === 0) {\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\n          var x = 0;\n          var xId1 = 0;\n          var xId1Total = 0;\n\n          while (x < pSize.width * 2) {\n            var xSum = 0;\n\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\n              xSum += dashArrayX[xId0][i];\n            }\n\n            if (xSum <= 0) {\n              // Skip empty line\n              break;\n            } // E.g., [15, 5, 20, 5] draws only for 15 and 20\n\n\n            if (xId1 % 2 === 0) {\n              var size = (1 - decalOpt.symbolSize) * 0.5;\n              var left = x + dashArrayX[xId0][xId1] * size;\n              var top_1 = y + dashArrayY[yId] * size;\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\n            }\n\n            x += dashArrayX[xId0][xId1];\n            ++xId1Total;\n            ++xId1;\n\n            if (xId1 === dashArrayX[xId0].length) {\n              xId1 = 0;\n            }\n          }\n\n          ++xId0;\n\n          if (xId0 === dashArrayX.length) {\n            xId0 = 0;\n          }\n        }\n\n        y += dashArrayY[yId];\n        ++yIdTotal;\n        ++yId;\n\n        if (yId === dashArrayY.length) {\n          yId = 0;\n        }\n      }\n\n      function brushSymbol(x, y, width, height, symbolType) {\n        var scale = isSVG ? 1 : dpr;\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\n\n        if (isSVG) {\n          svgRoot.appendChild(zr.painter.paintOne(symbol));\n        } else {\n          // Paint to canvas for all other renderers.\n          brushSingle(ctx, symbol);\n        }\n      }\n    }\n  }\n}\n/**\n * Convert symbol array into normalized array\n *\n * @param {string | (string | string[])[]} symbol symbol input\n * @return {string[][]} normolized symbol array\n */\n\nfunction normalizeSymbolArray(symbol) {\n  if (!symbol || symbol.length === 0) {\n    return [['rect']];\n  }\n\n  if (typeof symbol === 'string') {\n    return [[symbol]];\n  }\n\n  var isAllString = true;\n\n  for (var i = 0; i < symbol.length; ++i) {\n    if (typeof symbol[i] !== 'string') {\n      isAllString = false;\n      break;\n    }\n  }\n\n  if (isAllString) {\n    return normalizeSymbolArray([symbol]);\n  }\n\n  var result = [];\n\n  for (var i = 0; i < symbol.length; ++i) {\n    if (typeof symbol[i] === 'string') {\n      result.push([symbol[i]]);\n    } else {\n      result.push(symbol[i]);\n    }\n  }\n\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayX} dash dash input\n * @return {number[][]} normolized dash array\n */\n\n\nfunction normalizeDashArrayX(dash) {\n  if (!dash || dash.length === 0) {\n    return [[0, 0]];\n  }\n\n  if (typeof dash === 'number') {\n    var dashValue = Math.ceil(dash);\n    return [[dashValue, dashValue]];\n  }\n  /**\n   * [20, 5] should be normalized into [[20, 5]],\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\n   */\n\n\n  var isAllNumber = true;\n\n  for (var i = 0; i < dash.length; ++i) {\n    if (typeof dash[i] !== 'number') {\n      isAllNumber = false;\n      break;\n    }\n  }\n\n  if (isAllNumber) {\n    return normalizeDashArrayX([dash]);\n  }\n\n  var result = [];\n\n  for (var i = 0; i < dash.length; ++i) {\n    if (typeof dash[i] === 'number') {\n      var dashValue = Math.ceil(dash[i]);\n      result.push([dashValue, dashValue]);\n    } else {\n      var dashValue = map(dash[i], function (n) {\n        return Math.ceil(n);\n      });\n\n      if (dashValue.length % 2 === 1) {\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\n        result.push(dashValue.concat(dashValue));\n      } else {\n        result.push(dashValue);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayY} dash dash input\n * @return {number[]} normolized dash array\n */\n\n\nfunction normalizeDashArrayY(dash) {\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\n    return [0, 0];\n  }\n\n  if (typeof dash === 'number') {\n    var dashValue_1 = Math.ceil(dash);\n    return [dashValue_1, dashValue_1];\n  }\n\n  var dashValue = map(dash, function (n) {\n    return Math.ceil(n);\n  });\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\n}\n/**\n * Get block length of each line. A block is the length of dash line and space.\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\n * that, so the block length of this line is 5.\n *\n * @param {number[][]} dash dash arrary of X or Y\n * @return {number[]} block length of each line\n */\n\n\nfunction getLineBlockLengthX(dash) {\n  return map(dash, function (line) {\n    return getLineBlockLengthY(line);\n  });\n}\n\nfunction getLineBlockLengthY(dash) {\n  var blockLength = 0;\n\n  for (var i = 0; i < dash.length; ++i) {\n    blockLength += dash[i];\n  }\n\n  if (dash.length % 2 === 1) {\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\n    // So total length is (4 + 2 + 1) * 2\n    return blockLength * 2;\n  }\n\n  return blockLength;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createOrUpdatePatternFromDecal } from '../util/decal';\nexport default function decalVisual(ecModel, api) {\n  ecModel.eachRawSeries(function (seriesModel) {\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n\n    if (data.hasItemVisual()) {\n      data.each(function (idx) {\n        var decal = data.getItemVisual(idx, 'decal');\n\n        if (decal) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n        }\n      });\n    }\n\n    var decal = data.getVisual('decal');\n\n    if (decal) {\n      var style = data.getVisual('style');\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n  });\n}", "import { isString } from '../core/util';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n", "import Group from '../graphic/Group';\nimport ZRImage from '../graphic/Image';\nimport Circle from '../graphic/shape/Circle';\nimport Rect from '../graphic/shape/Rect';\nimport Ellipse from '../graphic/shape/Ellipse';\nimport Line from '../graphic/shape/Line';\nimport Polygon from '../graphic/shape/Polygon';\nimport Polyline from '../graphic/shape/Polyline';\nimport * as matrix from '../core/matrix';\nimport { createFromString } from './path';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util';\nimport LinearGradient from '../graphic/LinearGradient';\nimport RadialGradient from '../graphic/RadialGradient';\nimport TSpan from '../graphic/TSpan';\nimport { parseXML } from './parseXML';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (!svg) {\n            throw new Error('Illegal svg');\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseSVG, makeViewBoxTransform } from 'zrender/lib/tool/parseSVG';\nimport Group from 'zrender/lib/graphic/Group';\nimport Rect from 'zrender/lib/graphic/shape/Rect';\nimport { assert, createHashMap, each } from 'zrender/lib/core/util';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport { parseXML } from 'zrender/lib/tool/parseXML';\nimport { GeoSVGRegion } from './Region';\n/**\n * \"region available\" means that: enable users to set attribute `name=\"xxx\"` on those tags\n * to make it be a region.\n * 1. region styles and its label styles can be defined in echarts opton:\n * ```js\n * geo: {\n *     regions: [{\n *         name: 'xxx',\n *         itemStyle: { ... },\n *         label: { ... }\n *     }, {\n *         ...\n *     },\n *     ...]\n * };\n * ```\n * 2. name can be duplicated in different SVG tag. All of the tags with the same name share\n * a region option. For exampel if there are two <path> representing two lung lobes. They have\n * no common parents but both of them need to display label \"lung\" inside.\n */\n\nvar REGION_AVAILABLE_SVG_TAG_MAP = createHashMap(['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path', // <text> <tspan> are also enabled becuase some SVG might paint text itself,\n// but still need to trigger events or tooltip.\n'text', 'tspan', // <g> is also enabled because this case: if multiple tags share one name\n// and need label displayed, every tags will display the name, which is not\n// expected. So we can put them into a <g name=\"xxx\">. Thereby only one label\n// displayed and located based on the bounding rect of the <g>.\n'g']);\n\nvar GeoSVGResource =\n/** @class */\nfunction () {\n  function GeoSVGResource(mapName, svg) {\n    this.type = 'geoSVG'; // All used graphics. key: hostKey, value: root\n\n    this._usedGraphicMap = createHashMap(); // All unused graphics.\n\n    this._freedGraphics = [];\n    this._mapName = mapName; // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n\n    this._parsedXML = parseXML(svg);\n  }\n\n  GeoSVGResource.prototype.load = function ()\n  /* nameMap: NameMap */\n  {\n    // In the \"load\" stage, graphic need to be built to\n    // get boundingRect for geo coordinate system.\n    var firstGraphic = this._firstGraphic; // Create the return data structure only when first graphic created.\n    // Because they will be used in geo coordinate system update stage,\n    // and `regions` will be mounted at `geo` coordinate system,\n    // in which there is no \"view\" info, so that it should better not to\n    // make references to graphic elements.\n\n    if (!firstGraphic) {\n      firstGraphic = this._firstGraphic = this._buildGraphic(this._parsedXML);\n\n      this._freedGraphics.push(firstGraphic);\n\n      this._boundingRect = this._firstGraphic.boundingRect.clone(); // PENDING: `nameMap` will not be supported until some real requirement come.\n      // if (nameMap) {\n      //     named = applyNameMap(named, nameMap);\n      // }\n\n      var _a = createRegions(firstGraphic.named),\n          regions = _a.regions,\n          regionsMap = _a.regionsMap;\n\n      this._regions = regions;\n      this._regionsMap = regionsMap;\n    }\n\n    return {\n      boundingRect: this._boundingRect,\n      regions: this._regions,\n      regionsMap: this._regionsMap\n    };\n  };\n\n  GeoSVGResource.prototype._buildGraphic = function (svgXML) {\n    var result;\n    var rootFromParse;\n\n    try {\n      result = svgXML && parseSVG(svgXML, {\n        ignoreViewBox: true,\n        ignoreRootClip: true\n      }) || {};\n      rootFromParse = result.root;\n      assert(rootFromParse != null);\n    } catch (e) {\n      throw new Error('Invalid svg format\\n' + e.message);\n    } // Note: we keep the covenant that the root has no transform. So always add an extra root.\n\n\n    var root = new Group();\n    root.add(rootFromParse);\n    root.isGeoSVGGraphicRoot = true; // [THE_RULE_OF_VIEWPORT_AND_VIEWBOX]\n    //\n    // Consider: `<svg width=\"...\" height=\"...\" viewBox=\"...\">`\n    // - the `width/height` we call it `svgWidth/svgHeight` for short.\n    // - `(0, 0, svgWidth, svgHeight)` defines the viewport of the SVG, or say,\n    //   \"viewport boundingRect\", or `boundingRect` for short.\n    // - `viewBox` defines the transform from the real content ot the viewport.\n    //   `viewBox` has the same unit as the content of SVG.\n    //   If `viewBox` exists, a transform is defined, so the unit of `svgWidth/svgHeight` become\n    //   different from the content of SVG. Otherwise, they are the same.\n    //\n    // If both `svgWidth/svgHeight/viewBox` are specified in a SVG file, the transform rule will be:\n    // 0. `boundingRect` is `(0, 0, svgWidth, svgHeight)`. Set it to Geo['_rect'] (View['_rect']).\n    // 1. Make a transform from `viewBox` to `boundingRect`.\n    //    Note: only suport `preserveAspectRatio 'xMidYMid'` here. That is, this transform will preserve\n    //    the aspect ratio.\n    // 2. Make a transform from boundingRect to Geo['_viewRect'] (View['_viewRect'])\n    //    (`Geo`/`View` will do this job).\n    //    Note: this transform might not preserve aspect radio, which depending on how users specify\n    //    viewRect in echarts option (e.g., `geo.left/top/width/height` will not preserve aspect ratio,\n    //    but `geo.layoutCenter/layoutSize` will preserve aspect ratio).\n    //\n    // If `svgWidth/svgHeight` not specified, we use `viewBox` as the `boundingRect` to make the SVG\n    // layout look good.\n    //\n    // If neither `svgWidth/svgHeight` nor `viewBox` are not specified, we calculate the boundingRect\n    // of the SVG content and use them to make SVG layout look good.\n\n    var svgWidth = result.width;\n    var svgHeight = result.height;\n    var viewBoxRect = result.viewBoxRect;\n    var boundingRect = this._boundingRect;\n\n    if (!boundingRect) {\n      var bRectX = void 0;\n      var bRectY = void 0;\n      var bRectWidth = void 0;\n      var bRectHeight = void 0;\n\n      if (svgWidth != null) {\n        bRectX = 0;\n        bRectWidth = svgWidth;\n      } else if (viewBoxRect) {\n        bRectX = viewBoxRect.x;\n        bRectWidth = viewBoxRect.width;\n      }\n\n      if (svgHeight != null) {\n        bRectY = 0;\n        bRectHeight = svgHeight;\n      } else if (viewBoxRect) {\n        bRectY = viewBoxRect.y;\n        bRectHeight = viewBoxRect.height;\n      } // If both viewBox and svgWidth/svgHeight not specified,\n      // we have to determine how to layout those element to make them look good.\n\n\n      if (bRectX == null || bRectY == null) {\n        var calculatedBoundingRect = rootFromParse.getBoundingRect();\n\n        if (bRectX == null) {\n          bRectX = calculatedBoundingRect.x;\n          bRectWidth = calculatedBoundingRect.width;\n        }\n\n        if (bRectY == null) {\n          bRectY = calculatedBoundingRect.y;\n          bRectHeight = calculatedBoundingRect.height;\n        }\n      }\n\n      boundingRect = this._boundingRect = new BoundingRect(bRectX, bRectY, bRectWidth, bRectHeight);\n    }\n\n    if (viewBoxRect) {\n      var viewBoxTransform = makeViewBoxTransform(viewBoxRect, boundingRect); // Only support `preserveAspectRatio 'xMidYMid'`\n\n      rootFromParse.scaleX = rootFromParse.scaleY = viewBoxTransform.scale;\n      rootFromParse.x = viewBoxTransform.x;\n      rootFromParse.y = viewBoxTransform.y;\n    } // SVG needs to clip based on `viewBox`. And some SVG files really rely on this feature.\n    // They do not strictly confine all of the content inside a display rect, but deliberately\n    // use a `viewBox` to define a displayable rect.\n    // PENDING:\n    // The drawback of the `setClipPath` here is: the region label (genereted by echarts) near the\n    // edge might also be clipped, because region labels are put as `textContent` of the SVG path.\n\n\n    root.setClipPath(new Rect({\n      shape: boundingRect.plain()\n    }));\n    var named = [];\n    each(result.named, function (namedItem) {\n      if (REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower) != null) {\n        named.push(namedItem);\n        setSilent(namedItem.el);\n      }\n    });\n    return {\n      root: root,\n      boundingRect: boundingRect,\n      named: named\n    };\n  };\n  /**\n   * Consider:\n   * (1) One graphic element can not be shared by different `geoView` running simultaneously.\n   *     Notice, also need to consider multiple echarts instances share a `mapRecord`.\n   * (2) Converting SVG to graphic elements is time consuming.\n   * (3) In the current architecture, `load` should be called frequently to get boundingRect,\n   *     and it is called without view info.\n   * So we maintain graphic elements in this module, and enables `view` to use/return these\n   * graphics from/to the pool with it's uid.\n   */\n\n\n  GeoSVGResource.prototype.useGraphic = function (hostKey\n  /*, nameMap: NameMap */\n  ) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n\n    if (svgGraphic) {\n      return svgGraphic;\n    }\n\n    svgGraphic = this._freedGraphics.pop() // use the first boundingRect to avoid duplicated boundingRect calculation.\n    || this._buildGraphic(this._parsedXML);\n    usedRootMap.set(hostKey, svgGraphic); // PENDING: `nameMap` will not be supported until some real requirement come.\n    // `nameMap` can only be obtained from echarts option.\n    // The original `named` must not be modified.\n    // if (nameMap) {\n    //     svgGraphic = extend({}, svgGraphic);\n    //     svgGraphic.named = applyNameMap(svgGraphic.named, nameMap);\n    // }\n\n    return svgGraphic;\n  };\n\n  GeoSVGResource.prototype.freeGraphic = function (hostKey) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n\n    if (svgGraphic) {\n      usedRootMap.removeKey(hostKey);\n\n      this._freedGraphics.push(svgGraphic);\n    }\n  };\n\n  return GeoSVGResource;\n}();\n\nexport { GeoSVGResource };\n\nfunction setSilent(el) {\n  // Only named element has silent: false, other elements should\n  // act as background and has no user interaction.\n  el.silent = false; // text|tspan will be converted to group.\n\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.silent = false;\n    });\n  }\n}\n\nfunction createRegions(named) {\n  var regions = [];\n  var regionsMap = createHashMap(); // Create resions only for the first graphic.\n\n  each(named, function (namedItem) {\n    // Region has feature to calculate center for tooltip or other features.\n    // If there is a <g name=\"xxx\">, the center should be the center of the\n    // bounding rect of the g.\n    if (namedItem.namedFrom != null) {\n      return;\n    }\n\n    var region = new GeoSVGRegion(namedItem.name, namedItem.el); // PENDING: if `nameMap` supported, this region can not be mounted on\n    // `this`, but can only be created each time `load()` called.\n\n    regions.push(region); // PENDING: if multiple tag named with the same name, only one will be\n    // found by `_regionsMap`. `_regionsMap` is used to find a coordinate\n    // by name. We use `region.getCenter()` as the coordinate.\n\n    regionsMap.set(namedItem.name, region);\n  });\n  return {\n    regions: regions,\n    regionsMap: regionsMap\n  };\n} // PENDING: `nameMap` will not be supported until some real requirement come.\n// /**\n//  * Use the alias in geoNameMap.\n//  * The input `named` must not be modified.\n//  */\n// function applyNameMap(\n//     named: GeoSVGGraphicRecord['named'],\n//     nameMap: NameMap\n// ): GeoSVGGraphicRecord['named'] {\n//     const result = [] as GeoSVGGraphicRecord['named'];\n//     for (let i = 0; i < named.length; i++) {\n//         let regionGraphic = named[i];\n//         const name = regionGraphic.name;\n//         if (nameMap && nameMap.hasOwnProperty(name)) {\n//             regionGraphic = extend({}, regionGraphic);\n//             regionGraphic.name = name;\n//         }\n//         result.push(regionGraphic);\n//     }\n//     return result;\n// }", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \u5357\u6D77\u8BF8\u5C9B\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { GeoJSONRegion } from '../Region';\nvar geoCoord = [126, 25];\nvar nanhaiName = '\u5357\u6D77\u8BF8\u5C9B';\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\n\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\n\nexport default function fixNanhai(mapType, regions) {\n  if (mapType === 'china') {\n    for (var i = 0; i < regions.length; i++) {\n      // Already exists.\n      if (regions[i].name === nanhaiName) {\n        return;\n      }\n    }\n\n    regions.push(new GeoJSONRegion(nanhaiName, zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordsOffsetMap = {\n  '\u5357\u6D77\u8BF8\u5C9B': [32, 80],\n  // \u5168\u56FD\n  '\u5E7F\u4E1C': [0, -10],\n  '\u9999\u6E2F': [10, 5],\n  '\u6FB3\u95E8': [-10, 10],\n  //'\u5317\u4EAC': [-10, 0],\n  '\u5929\u6D25': [5, 5]\n};\nexport default function fixTextCoords(mapType, region) {\n  if (mapType === 'china') {\n    var coordFix = coordsOffsetMap[region.name];\n\n    if (coordFix) {\n      var cp = region.getCenter();\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n      region.setCenter(cp);\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar geoCoordMap = {\n  'Russia': [100, 60],\n  'United States': [-99, 38],\n  'United States of America': [-99, 38]\n};\nexport default function fixGeoCoords(mapType, region) {\n  if (mapType === 'world') {\n    var geoCoord = geoCoordMap[region.name];\n\n    if (geoCoord) {\n      var cp = [geoCoord[0], geoCoord[1]];\n      region.setCenter(cp);\n    }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for \u9493\u9C7C\u5C9B\n// let Region = require('../Region');\n// let zrUtil = require('zrender/lib/core/util');\n// let geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\nexport default function fixDiaoyuIsland(mapType, region) {\n  if (mapType === 'china' && region.name === '\u53F0\u6E7E') {\n    region.geometries.push({\n      type: 'polygon',\n      exterior: points[0]\n    });\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString, createHashMap } from 'zrender/lib/core/util';\nimport parseGeoJson from './parseGeoJson'; // Built-in GEO fixer.\n\nimport fixNanhai from './fix/nanhai';\nimport fixTextCoord from './fix/textCoord';\nimport fixGeoCoord from './fix/geoCoord';\nimport fixDiaoyuIsland from './fix/diaoyuIsland';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nvar DEFAULT_NAME_PROPERTY = 'name';\n\nvar GeoJSONResource =\n/** @class */\nfunction () {\n  function GeoJSONResource(mapName, geoJSON, specialAreas) {\n    this.type = 'geoJSON';\n    this._parsedMap = createHashMap();\n    this._mapName = mapName;\n    this._specialAreas = specialAreas; // PENDING: delay the parse to the first usage to rapid up the FMP?\n\n    this._geoJSON = parseInput(geoJSON);\n  }\n  /**\n   * @param nameMap can be null/undefined\n   * @param nameProperty can be null/undefined\n   */\n\n\n  GeoJSONResource.prototype.load = function (nameMap, nameProperty) {\n    nameProperty = nameProperty || DEFAULT_NAME_PROPERTY;\n\n    var parsed = this._parsedMap.get(nameProperty);\n\n    if (!parsed) {\n      var rawRegions = this._parseToRegions(nameProperty);\n\n      parsed = this._parsedMap.set(nameProperty, {\n        regions: rawRegions,\n        boundingRect: calculateBoundingRect(rawRegions)\n      });\n    }\n\n    var regionsMap = createHashMap();\n    var finalRegions = [];\n    each(parsed.regions, function (region) {\n      var regionName = region.name; // Try use the alias in geoNameMap\n\n      if (nameMap && nameMap.hasOwnProperty(regionName)) {\n        region = region.cloneShallow(regionName = nameMap[regionName]);\n      }\n\n      finalRegions.push(region);\n      regionsMap.set(regionName, region);\n    });\n    return {\n      regions: finalRegions,\n      boundingRect: parsed.boundingRect || new BoundingRect(0, 0, 0, 0),\n      regionsMap: regionsMap\n    };\n  };\n\n  GeoJSONResource.prototype._parseToRegions = function (nameProperty) {\n    var mapName = this._mapName;\n    var geoJSON = this._geoJSON;\n    var rawRegions; // https://jsperf.com/try-catch-performance-overhead\n\n    try {\n      rawRegions = geoJSON ? parseGeoJson(geoJSON, nameProperty) : [];\n    } catch (e) {\n      throw new Error('Invalid geoJson format\\n' + e.message);\n    }\n\n    fixNanhai(mapName, rawRegions);\n    each(rawRegions, function (region) {\n      var regionName = region.name;\n      fixTextCoord(mapName, region);\n      fixGeoCoord(mapName, region);\n      fixDiaoyuIsland(mapName, region); // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n\n      var specialArea = this._specialAreas && this._specialAreas[regionName];\n\n      if (specialArea) {\n        region.transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    }, this);\n    return rawRegions;\n  };\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n\n\n  GeoJSONResource.prototype.getMapForUser = function () {\n    return {\n      // For backward compatibility, use geoJson\n      // PENDING: it has been returning them without clone.\n      // do we need to avoid outsite modification?\n      geoJson: this._geoJSON,\n      geoJSON: this._geoJSON,\n      specialAreas: this._specialAreas\n    };\n  };\n\n  return GeoJSONResource;\n}();\n\nexport { GeoJSONResource };\n\nfunction calculateBoundingRect(regions) {\n  var rect;\n\n  for (var i = 0; i < regions.length; i++) {\n    var regionRect = regions[i].getBoundingRect();\n    rect = rect || regionRect.clone();\n    rect.union(regionRect);\n  }\n\n  return rect;\n}\n\nfunction parseInput(source) {\n  return !isString(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util';\nimport { GeoSVGResource } from './GeoSVGResource';\nimport { GeoJSONResource } from './GeoJSONResource';\nvar storage = createHashMap();\nexport default {\n  /**\n   * Compatible with previous `echarts.registerMap`.\n   *\n   * @usage\n   * ```js\n   *\n   * echarts.registerMap('USA', geoJson, specialAreas);\n   *\n   * echarts.registerMap('USA', {\n   *     geoJson: geoJson,\n   *     specialAreas: {...}\n   * });\n   * echarts.registerMap('USA', {\n   *     geoJSON: geoJson,\n   *     specialAreas: {...}\n   * });\n   *\n   * echarts.registerMap('airport', {\n   *     svg: svg\n   * }\n   * ```\n   *\n   * Note:\n   * Do not support that register multiple geoJSON or SVG\n   * one map name. Because different geoJSON and SVG have\n   * different unit. It's not easy to make sure how those\n   * units are mapping/normalize.\n   * If intending to use multiple geoJSON or SVG, we can\n   * use multiple geo coordinate system.\n   */\n  registerMap: function (mapName, rawDef, rawSpecialAreas) {\n    if (rawDef.svg) {\n      var resource = new GeoSVGResource(mapName, rawDef.svg);\n      storage.set(mapName, resource);\n    } else {\n      // Recommend:\n      //     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });\n      // Backward compatibility:\n      //     echarts.registerMap('eu', geoJSON, specialAreas);\n      //     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });\n      var geoJSON = rawDef.geoJson || rawDef.geoJSON;\n\n      if (geoJSON && !rawDef.features) {\n        rawSpecialAreas = rawDef.specialAreas;\n      } else {\n        geoJSON = rawDef;\n      }\n\n      var resource = new GeoJSONResource(mapName, geoJSON, rawSpecialAreas);\n      storage.set(mapName, resource);\n    }\n  },\n  getGeoResource: function (mapName) {\n    return storage.get(mapName);\n  },\n\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  getMapForUser: function (mapName) {\n    var resource = storage.get(mapName); // Do not support return SVG until some real requirement come.\n\n    return resource && resource.type === 'geoJSON' && resource.getMapForUser();\n  },\n  load: function (mapName, nameMap, nameProperty) {\n    var resource = storage.get(mapName);\n\n    if (!resource) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Map ' + mapName + ' not exists. The GeoJSON of the map must be provided.');\n      }\n\n      return;\n    }\n\n    return resource.load(nameMap, nameProperty);\n  }\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nimport * as zrender from 'zrender/lib/zrender';\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as colorTool from 'zrender/lib/tool/color';\nimport env from 'zrender/lib/core/env';\nimport timsort from 'zrender/lib/core/timsort';\nimport Eventful from 'zrender/lib/core/Eventful';\nimport GlobalModel from '../model/Global';\nimport ExtensionAPI from './ExtensionAPI';\nimport CoordinateSystemManager from './CoordinateSystem';\nimport OptionManager from '../model/OptionManager';\nimport backwardCompat from '../preprocessor/backwardCompat';\nimport dataStack from '../processor/dataStack';\nimport SeriesModel from '../model/Series';\nimport ComponentView from '../view/Component';\nimport ChartView from '../view/Chart';\nimport * as graphic from '../util/graphic';\nimport { getECData } from '../util/innerStore';\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlboalMouseOutForHighDown } from '../util/states';\nimport * as modelUtil from '../util/model';\nimport { throttle } from '../util/throttle';\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style';\nimport loadingDefault from '../loading/default';\nimport Scheduler from './Scheduler';\nimport lightTheme from '../theme/light';\nimport darkTheme from '../theme/dark';\nimport { parseClassType } from '../util/clazz';\nimport { ECEventProcessor } from '../util/ECEventProcessor';\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol';\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper';\nimport LabelManager from '../label/LabelManager';\nimport { deprecateLog, throwError } from '../util/log';\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction';\nimport { registerExternalTransform } from '../data/helper/transform';\nimport { createLocaleObject, SYSTEM_LANG } from './locale';\nimport { findEventDispatcher } from '../util/event';\nimport decal from '../visual/decal';\nimport geoSourceManager from '../coord/geo/geoSourceManager';\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nvar indexOf = zrUtil.indexOf;\nvar hasWindow = typeof window !== 'undefined';\nexport var version = '5.1.2';\nexport var dependencies = {\n  zrender: '5.1.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800; // Some data processors depends on the stack result dimension (to calculate data extent).\n// So data stack stage should be in front of data processing stage.\n\nvar PRIORITY_PROCESSOR_DATASTACK = 900; // \"Data filter\" will block the stream, so it should be\n// put at the begining of data processing.\n\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000; // Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\n// overwrite the viusal result of component (like `visualMap`)\n// using data item specific setting (like itemStyle.xxx on data item)\n\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500; // Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\n// visual result like `symbolSize`.\n\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexport var PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n}; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar OPTION_UPDATED_KEY = '__optionUpdated';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n;\n;\n\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  // `args[0]` is event name. Event name is all lowercase.\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful.prototype[method].apply(host, args);\n}\n\nvar MessageCenter =\n/** @class */\nfunction (_super) {\n  __extends(MessageCenter, _super);\n\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return MessageCenter;\n}(Eventful);\n\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off'); // ---------------------------------------\n// Internal method names for class ECharts\n// ---------------------------------------\n\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar clearColorPalette;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar performPostUpdateFuncs;\nvar createExtensionAPI;\nvar enableConnect;\nvar setTransitionOpt;\nvar markStatusToUpdate;\nvar applyChangedStates;\n\nvar ECharts =\n/** @class */\nfunction (_super) {\n  __extends(ECharts, _super);\n\n  function ECharts(dom, // Theme name or themeOption.\n  theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor()) || this;\n\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {}; // Can't dispatch action during rendering procedure\n\n    _this._pendingActions = [];\n    opts = opts || {}; // Get theme by name\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n\n    _this._dom = dom;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var root =\n      /* eslint-disable-next-line */\n      hasWindow ? window : global;\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    }); // Expect 60 fps.\n\n    _this._throttledZrFlush = throttle(zrUtil.bind(zr.flush, zr), 17);\n    theme = zrUtil.clone(theme);\n    theme && backwardCompat(theme, true);\n    _this._theme = theme;\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystemManager();\n    var api = _this._api = createExtensionAPI(_this); // Sort on demand\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    _this._labelManager = new LabelManager(); // Init mouse events\n\n    _this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n    _this.resize = zrUtil.bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this); // ECharts instance can be used as value.\n\n    zrUtil.setAsPrimitive(_this);\n    return _this;\n  }\n\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    applyChangedStates(this);\n    var scheduler = this._scheduler; // Lazy update\n\n    if (this[OPTION_UPDATED_KEY]) {\n      var silent = this[OPTION_UPDATED_KEY].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      prepare(this);\n      updateMethods.update.call(this); // At present, in each frame, zrender performs:\n      //   (1) animation step forward.\n      //   (2) trigger('frame') (where this `_onframe` is called)\n      //   (3) zrender flush (render).\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\n      // will render the final state of the elements before the real animation started.\n\n      this._zr.flush();\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[OPTION_UPDATED_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n        // Stream progress.\n        var remainTime = TEST_FRAME_REMAIN_TIME;\n        var ecModel = this._model;\n        var api = this._api;\n        scheduler.unfinished = false;\n\n        do {\n          var startTime = +new Date();\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n          scheduler.performDataProcessorTasks(ecModel);\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n          // each frame is not a good user experience. So we follow the rule that\n          // the extent of the coordinate system is determin in the first frame (the\n          // frame is executed immedietely after task reset.\n          // this._coordSysMgr.update(ecModel, api);\n          // console.log('--- ec frame visual ---', remainTime);\n\n          scheduler.performVisualTasks(ecModel);\n          renderSeries(this, this._model, api, 'remain');\n          remainTime -= +new Date() - startTime;\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n        if (!scheduler.unfinished) {\n          this._zr.flush();\n        } // Else, zr flushing be ensue within the same frame,\n        // because zr flushing is after onframe event.\n\n      }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n  /* eslint-disable-next-line */\n\n\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`setOption` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new GlobalModel();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n\n    setTransitionOpt(this, transitionOpt);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED_KEY] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS_KEY] = false; // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\n      // It should wake it up to make sure zrender start to render at the next frame.\n\n      this.getZr().wakeUp();\n    } else {\n      prepare(this);\n      updateMethods.update.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED_KEY] = false;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @DEPRECATED\n   */\n\n\n  ECharts.prototype.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  }; // We don't want developers to use getModel directly.\n\n\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr\n    /* eslint-disable-next-line */\n    || hasWindow && window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   */\n\n\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (!env.canvasSupported) {\n      return;\n    }\n\n    opts = opts || {};\n    return this._zr.painter.getRenderedCanvas({\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\n    });\n  };\n  /**\n   * Get svg data url\n   */\n\n\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env.svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList(); // Stop animations\n\n    zrUtil.each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env.canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\n      zrUtil.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(zrUtil.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = zrUtil.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n\n\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    zrUtil.each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param visualType 'color', 'symbol', 'symbolSize'\n   */\n\n\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   */\n\n\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   */\n\n\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && findEventDispatcher(el, function (parent) {\n            var ecData = getECData(parent);\n\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } // If element has custom eventData of components\n            else if (ecData.eventData) {\n                params = zrUtil.extend({}, ecData.eventData);\n                return true;\n              }\n          }, true);\n        } // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n\n          if (process.env.NODE_ENV !== 'production') {\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\n            // be missed, otherwise there is no way to distinguish source component.\n            // See `dataFormat.getDataParams`.\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n\n          _this.trigger(eveName, params);\n        }\n      }; // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n\n\n      handler.zrEventfulCallAtLast = true;\n\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    }); // Extra events\n    // TODO register?\n\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    handleLegacySelectEvents(this._messageCenter, this, this._api);\n  };\n\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    }); // Dispose after all views disposed\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n  /**\n   * Resize the chart\n   */\n\n\n  ECharts.prototype.resize = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`resize` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model; // Resize loading effect\n\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var needPrepare = ecModel.resetOption('media');\n    var silent = opts && opts.silent; // There is some real cases that:\n    // chart.setOption(option, { lazyUpdate: true });\n    // chart.resize();\n\n    if (this[OPTION_UPDATED_KEY]) {\n      if (silent == null) {\n        silent = this[OPTION_UPDATED_KEY].silent;\n      }\n\n      needPrepare = true;\n      this[OPTION_UPDATED_KEY] = false;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n    needPrepare && prepare(this);\n    updateMethods.update.call(this, {\n      type: 'resize',\n      animation: zrUtil.extend({\n        // Disable animation\n        duration: 0\n      }, opts && opts.animation)\n    });\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n\n\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = zrUtil.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @param opt If pass boolean, means opt.silent\n   * @param opt.silent Default `false`. Whether trigger events.\n   * @param opt.flush Default `undefined`.\n   *        true: Flush immediately, and then pixel in canvas can be fetched\n   *            immediately. Caution: it might affect performance.\n   *        false: Not flush.\n   *        undefined: Auto decide whether perform flush.\n   */\n\n\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n    if (!this._model) {\n      return;\n    } // May dispatchAction in rendering procedure\n\n\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env.browser.weChat) {\n      // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh util user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.updateLabelLayout = function () {\n    var labelManager = this._labelManager;\n    labelManager.updateLayoutConfig(this._api);\n    labelManager.layout(this._api);\n    labelManager.processLabelsOverall();\n  };\n\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  }; // A work around for no `internal` modifier in ts yet but\n  // need to strictly hide private methods to JS users.\n\n\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    /**\n     * Prepare view instances of charts and components\n     */\n\n\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n\n      function doPrepare(model) {\n        // By defaut view will be reused if possible for the case that `setOption` with \"notMerge\"\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\n        // especially no id but have the same type & name & index. See the `model.id` generation\n        // rule in `makeIdAndName` and `viewId` generation rule here).\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\n        // the new model has nothing to do with the old model.\n        var requireNewView = model.__requireNewView; // This command should not work twice.\n\n        model.__requireNewView = false; // Consider: id same and type changed.\n\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n\n        if (!view) {\n          var classType = parseClassType(model.type);\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) : // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          ChartView.getClass(classType.sub);\n\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload); // broadcast\n\n      if (!mainType) {\n        // FIXME\n        // Chart will not be update directly here, except set dirty.\n        // But there is no such scenario now.\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = zrUtil.createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n\n      if (isHighDownPayload(payload)) {\n        allLeaveBlur(ecIns._api);\n      } // If dispatchAction before setOption, do nothing.\n\n\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        if (!excludeSeriesIdMap || excludeSeriesIdMap.get(model.id) == null) {\n          if (isHighDownPayload(payload)) {\n            if (model instanceof SeriesModel) {\n              if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur) {\n                blurSeriesFromHighlightPayload(model, payload, ecIns._api);\n              }\n            } else {\n              var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\n                  focusSelf = _a.focusSelf,\n                  dispatchers = _a.dispatchers;\n\n              if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\n                blurComponent(model.mainType, model.componentIndex, ecIns._api);\n              } // PENDING:\n              // Whether to put this \"enter emphasis\" code in `ComponentView`,\n              // which will be the same as `ChartView` but might be not necessary\n              // and will be far from this logic.\n\n\n              if (dispatchers) {\n                each(dispatchers, function (dispatcher) {\n                  payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\n                });\n              }\n            }\n          } else if (isSelectChangePayload(payload)) {\n            // TODO geo\n            if (model instanceof SeriesModel) {\n              toggleSelectionFromPayload(model, payload, ecIns._api);\n              updateSeriesElementSelection(model);\n              markStatusToUpdate(ecIns);\n            }\n          }\n\n          callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n        }\n      }, ecIns);\n\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload);\n      },\n      update: function (payload) {\n        // console.profile && console.profile('update');\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel); // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the orignal point\n\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n        // stream modes after data processing, where the filtered data is used to\n        // deteming whether use progressive rendering.\n\n        updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\n        // the drawback is the full coord info can not be fetched. Fortunately this full\n        // coord is not requied in stream mode updater currently.\n\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload); // Set background\n\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode'); // In IE8\n\n        if (!env.canvasSupported) {\n          var colorArr = colorTool.parse(backgroundColor);\n          backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n          if (colorArr[3] === 0) {\n            backgroundColor = 'transparent';\n          }\n        } else {\n          zr.setBackgroundColor(backgroundColor); // Force set dark mode.\n\n          if (darkMode != null && darkMode !== 'auto') {\n            zr.setDarkMode(darkMode);\n          }\n        }\n\n        performPostUpdateFuncs(ecModel, api); // console.profile && console.profileEnd('update');\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n        var api = this._api; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload); // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n\n          var componentView = _this.getViewOfComponentModel(componentModel);\n\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = zrUtil.createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        }); // Currently, not call render of components. Geo render cost a lot.\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n        renderSeries(this, ecModel, api, payload, seriesDirtyMap);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        ChartView.markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n\n        render(this, this._model, this._api, payload);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        // updateMethods.update.call(this, payload);\n        var _this = this;\n\n        var ecModel = this._model; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload); // clear all visual\n\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        }); // Perform visual\n\n        ChartView.markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n\n      var ecModel = ecIns._model;\n\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false; // Batch action\n\n      if (payload.batch) {\n        batched = true;\n        payloads = zrUtil.map(payload.batch, function (item) {\n          item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = isSelectChangePayload(payload);\n      var isHighDown = isHighDownPayload(payload);\n      each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api); // Emit event outside\n\n        eventObj = eventObj || zrUtil.extend({}, batchItem); // Convert type to eventType\n\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n        if (isHighDown) {\n          var _a = modelUtil.preParseFinder(payload),\n              queryOptionMap = _a.queryOptionMap,\n              mainTypeSpecified = _a.mainTypeSpecified;\n\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\n          markStatusToUpdate(_this);\n        } else if (isSelectChange) {\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\n          // geo still use 'geoselect'.\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\n        // Still dirty\n        if (this[OPTION_UPDATED_KEY]) {\n          prepare(this);\n          updateMethods.update.call(this, payload);\n          this[OPTION_UPDATED_KEY] = false;\n        } else {\n          updateMethods[updateMethod].call(this, payload);\n        }\n      } // Follow the rule of action batch\n\n\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj); // Extra triggered 'selectchanged' event\n\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    /**\n     * Event `rendered` is triggered when zr\n     * rendered. It is useful for realtime\n     * snapshot (reflect animation).\n     *\n     * Event `finished` is triggered when:\n     * (1) zrender rendering finished.\n     * (2) initial animation finished.\n     * (3) progressive rendering finished.\n     * (4) no pending action.\n     * (5) no delayed setOption needs to be processed.\n     */\n\n\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params); // The `finished` event should not be triggered repeatly,\n        // so it should only be triggered when rendering indeed happend\n        // in zrender. (Consider the case that dipatchAction is keep\n        // triggering when mouse move).\n\n        if ( // Although zr is dirty if initial animation is not finished\n        // and this checking is called on frame, we also check\n        // animation finished for robustness.\n        zr.animation.isFinished() && !ecIns[OPTION_UPDATED_KEY] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n\n        if (dispatcher) {\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n\n        if (dispatcher) {\n          handleGlboalMouseOutForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, function (target) {\n          return getECData(target).dataIndex != null;\n        }, true);\n\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = getECData(dispatcher);\n\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n\n    clearColorPalette = function (ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    };\n\n    render = function (ecIns, ecModel, api, payload) {\n      renderComponents(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload); // Remove groups of unrendered charts\n\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n\n    renderComponents = function (ecIns, ecModel, api, payload, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    /**\n     * Render each chart and component\n     */\n\n\n    renderSeries = function (ecIns, ecModel, api, payload, dirtyMap) {\n      // Render all charts\n      var scheduler = ecIns._scheduler;\n      var labelManager = ecIns._labelManager;\n      labelManager.clearLabels();\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload); // TODO states on marker.\n\n        clearStates(seriesModel, chartView);\n\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n\n        seriesModel.__transientTransitionOpt = null;\n        chartView.group.silent = !!seriesModel.get('silent'); // Should not call markRedraw on group, because it will disable zrender\n        // increamental render (alway render from the __startIndex each frame)\n        // chartView.group.markRedraw();\n\n        updateBlend(seriesModel, chartView);\n        updateSeriesElementSelection(seriesModel); // Add labels.\n\n        labelManager.addLabelsOfSeries(chartView);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      labelManager.updateLayoutConfig(api);\n      labelManager.layout(api);\n      labelManager.processLabelsOverall();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId]; // Update Z after labels updated. Before applying states.\n\n        updateZ(seriesModel, chartView); // NOTE: Update states after label is updated.\n        // label should be in normal status when layouting.\n\n        updateStates(seriesModel, chartView);\n      }); // If use hover layer\n\n      updateHoverLayerStatus(ecIns, ecModel);\n    };\n\n    performPostUpdateFuncs = function (ecModel, api) {\n      each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n      });\n    };\n\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true; // Wake up zrender if it's sleep. Let it update states in the next frame.\n\n      ecIns.getZr().wakeUp();\n    };\n\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n\n      ecIns.getZr().storage.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates; // Keep other states.\n\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      } // Only use states when it's exists.\n\n\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n\n      el.useStates(newStates);\n    }\n\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n          if (chartView.__alive) {\n            chartView.group.traverse(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    ;\n    /**\n     * Update chart and blend.\n     */\n\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!env.canvasSupported && blendMode && blendMode !== 'source-over') {\n          console.warn('Only canvas support blendMode');\n        }\n      }\n\n      chartView.group.traverse(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n          // DONT mark the element dirty. In case element is incremental and don't wan't to rerender.\n          el.style.blend = blendMode;\n        }\n\n        if (el.eachPendingDisplayable) {\n          el.eachPendingDisplayable(function (displayable) {\n            displayable.style.blend = blendMode;\n          });\n        }\n      });\n    }\n\n    ;\n\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      } // Set z and zlevel\n\n\n      _updateZ(view.group, model.get('z') || 0, model.get('zlevel') || 0, -Infinity);\n    }\n\n    ;\n\n    function _updateZ(el, z, zlevel, maxZ2) {\n      // Group may also have textContent\n      var label = el.getTextContent();\n      var labelLine = el.getTextGuideLine();\n      var isGroup = el.isGroup;\n\n      if (isGroup) {\n        // set z & zlevel of children elements of Group\n        // el.traverse((childEl: Element) => _updateZ(childEl, z, zlevel));\n        var children = el.childrenRef();\n\n        for (var i = 0; i < children.length; i++) {\n          maxZ2 = Math.max(_updateZ(children[i], z, zlevel, maxZ2), maxZ2);\n        }\n      } else {\n        // not Group\n        el.z = z;\n        el.zlevel = zlevel;\n        maxZ2 = Math.max(el.z2, maxZ2);\n      } // always set z and zlevel if label/labelLine exists\n\n\n      if (label) {\n        label.z = z;\n        label.zlevel = zlevel; // lift z2 of text content\n        // TODO if el.emphasis.z2 is spcefied, what about textContent.\n\n        isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\n      }\n\n      if (labelLine) {\n        var textGuideLineConfig = el.textGuideLineConfig;\n        labelLine.z = z;\n        labelLine.zlevel = zlevel;\n        isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\n      }\n\n      return maxZ2;\n    } // Clear states without animation.\n    // TODO States on component.\n\n\n    function clearStates(model, view) {\n      view.group.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        } // TODO If el is incremental.\n\n\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing') // additive: stateAnimationModel.get('additive')\n\n      } : null;\n      view.group.traverse(function (el) {\n        if (el.states && el.states.emphasis) {\n          // Not applied on removed elements, it may still in fading.\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n\n          if (el instanceof graphic.Path) {\n            savePathStates(el);\n          } // Only updated on changed element. In case element is incremental and don't wan't to rerender.\n          // TODO, a more proper way?\n\n\n          if (el.__dirty) {\n            var prevStates = el.prevStates; // Restore states without animation\n\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          } // Update state transition and enable animation again.\n\n\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine(); // TODO Is it necessary to animate label?\n\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          } // The use higlighted and selected flag to toggle states.\n\n\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n\n    ;\n\n    createExtensionAPI = function (ecIns) {\n      return new (\n      /** @class */\n      function (_super) {\n        __extends(class_1, _super);\n\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n\n            el = el.parent;\n          }\n        };\n\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterBlur = function (el) {\n          enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveBlur = function (el) {\n          leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterSelect = function (el) {\n          enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveSelect = function (el) {\n          leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n\n        return class_1;\n      }(ExtensionAPI))(ecIns);\n    };\n\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n\n    setTransitionOpt = function (chart, transitionOpt) {\n      var ecModel = chart._model;\n      zrUtil.each(modelUtil.normalizeToArray(transitionOpt), function (transOpt) {\n        var errMsg;\n        var fromOpt = transOpt.from;\n        var toOpt = transOpt.to;\n\n        if (toOpt == null) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.to` must be specified.';\n          }\n\n          throwError(errMsg);\n        }\n\n        var finderOpt = {\n          includeMainTypes: ['series'],\n          enableAll: false,\n          enableNone: false\n        };\n        var fromResult = fromOpt ? modelUtil.parseFinder(ecModel, fromOpt, finderOpt) : null;\n        var toResult = modelUtil.parseFinder(ecModel, toOpt, finderOpt);\n        var toSeries = toResult.seriesModel;\n\n        if (toSeries == null) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition` is only supported on series.';\n          }\n        }\n\n        if (fromResult && fromResult.seriesModel !== toSeries) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.from` and `transition.to` must be specified to the same series.';\n          }\n        }\n\n        if (errMsg != null) {\n          throwError(errMsg);\n        } // Just a temp solution: mount them on series.\n\n\n        toSeries.__transientTransitionOpt = {\n          from: fromOpt ? fromOpt.dimension : null,\n          to: toOpt.dimension,\n          dividingMethod: transOpt.dividingMethod\n        };\n      });\n    };\n  }();\n\n  return ECharts;\n}(Eventful);\n\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n/**\n * @deprecated\n */\n// @ts-ignore\n\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  deprecateLog('ECharts#one is deprecated.');\n\n  function wrapped() {\n    var args2 = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n\n    cb && cb.apply && cb.apply(this, args2); // @ts-ignore\n\n    self.off(eventName, wrapped);\n  }\n\n  ; // @ts-ignore\n\n  this.on.call(this, eventName, wrapped, ctx);\n}; // /**\n//  * Encode visual infomation from data after data processing\n//  *\n//  * @param {module:echarts/model/Global} ecModel\n//  * @param {object} layout\n//  * @param {boolean} [layoutFilter] `true`: only layout,\n//  *                                 `false`: only not layout,\n//  *                                 `null`/`undefined`: all.\n//  * @param {string} taskBaseTag\n//  * @private\n//  */\n// function startVisualEncoding(ecIns, ecModel, api, payload, layoutFilter) {\n//     each(visualFuncs, function (visual, index) {\n//         let isLayout = visual.isLayout;\n//         if (layoutFilter == null\n//             || (layoutFilter === false && !isLayout)\n//             || (layoutFilter === true && isLayout)\n//         ) {\n//             visual.func(ecModel, api, payload);\n//         }\n//     });\n// }\n\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\n\nvar actions = {};\n/**\n * Map eventType to actionType\n */\n\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar postInitFuncs = [];\nvar postUpdateFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n/**\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\n * @param opts.width Use clientWidth of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.height Use clientHeight of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n */\n\nexport function init(dom, theme, opts) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!dom) {\n      throw new Error('Initialize failed: invalid dom.');\n    }\n  }\n\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('There is a chart instance already initialized on the dom.');\n    }\n\n    return existInstance;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (zrUtil.isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n      console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n    }\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  each(postInitFuncs, function (postInitFunc) {\n    postInitFunc(chart);\n  });\n  return chart;\n}\n/**\n * @usage\n * (A)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * chart1.group = 'xxx';\n * chart2.group = 'xxx';\n * echarts.connect('xxx');\n * ```\n * (B)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * echarts.connect('xxx', [chart1, chart2]);\n * ```\n */\n\nexport function connect(groupId) {\n  // Is array of charts\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null; // If any chart has group\n\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n/**\n * @deprecated\n */\n\nexport function disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * Alias and backword compat\n */\n\nexport var disconnect = disConnect;\n/**\n * Dispose a chart instance\n */\n\nexport function dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexport function getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexport function getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\n\nexport function registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n */\n\nexport function registerPreprocessor(preprocessorFunc) {\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n}\nexport function registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n/**\n * Register postIniter\n * @param {Function} postInitFunc\n */\n\nexport function registerPostInit(postInitFunc) {\n  if (indexOf(postInitFuncs, postInitFunc) < 0) {\n    postInitFunc && postInitFuncs.push(postInitFunc);\n  }\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\n\nexport function registerPostUpdate(postUpdateFunc) {\n  if (indexOf(postUpdateFuncs, postUpdateFunc) < 0) {\n    postUpdateFunc && postUpdateFuncs.push(postUpdateFunc);\n  }\n}\nexport function registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0]; // Event name is all lowercase\n\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n\n  if (eventActionMap[eventName]) {\n    // Already registered.\n    return;\n  } // Validate action type and event name.\n\n\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\nexport function registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystemManager.register(type, coordSysCreator);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\n\nexport function getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexport { registerLocale } from './locale';\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n\nexport { registerLayout, registerVisual };\nvar registeredTasks = [];\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    } // Check duplicate\n\n\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  } // Already registered\n\n\n  if (indexOf(registeredTasks, fn) >= 0) {\n    return;\n  }\n\n  registeredTasks.push(fn);\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\n\nexport function registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n * Be careful of using it in the browser.\n *\n * @example\n *     let Canvas = require('canvas');\n *     let echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\n\nexport function setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n/**\n * The parameters and usage: see `geoSourceManager.registerMap`.\n * Compatible with previous `echarts.registerMap`.\n */\n\nexport function registerMap(mapName, geoJson, specialAreas) {\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\n}\nexport function getMap(mapName) {\n  return geoSourceManager.getMapForUser(mapName);\n}\nexport var registerTransform = registerExternalTransform;\n/**\n * Globa dispatchAction to a specified chart instance.\n */\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\n//     if (!payload || !payload.chartId) {\n//         // Must have chartId to find chart\n//         return;\n//     }\n//     const chart = instances[payload.chartId];\n//     if (chart) {\n//         chart.dispatchAction(payload, opt);\n//     }\n// }\n// Buitlin global visual\n\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault); // Default actions\n\nregisterAction({\n  type: HIGHLIGHT_ACTION_TYPE,\n  event: HIGHLIGHT_ACTION_TYPE,\n  update: HIGHLIGHT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: DOWNPLAY_ACTION_TYPE,\n  event: DOWNPLAY_ACTION_TYPE,\n  update: DOWNPLAY_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: SELECT_ACTION_TYPE,\n  event: SELECT_ACTION_TYPE,\n  update: SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: UNSELECT_ACTION_TYPE,\n  event: UNSELECT_ACTION_TYPE,\n  update: UNSELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: TOGGLE_SELECT_ACTION_TYPE,\n  event: TOGGLE_SELECT_ACTION_TYPE,\n  update: TOGGLE_SELECT_ACTION_TYPE\n}, zrUtil.noop); // Default theme\n\nregisterTheme('light', lightTheme);\nregisterTheme('dark', darkTheme); // For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\n\nexport var dataTool = {};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { registerPreprocessor, registerProcessor, registerPostInit, registerPostUpdate, registerAction, registerCoordinateSystem, registerLayout, registerVisual, registerTransform, registerLoading, registerMap, PRIORITY } from './core/echarts';\nimport ComponentView from './view/Component';\nimport ChartView from './view/Chart';\nimport ComponentModel from './model/Component';\nimport SeriesModel from './model/Series';\nimport { isFunction, indexOf, isArray, each } from 'zrender/lib/core/util';\nimport { registerPainter } from 'zrender/lib/zrender';\nvar extensions = [];\nvar extensionRegisters = {\n  registerPreprocessor: registerPreprocessor,\n  registerProcessor: registerProcessor,\n  registerPostInit: registerPostInit,\n  registerPostUpdate: registerPostUpdate,\n  registerAction: registerAction,\n  registerCoordinateSystem: registerCoordinateSystem,\n  registerLayout: registerLayout,\n  registerVisual: registerVisual,\n  registerTransform: registerTransform,\n  registerLoading: registerLoading,\n  registerMap: registerMap,\n  PRIORITY: PRIORITY,\n  ComponentModel: ComponentModel,\n  ComponentView: ComponentView,\n  SeriesModel: SeriesModel,\n  ChartView: ChartView,\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\n  registerComponentModel: function (ComponentModelClass) {\n    ComponentModel.registerClass(ComponentModelClass);\n  },\n  registerComponentView: function (ComponentViewClass) {\n    ComponentView.registerClass(ComponentViewClass);\n  },\n  registerSeriesModel: function (SeriesModelClass) {\n    SeriesModel.registerClass(SeriesModelClass);\n  },\n  registerChartView: function (ChartViewClass) {\n    ChartView.registerClass(ChartViewClass);\n  },\n  registerSubTypeDefaulter: function (componentType, defaulter) {\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\n  },\n  registerPainter: function (painterType, PainterCtor) {\n    registerPainter(painterType, PainterCtor);\n  }\n};\nexport function use(ext) {\n  if (isArray(ext)) {\n    // use([ChartLine, ChartBar]);\n    each(ext, function (singleExt) {\n      use(singleExt);\n    });\n    return;\n  }\n\n  if (indexOf(extensions, ext) >= 0) {\n    return;\n  }\n\n  extensions.push(ext);\n\n  if (isFunction(ext)) {\n    ext = {\n      install: ext\n    };\n  }\n\n  ext.install(extensionRegisters);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(setting) {\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n  }\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   *\n   * Extent is always in increase order.\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * If value is in extent range\n   */\n\n\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n\n  return Scale;\n}();\n\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, isObject, map } from 'zrender/lib/core/util';\n\nvar OrdinalMeta =\n/** @class */\nfunction () {\n  function OrdinalMeta(opt) {\n    this.categories = opt.categories || [];\n    this._needCollect = opt.needCollect;\n    this._deduplication = opt.deduplication;\n  }\n\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n\n  ;\n\n  OrdinalMeta.prototype.getOrdinal = function (category) {\n    // @ts-ignore\n    return this._getOrCreateMap().get(category);\n  };\n  /**\n   * @return The ordinal. If not found, return NaN.\n   */\n\n\n  OrdinalMeta.prototype.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n\n    if (typeof category !== 'string' && !needCollect) {\n      return category;\n    } // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n\n\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      return index;\n    }\n\n    var map = this._getOrCreateMap(); // @ts-ignore\n\n\n    index = map.get(category);\n\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category; // @ts-ignore\n\n        map.set(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  }; // Consider big data, do not create map until needed.\n\n\n  OrdinalMeta.prototype._getOrCreateMap = function () {\n    return this._map || (this._map = createHashMap(this.categories));\n  };\n\n  return OrdinalMeta;\n}();\n\nfunction getName(obj) {\n  if (isObject(obj) && obj.value != null) {\n    return obj.value;\n  } else {\n    return obj + '';\n  }\n}\n\nexport default OrdinalMeta;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as numberUtil from '../util/number';\nvar roundNumber = numberUtil.round;\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\n\nexport function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = numberUtil.nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\n/**\n * @return interval precision\n */\n\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return numberUtil.getPrecision(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nexport function normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nexport function scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\n\nimport Scale from './Scale';\nimport OrdinalMeta from '../data/OrdinalMeta';\nimport * as scaleHelper from './helper';\nimport { isArray, map, isObject } from 'zrender/lib/core/util';\n\nvar OrdinalScale =\n/** @class */\nfunction (_super) {\n  __extends(OrdinalScale, _super);\n\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n\n    _this.type = 'ordinal';\n\n    var ordinalMeta = _this.getSetting('ordinalMeta'); // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n\n\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n\n  OrdinalScale.prototype.parse = function (val) {\n    return typeof val === 'string' ? this._ordinalMeta.getOrdinal(val) // val might be float.\n    : Math.round(val);\n  };\n\n  OrdinalScale.prototype.contain = function (rank) {\n    rank = this.parse(rank);\n    return scaleHelper.contain(rank, this._extent) && this._ordinalMeta.categories[rank] != null;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n\n\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(this.parse(val));\n    return scaleHelper.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n\n\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(scaleHelper.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n\n    return ticks;\n  };\n\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n\n\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = []; // Unnecessary support negative tick in `realtimeSort`.\n\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    } // Handle that `series.data` only covers part of the `axis.category.data`.\n\n\n    var unusedOrdinal = 0;\n\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber; // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n\n\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick; // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n\n\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber]; // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n\n  OrdinalScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n\n\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n\n  OrdinalScale.prototype.niceTicks = function () {};\n\n  OrdinalScale.prototype.niceExtent = function () {};\n\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\n\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number';\nimport * as formatUtil from '../util/format';\nimport Scale from './Scale';\nimport * as helper from './helper';\nvar roundNumber = numberUtil.round;\n\nvar IntervalScale =\n/** @class */\nfunction (_super) {\n  __extends(IntervalScale, _super);\n\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'interval'; // Step is calculated in adjustExtent.\n\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n\n  IntervalScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n\n  IntervalScale.prototype.normalize = function (val) {\n    return helper.normalize(val, this._extent);\n  };\n\n  IntervalScale.prototype.scale = function (val) {\n    return helper.scale(val, this._extent);\n  };\n\n  IntervalScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent; // start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  };\n\n  IntervalScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    this.setExtent(extent[0], extent[1]);\n  };\n\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n    // We assume user wan't to set both interval, min, max to get a better result\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n\n\n  IntervalScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n    var safeLimit = 10000;\n\n    if (extent[0] < niceTickExtent[0]) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n\n    var tick = niceTickExtent[0];\n\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      }); // Avoid rounding error\n\n      tick = roundNumber(tick + interval, intervalPrecision);\n\n      if (tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    } // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n\n    if (extent[1] > lastNiceTick) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n\n    return ticks;\n  };\n\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks(true);\n    var minorTicks = [];\n    var extent = this.getExtent();\n\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n\n        count++;\n      }\n\n      minorTicks.push(minorTicksGroup);\n    }\n\n    return minorTicks;\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n\n\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * @param splitNumber By default `5`.\n   */\n\n\n  IntervalScale.prototype.niceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n\n  IntervalScale.prototype.niceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        var expandSize = extent[0]; // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // let extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  };\n\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\n\nScale.registerClass(IntervalScale);\nexport default IntervalScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString } from 'zrender/lib/core/util';\n/**\n * Note that it is too complicated to support 3d stack by value\n * (have to create two-dimension inverted index), so in 3d case\n * we just support that stacked by index.\n *\n * @param seriesModel\n * @param dimensionInfoList The same as the input of <module:echarts/data/List>.\n *        The input dimensionInfoList will be modified.\n * @param opt\n * @param opt.stackedCoordDimension Specify a coord dimension if needed.\n * @param opt.byIndex=false\n * @return calculationInfo\n * {\n *     stackedDimension: string\n *     stackedByDimension: string\n *     isStackedByIndex: boolean\n *     stackedOverDimension: string\n *     stackResultDimension: string\n * }\n */\n\nexport function enableDataStack(seriesModel, dimensionInfoList, opt) {\n  opt = opt || {};\n  var byIndex = opt.byIndex;\n  var stackedCoordDimension = opt.stackedCoordDimension; // Compatibal: when `stack` is set as '', do not stack.\n\n  var mayStack = !!(seriesModel && seriesModel.get('stack'));\n  var stackedByDimInfo;\n  var stackedDimInfo;\n  var stackResultDimension;\n  var stackedOverDimension;\n  each(dimensionInfoList, function (dimensionInfo, index) {\n    if (isString(dimensionInfo)) {\n      dimensionInfoList[index] = dimensionInfo = {\n        name: dimensionInfo\n      };\n    }\n\n    if (mayStack && !dimensionInfo.isExtraCoord) {\n      // Find the first ordinal dimension as the stackedByDimInfo.\n      if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n        stackedByDimInfo = dimensionInfo;\n      } // Find the first stackable dimension as the stackedDimInfo.\n\n\n      if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n        stackedDimInfo = dimensionInfo;\n      }\n    }\n  });\n\n  if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n    // Compatible with previous design, value axis (time axis) only stack by index.\n    // It may make sense if the user provides elaborately constructed data.\n    byIndex = true;\n  } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n  // That put stack logic in List is for using conveniently in echarts extensions, but it\n  // might not be a good way.\n\n\n  if (stackedDimInfo) {\n    // Use a weird name that not duplicated with other names.\n    stackResultDimension = '__\\0ecstackresult';\n    stackedOverDimension = '__\\0ecstackedover'; // Create inverted index to fast query index by value.\n\n    if (stackedByDimInfo) {\n      stackedByDimInfo.createInvertedIndices = true;\n    }\n\n    var stackedDimCoordDim_1 = stackedDimInfo.coordDim;\n    var stackedDimType = stackedDimInfo.type;\n    var stackedDimCoordIndex_1 = 0;\n    each(dimensionInfoList, function (dimensionInfo) {\n      if (dimensionInfo.coordDim === stackedDimCoordDim_1) {\n        stackedDimCoordIndex_1++;\n      }\n    });\n    dimensionInfoList.push({\n      name: stackResultDimension,\n      coordDim: stackedDimCoordDim_1,\n      coordDimIndex: stackedDimCoordIndex_1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true\n    });\n    stackedDimCoordIndex_1++;\n    dimensionInfoList.push({\n      name: stackedOverDimension,\n      // This dimension contains stack base (generally, 0), so do not set it as\n      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n      coordDim: stackedOverDimension,\n      coordDimIndex: stackedDimCoordIndex_1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true\n    });\n  }\n\n  return {\n    stackedDimension: stackedDimInfo && stackedDimInfo.name,\n    stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n    isStackedByIndex: byIndex,\n    stackedOverDimension: stackedOverDimension,\n    stackResultDimension: stackResultDimension\n  };\n}\nexport function isDimensionStacked(data, stackedDim\n/*, stackedByDim*/\n) {\n  // Each single series only maps to one pair of axis. So we do not need to\n  // check stackByDim, whatever stacked by a dimension or stacked by index.\n  return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension'); // && (\n  //     stackedByDim != null\n  //         ? stackedByDim === data.getCalculationInfo('stackedByDimension')\n  //         : data.getCalculationInfo('isStackedByIndex')\n  // );\n}\nexport function getStackedDimension(data, targetDim) {\n  return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport { parsePercent } from '../util/number';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner';\nvar STACK_PREFIX = '__ec_stack_';\nvar LARGE_BAR_MIN_WIDTH = 0.5;\nvar LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\n\nexport function getLayoutOnAxis(opt) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n\n  var bandWidth = baseAxis.getBandWidth();\n\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(zrUtil.defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n\n  var widthAndOffsets = doCalBarWidthAndOffset(params);\n  var result = [];\n\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n\n  return result;\n}\nexport function prepareLayoutBarSeries(seriesType, ecModel) {\n  var seriesModels = [];\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (isOnCartesian(seriesModel) && !isInLargeMode(seriesModel)) {\n      seriesModels.push(seriesModel);\n    }\n  });\n  return seriesModels;\n}\n/**\n * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n * values.\n * This works for time axes, value axes, and log axes.\n * For a single time axis, return value is in the form like\n * {'x_0': [1000000]}.\n * The value of 1000000 is in milliseconds.\n */\n\nfunction getValueAxesMinGaps(barSeries) {\n  /**\n   * Map from axis.index to values.\n   * For a single time axis, axisValues is in the form like\n   * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n   * Items in axisValues[x], e.g. 1495555200000, are time values of all\n   * series.\n   */\n  var axisValues = {};\n  zrUtil.each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n\n    if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var key = baseAxis.dim + '_' + baseAxis.index;\n    var dim = data.mapDimension(baseAxis.dim);\n\n    for (var i = 0, cnt = data.count(); i < cnt; ++i) {\n      var value = data.get(dim, i);\n\n      if (!axisValues[key]) {\n        // No previous data for the axis\n        axisValues[key] = [value];\n      } else {\n        // No value in previous series\n        axisValues[key].push(value);\n      } // Ignore duplicated time values in the same axis\n\n    }\n  });\n  var axisMinGaps = {};\n\n  for (var key in axisValues) {\n    if (axisValues.hasOwnProperty(key)) {\n      var valuesInAxis = axisValues[key];\n\n      if (valuesInAxis) {\n        // Sort axis values into ascending order to calculate gaps\n        valuesInAxis.sort(function (a, b) {\n          return a - b;\n        });\n        var min = null;\n\n        for (var j = 1; j < valuesInAxis.length; ++j) {\n          var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n\n          if (delta > 0) {\n            // Ignore 0 delta because they are of the same axis value\n            min = min === null ? delta : Math.min(min, delta);\n          }\n        } // Set to null if only have one data\n\n\n        axisMinGaps[key] = min;\n      }\n    }\n  }\n\n  return axisMinGaps;\n}\n\nexport function makeColumnLayout(barSeries) {\n  var axisMinGaps = getValueAxesMinGaps(barSeries);\n  var seriesInfoList = [];\n  zrUtil.each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth;\n\n    if (baseAxis.type === 'category') {\n      bandWidth = baseAxis.getBandWidth();\n    } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var minGap = axisMinGaps[key];\n      var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n      var scale = baseAxis.scale.getExtent();\n      var scaleSpan = Math.abs(scale[1] - scale[0]);\n      bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n    } else {\n      var data = seriesModel.getData();\n      bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    }\n\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barMinWidth = parsePercent( // barMinWidth by default is 1 in cartesian. Because in value axis,\n    // the auto-calculated bar width might be less than 1.\n    seriesModel.get('barMinWidth') || 1, bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    seriesInfoList.push({\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barMinWidth: barMinWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    });\n  });\n  return doCalBarWidthAndOffset(seriesInfoList);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  zrUtil.each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: null,\n      gap: '20%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n\n    var barWidth = seriesInfo.barWidth;\n\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barMinWidth = seriesInfo.barMinWidth;\n    barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGapPercent = columnsOnAxis.categoryGap;\n\n    if (categoryGapPercent == null) {\n      var columnCount = zrUtil.keys(stacks).length; // More columns in one group\n      // the spaces between group is smaller. Or the column will be too thin.\n\n      categoryGapPercent = Math.max(35 - columnCount * 4, 15) + '%';\n    }\n\n    var categoryGap = parsePercent(categoryGapPercent, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column) {\n      var maxWidth = column.maxWidth;\n      var minWidth = column.minWidth;\n\n      if (!column.width) {\n        var finalWidth = autoWidth;\n\n        if (maxWidth && maxWidth < finalWidth) {\n          finalWidth = Math.min(maxWidth, remainedWidth);\n        } // `minWidth` has higher priority. `minWidth` decide that wheter the\n        // bar is able to be visible. So `minWidth` should not be restricted\n        // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n        // the extreme cases for `value` axis, bars are allowed to overlap\n        // with each other if `minWidth` specified.\n\n\n        if (minWidth && minWidth > finalWidth) {\n          finalWidth = minWidth;\n        }\n\n        if (finalWidth !== autoWidth) {\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      } else {\n        // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n        // CSS does. Becuase barWidth can be a percent value, where\n        // `barMaxWidth` can be used to restrict the final width.\n        var finalWidth = column.width;\n\n        if (maxWidth) {\n          finalWidth = Math.min(finalWidth, maxWidth);\n        } // `minWidth` has higher priority, as described above\n\n\n        if (minWidth) {\n          finalWidth = Math.max(finalWidth, minWidth);\n        }\n\n        column.width = finalWidth;\n        remainedWidth -= finalWidth + barGapPercent * finalWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        bandWidth: bandWidth,\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n\nfunction retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n  if (barWidthAndOffset && axis) {\n    var result = barWidthAndOffset[getAxisKey(axis)];\n\n    if (result != null && seriesModel != null) {\n      return result[getSeriesStackId(seriesModel)];\n    }\n\n    return result;\n  }\n}\n\nexport { retrieveColumnLayout };\nexport function layout(seriesType, ecModel) {\n  var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n  var barWidthAndOffset = makeColumnLayout(seriesModels);\n  var lastStackCoords = {};\n  zrUtil.each(seriesModels, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    data.setLayout({\n      bandWidth: columnLayoutInfo.bandWidth,\n      offset: columnOffset,\n      size: columnWidth\n    });\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim\n    /*, baseDim*/\n    );\n    var isValueAxisH = valueAxis.isHorizontal();\n    var valueAxisStart = getValueAxisStart(baseAxis, valueAxis, stacked);\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx);\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n\n      if (stacked) {\n        // Only ordinal axis can be stacked.\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            n: valueAxisStart // Negative stack\n\n          };\n        } // Should also consider #4243\n\n\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n\n      var x = void 0;\n      var y = void 0;\n      var width = void 0;\n      var height = void 0;\n\n      if (isValueAxisH) {\n        var coord = cartesian.dataToPoint([value, baseValue]);\n        x = baseCoord;\n        y = coord[1] + columnOffset;\n        width = coord[0] - valueAxisStart;\n        height = columnWidth;\n\n        if (Math.abs(width) < barMinHeight) {\n          width = (width < 0 ? -1 : 1) * barMinHeight;\n        } // Ignore stack from NaN value\n\n\n        if (!isNaN(width)) {\n          stacked && (lastStackCoords[stackId][baseValue][sign] += width);\n        }\n      } else {\n        var coord = cartesian.dataToPoint([baseValue, value]);\n        x = coord[0] + columnOffset;\n        y = baseCoord;\n        width = columnWidth;\n        height = coord[1] - valueAxisStart;\n\n        if (Math.abs(height) < barMinHeight) {\n          // Include zero to has a positive bar\n          height = (height <= 0 ? -1 : 1) * barMinHeight;\n        } // Ignore stack from NaN value\n\n\n        if (!isNaN(height)) {\n          stacked && (lastStackCoords[stackId][baseValue][sign] += height);\n        }\n      }\n\n      data.setItemLayout(idx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }\n  });\n} // TODO: Do not support stack in large mode yet.\n\nexport var largeLayout = {\n  seriesType: 'bar',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    if (!isOnCartesian(seriesModel) || !isInLargeMode(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var coordLayout = cartesian.master.getRect();\n    var baseAxis = cartesian.getBaseAxis();\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var valueAxisHorizontal = valueAxis.isHorizontal();\n    var valueDimIdx = valueAxisHorizontal ? 0 : 1;\n    var barWidth = retrieveColumnLayout(makeColumnLayout([seriesModel]), baseAxis, seriesModel).width;\n\n    if (!(barWidth > LARGE_BAR_MIN_WIDTH)) {\n      // jshint ignore:line\n      barWidth = LARGE_BAR_MIN_WIDTH;\n    }\n\n    return {\n      progress: function (params, data) {\n        var count = params.count;\n        var largePoints = new LargeArr(count * 2);\n        var largeBackgroundPoints = new LargeArr(count * 2);\n        var largeDataIndices = new LargeArr(count);\n        var dataIndex;\n        var coord = [];\n        var valuePair = [];\n        var pointsOffset = 0;\n        var idxOffset = 0;\n\n        while ((dataIndex = params.next()) != null) {\n          valuePair[valueDimIdx] = data.get(valueDim, dataIndex);\n          valuePair[1 - valueDimIdx] = data.get(baseDim, dataIndex);\n          coord = cartesian.dataToPoint(valuePair, null); // Data index might not be in order, depends on `progressiveChunkMode`.\n\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coordLayout.x + coordLayout.width : coord[0];\n          largePoints[pointsOffset++] = coord[0];\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coord[1] : coordLayout.y + coordLayout.height;\n          largePoints[pointsOffset++] = coord[1];\n          largeDataIndices[idxOffset++] = dataIndex;\n        }\n\n        data.setLayout({\n          largePoints: largePoints,\n          largeDataIndices: largeDataIndices,\n          largeBackgroundPoints: largeBackgroundPoints,\n          barWidth: barWidth,\n          valueAxisStart: getValueAxisStart(baseAxis, valueAxis, false),\n          backgroundStart: valueAxisHorizontal ? coordLayout.x : coordLayout.y,\n          valueAxisHorizontal: valueAxisHorizontal\n        });\n      }\n    };\n  }\n};\n\nfunction isOnCartesian(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\n\nfunction isInLargeMode(seriesModel) {\n  return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n} // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\nfunction getValueAxisStart(baseAxis, valueAxis, stacked) {\n  return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embeded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design have\n// concidered these common case:\n// (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\nimport * as numberUtil from '../util/number';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, getUnitValue, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName } from '../util/time';\nimport * as scaleHelper from './helper';\nimport IntervalScale from './Interval';\nimport Scale from './Scale';\nimport { warn } from '../util/log';\nimport { filter, map } from 'zrender/lib/core/util'; // FIXME \u516C\u7528\uFF1F\n\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n\nvar TimeScale =\n/** @class */\nfunction (_super) {\n  __extends(TimeScale, _super);\n\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n\n\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n\n\n  TimeScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    }\n\n    ticks.push({\n      value: extent[0],\n      level: 0\n    });\n    var useUTC = this.getSetting('useUTC');\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent);\n    ticks = ticks.concat(innerTicks);\n    ticks.push({\n      value: extent[1],\n      level: 0\n    });\n    return ticks;\n  };\n\n  TimeScale.prototype.niceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n\n  TimeScale.prototype.niceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    this._approxInterval = span / approxTickNum;\n\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1); // Interval that can be used to calculate ticks\n\n    this._interval = scaleIntervals[idx][1]; // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return typeof val === 'number' ? val : +numberUtil.parseDate(val);\n  };\n\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.normalize = function (val) {\n    return scaleHelper.normalize(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.scale = function (val) {\n    return scaleHelper.scale(val, this._extent);\n  };\n\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nvar scaleIntervals = [// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\n\nfunction isUnitValueSame(unit, valueA, valueB, isUTC) {\n  var dateA = numberUtil.parseDate(valueA);\n  var dateB = numberUtil.parseDate(valueB);\n\n  var isSame = function (unit) {\n    return getUnitValue(dateA, unit, isUTC) === getUnitValue(dateB, unit, isUTC);\n  };\n\n  var isSameYear = function () {\n    return isSame('year');\n  }; // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n  // const isSameQuater = () => isSameYear() && isSame('quarter');\n\n\n  var isSameMonth = function () {\n    return isSameYear() && isSame('month');\n  };\n\n  var isSameDay = function () {\n    return isSameMonth() && isSame('day');\n  }; // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n\n\n  var isSameHour = function () {\n    return isSameDay() && isSame('hour');\n  };\n\n  var isSameMinute = function () {\n    return isSameHour() && isSame('minute');\n  };\n\n  var isSameSecond = function () {\n    return isSameMinute() && isSame('second');\n  };\n\n  var isSameMilliSecond = function () {\n    return isSameSecond() && isSame('millisecond');\n  };\n\n  switch (unit) {\n    case 'year':\n      return isSameYear();\n\n    case 'month':\n      return isSameMonth();\n\n    case 'day':\n      return isSameDay();\n\n    case 'hour':\n      return isSameHour();\n\n    case 'minute':\n      return isSameMinute();\n\n    case 'second':\n      return isSameSecond();\n\n    case 'millisecond':\n      return isSameMilliSecond();\n  }\n} // const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\n\n\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16 // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick betwen two month.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\n\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\n\nfunction getFirstTimestampOfUnit(date, unitName, isUTC) {\n  var outDate = new Date(date);\n\n  switch (getPrimaryTimeUnit(unitName)) {\n    case 'year':\n    case 'month':\n      outDate[monthSetterName(isUTC)](0);\n\n    case 'day':\n      outDate[dateSetterName(isUTC)](1);\n\n    case 'hour':\n      outDate[hoursSetterName(isUTC)](0);\n\n    case 'minute':\n      outDate[minutesSetterName(isUTC)](0);\n\n    case 'second':\n      outDate[secondsSetterName(isUTC)](0);\n      outDate[millisecondsSetterName(isUTC)](0);\n  }\n\n  return outDate.getTime();\n}\n\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var date = new Date(minTimestamp);\n    var dateTime = minTimestamp;\n    var d = date[getMethodName](); // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      d += interval;\n      date[setMethodName](d);\n      dateTime = date.getTime();\n    } // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n\n\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n\n    if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        // TODO Optimize. Not include so may ticks.\n        value: getFirstTimestampOfUnit(new Date(extent[0]), unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n\n      if (startTick === endTick) {\n        continue;\n      }\n\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n\n        case 'week': // PENDING If week is added. Ignore day.\n\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n\n      addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    } // newAddedTicks.length && console.log(unitName, newAddedTicks);\n\n\n    return newAddedTicks;\n  }\n\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n\n  for (var i = 0; i < unitNames.length && iter++ < safeLimit; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount; // Remove the duplicate so the tick count can be precisely.\n\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n\n        var targetTickNum = (extent[1] - extent[0]) / approxInterval; // Added too much in this level and not too less in last level\n\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        } // Only treat primary time unit as one level.\n\n\n        levelsTicks.push(levelTicksRemoveDuplicated);\n\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      } // Reset if next unitName is primary\n\n\n      currentLevelTicks = [];\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (iter >= safeLimit) {\n      warn('Exceed safe limit.');\n    }\n  }\n\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n\n    for (var k = 0; k < levelTicks.length; ++k) {\n      ticks.push({\n        value: levelTicks[k].value,\n        level: maxLevel - i\n      });\n    }\n  }\n\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  }); // Remove duplicates\n\n  var result = [];\n\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n\n  return result;\n}\n\nScale.registerClass(TimeScale);\nexport default TimeScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport Scale from './Scale';\nimport * as numberUtil from '../util/number';\nimport * as scaleHelper from './helper'; // Use some method of IntervalScale\n\nimport IntervalScale from './Interval';\nvar scaleProto = Scale.prototype; // FIXME:TS refactor: not good to call it directly with `this`?\n\nvar intervalScaleProto = IntervalScale.prototype;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\n\nvar LogScale =\n/** @class */\nfunction (_super) {\n  __extends(LogScale, _super);\n\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale(); // FIXME:TS actually used by `IntervalScale`\n\n    _this._interval = 0;\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n\n\n  LogScale.prototype.getTicks = function (expandToNicedExtent) {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return {\n        value: powVal\n      };\n    }, this);\n  };\n\n  LogScale.prototype.setExtent = function (start, end) {\n    var base = this.base;\n    start = mathLog(start) / mathLog(base);\n    end = mathLog(end) / mathLog(base);\n    intervalScaleProto.setExtent.call(this, start, end);\n  };\n  /**\n   * @return {number} end\n   */\n\n\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n\n  LogScale.prototype.unionExtent = function (extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  };\n\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n\n\n  LogScale.prototype.niceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  };\n\n  LogScale.prototype.niceExtent = function (opt) {\n    intervalScaleProto.niceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n\n  LogScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.contain(val, this._extent);\n  };\n\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.normalize(val, this._extent);\n  };\n\n  LogScale.prototype.scale = function (val) {\n    val = scaleHelper.scale(val, this._extent);\n    return mathPow(this.base, val);\n  };\n\n  LogScale.type = 'log';\n  return LogScale;\n}(Scale);\n\nvar proto = LogScale.prototype;\nproto.getMinorTicks = intervalScaleProto.getMinorTicks;\nproto.getLabel = intervalScaleProto.getLabel;\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, numberUtil.getPrecision(originalVal));\n}\n\nScale.registerClass(LogScale);\nexport default LogScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray, eqNaN, isFunction } from 'zrender/lib/core/util';\nimport { parsePercent } from 'zrender/lib/contain/text';\n\nvar ScaleRawExtentInfo =\n/** @class */\nfunction () {\n  function ScaleRawExtentInfo(scale, model, // Usually: data extent from all series on this axis.\n  originalExtent) {\n    this._prepareParams(scale, model, originalExtent);\n  }\n  /**\n   * Parameters depending on ouside (like model, user callback)\n   * are prepared and fixed here.\n   */\n\n\n  ScaleRawExtentInfo.prototype._prepareParams = function (scale, model, // Usually: data extent from all series on this axis.\n  dataExtent) {\n    if (dataExtent[1] < dataExtent[0]) {\n      dataExtent = [NaN, NaN];\n    }\n\n    this._dataMin = dataExtent[0];\n    this._dataMax = dataExtent[1];\n    var isOrdinal = this._isOrdinal = scale.type === 'ordinal';\n    this._needCrossZero = model.getNeedCrossZero && model.getNeedCrossZero();\n    var modelMinRaw = this._modelMinRaw = model.get('min', true);\n\n    if (isFunction(modelMinRaw)) {\n      // This callback alway provide users the full data extent (before data filtered).\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMinRaw !== 'dataMin') {\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw);\n    }\n\n    var modelMaxRaw = this._modelMaxRaw = model.get('max', true);\n\n    if (isFunction(modelMaxRaw)) {\n      // This callback alway provide users the full data extent (before data filtered).\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMaxRaw !== 'dataMax') {\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw);\n    }\n\n    if (isOrdinal) {\n      // FIXME: there is a flaw here: if there is no \"block\" data processor like `dataZoom`,\n      // and progressive rendering is using, here the category result might just only contain\n      // the processed chunk rather than the entire result.\n      this._axisDataLen = model.getCategories().length;\n    } else {\n      var boundaryGap = model.get('boundaryGap');\n      var boundaryGapArr = isArray(boundaryGap) ? boundaryGap : [boundaryGap || 0, boundaryGap || 0];\n\n      if (typeof boundaryGapArr[0] === 'boolean' || typeof boundaryGapArr[1] === 'boolean') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn('Boolean type for boundaryGap is only ' + 'allowed for ordinal axis. Please use string in ' + 'percentage instead, e.g., \"20%\". Currently, ' + 'boundaryGap is set to be 0.');\n        }\n\n        this._boundaryGapInner = [0, 0];\n      } else {\n        this._boundaryGapInner = [parsePercent(boundaryGapArr[0], 1), parsePercent(boundaryGapArr[1], 1)];\n      }\n    }\n  };\n  /**\n   * Calculate extent by prepared parameters.\n   * This method has no external dependency and can be called duplicatedly,\n   * getting the same result.\n   * If parameters changed, should call this method to recalcuate.\n   */\n\n\n  ScaleRawExtentInfo.prototype.calculate = function () {\n    // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    var isOrdinal = this._isOrdinal;\n    var dataMin = this._dataMin;\n    var dataMax = this._dataMax;\n    var axisDataLen = this._axisDataLen;\n    var boundaryGapInner = this._boundaryGapInner;\n    var span = !isOrdinal ? dataMax - dataMin || Math.abs(dataMin) : null; // Currently if a `'value'` axis model min is specified as 'dataMin'/'dataMax',\n    // `boundaryGap` will not be used. It's the different from specifying as `null`/`undefined`.\n\n    var min = this._modelMinRaw === 'dataMin' ? dataMin : this._modelMinNum;\n    var max = this._modelMaxRaw === 'dataMax' ? dataMax : this._modelMaxNum; // If `_modelMinNum`/`_modelMaxNum` is `null`/`undefined`, should not be fixed.\n\n    var minFixed = min != null;\n    var maxFixed = max != null;\n\n    if (min == null) {\n      min = isOrdinal ? axisDataLen ? 0 : NaN : dataMin - boundaryGapInner[0] * span;\n    }\n\n    if (max == null) {\n      max = isOrdinal ? axisDataLen ? axisDataLen - 1 : NaN : dataMax + boundaryGapInner[1] * span;\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n\n    if (min > max) {\n      min = NaN;\n      max = NaN;\n    }\n\n    var isBlank = eqNaN(min) || eqNaN(max) || isOrdinal && !axisDataLen; // If data extent modified, need to recalculated to ensure cross zero.\n\n    if (this._needCrossZero) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !minFixed) {\n        min = 0; // minFixed = true;\n      } // Axis is under zero and max is not set\n\n\n      if (min < 0 && max < 0 && !maxFixed) {\n        max = 0; // maxFixed = true;\n      } // PENDING:\n      // When `needCrossZero` and all data is positive/negative, should it be ensured\n      // that the results processed by boundaryGap are positive/negative?\n      // If so, here `minFixed`/`maxFixed` need to be set.\n\n    }\n\n    var determinedMin = this._determinedMin;\n    var determinedMax = this._determinedMax;\n\n    if (determinedMin != null) {\n      min = determinedMin;\n      minFixed = true;\n    }\n\n    if (determinedMax != null) {\n      max = determinedMax;\n      maxFixed = true;\n    } // Ensure min/max be finite number or NaN here. (not to be null/undefined)\n    // `NaN` means min/max axis is blank.\n\n\n    return {\n      min: min,\n      max: max,\n      minFixed: minFixed,\n      maxFixed: maxFixed,\n      isBlank: isBlank\n    };\n  };\n\n  ScaleRawExtentInfo.prototype.modifyDataMinMax = function (minMaxName, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen);\n    }\n\n    this[DATA_MIN_MAX_ATTR[minMaxName]] = val;\n  };\n\n  ScaleRawExtentInfo.prototype.setDeterminedMinMax = function (minMaxName, val) {\n    var attr = DETERMINED_MIN_MAX_ATTR[minMaxName];\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen // Earse them usually means logic flaw.\n      && this[attr] == null);\n    }\n\n    this[attr] = val;\n  };\n\n  ScaleRawExtentInfo.prototype.freeze = function () {\n    // @ts-ignore\n    this.frozen = true;\n  };\n\n  return ScaleRawExtentInfo;\n}();\n\nexport { ScaleRawExtentInfo };\nvar DETERMINED_MIN_MAX_ATTR = {\n  min: '_determinedMin',\n  max: '_determinedMax'\n};\nvar DATA_MIN_MAX_ATTR = {\n  min: '_dataMin',\n  max: '_dataMax'\n};\n/**\n * Get scale min max and related info only depends on model settings.\n * This method can be called after coordinate system created.\n * For example, in data processing stage.\n *\n * Scale extent info probably be required multiple times during a workflow.\n * For example:\n * (1) `dataZoom` depends it to get the axis extent in \"100%\" state.\n * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.\n * (3) `coordSys.update` use it to finally decide the scale extent.\n * But the callback of `min`/`max` should not be called multiple times.\n * The code below should not be implemented repeatedly either.\n * So we cache the result in the scale instance, which will be recreated at the begining\n * of the workflow (because `scale` instance will be recreated each round of the workflow).\n */\n\nexport function ensureScaleRawExtentInfo(scale, model, // Usually: data extent from all series on this axis.\noriginalExtent) {\n  // Do not permit to recreate.\n  var rawExtentInfo = scale.rawExtentInfo;\n\n  if (rawExtentInfo) {\n    return rawExtentInfo;\n  }\n\n  rawExtentInfo = new ScaleRawExtentInfo(scale, model, originalExtent); // @ts-ignore\n\n  scale.rawExtentInfo = rawExtentInfo;\n  return rawExtentInfo;\n}\nexport function parseAxisModelMinMax(scale, minMax) {\n  return minMax == null ? null : eqNaN(minMax) ? NaN : scale.parse(minMax);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport OrdinalScale from '../scale/Ordinal';\nimport IntervalScale from '../scale/Interval';\nimport Scale from '../scale/Scale';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid';\nimport BoundingRect from 'zrender/lib/core/BoundingRect';\nimport TimeScale from '../scale/Time';\nimport LogScale from '../scale/Log';\nimport { getStackedDimension } from '../data/helper/dataStackHelper';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\n\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max; // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n  var ecModel = model.ecModel;\n\n  if (ecModel && scaleType === 'time'\n  /*|| scaleType === 'interval' */\n  ) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels); // Adjust axis min and max to account for overflow\n\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\n\nfunction adjustScaleForOverflow(min, max, model, // Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow; // Calculate required buffer based on old range and overflow\n\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n} // Precondition of calling this method:\n// The scale extent has been initailized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\n\n\nexport function niceScaleExtent(scale, model) {\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  scale.setExtent(extent[0], extent[1]);\n  scale.niceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n    maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  var interval = model.get('interval');\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\n\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\n\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\n\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n  if (axis.scale.type === 'time') {\n    return function (tpl) {\n      return function (tick, idx) {\n        return axis.scale.getFormattedLabel(tick, idx, tpl);\n      };\n    }(labelFormatter);\n  } else if (typeof labelFormatter === 'string') {\n    return function (tpl) {\n      return function (tick) {\n        // For category axis, get raw value; for numeric axis,\n        // get formatted label like '1,333,444'.\n        var label = axis.scale.getLabel(tick);\n        var text = tpl.replace('{value}', label != null ? label : '');\n        return text;\n      };\n    }(labelFormatter);\n  } else if (typeof labelFormatter === 'function') {\n    return function (cb) {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tick.value - categoryTickStart;\n        }\n\n        return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {\n          level: tick.level\n        } : null);\n      };\n    }(labelFormatter);\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param axis\n * @return Be null/undefined if no labels.\n */\n\nexport function estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1; // Simple optimization for large amount of labels\n\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n\n  return rect;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var beforeWidth = textRect.width;\n  var beforeHeight = textRect.height;\n  var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n  var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n  var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\n\n\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels reguardless of overlap.\n * @param {Object} axis axisModel.axis\n */\n\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {}; // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as textContain from 'zrender/lib/contain/text';\nimport { makeInner } from '../util/model';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper';\nvar inner = makeInner();\nexport function createAxisLabels(axis) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\n\nexport function createAxisTicks(axis, tickModel) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(), function (tick) {\n      return tick.value;\n    })\n  };\n}\n\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\n\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var labels;\n  var numericLabelInterval;\n\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\n\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var ticks;\n  var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  } // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n      tickCategoryInterval = labelsResult.labelCategoryInterval;\n      ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n        return labelItem.tickValue;\n      });\n    } else {\n      tickCategoryInterval = optionTickInterval;\n      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n    } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\n\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value\n      };\n    })\n  };\n}\n\nfunction getListCache(axis, prop) {\n  // Because key can be funciton, and cache size always be small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\n\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\n\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\n\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\n\n\nexport function calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n\n  var tickCount = ordinalScale.count();\n\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n\n  var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0; // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top'); // Magic number\n\n    width = rect.width * 1.3;\n    height = rect.height * 1.3; // Min size, void long loop.\n\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n\n  var dw = maxW / unitW;\n  var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hiden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    interval = lastAutoInterval;\n  } // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n      cache.axisExtent0 = axisExtent[0];\n      cache.axisExtent1 = axisExtent[1];\n    }\n\n  return interval;\n}\n\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\n\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  } // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n\n\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n  var tickValue = startTick;\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue\n    });\n  }\n\n  return result;\n}\n\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util';\nimport { linearMap, getPixelPrecision, round } from '../util/number';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval } from './axisTickLabelBuilder';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n */\n\nvar Axis =\n/** @class */\nfunction () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n\n\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n\n\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(data);\n  };\n  /**\n   * Get coord extent.\n   */\n\n\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n\n\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n\n\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n\n\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n\n\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n\n  Axis.prototype.getViewLabels = function () {\n    return createAxisLabels(this).labels;\n  };\n\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overrided to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n\n\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n\n\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overrided, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n\n\n  Axis.prototype.calculateCategoryInterval = function () {\n    return calculateCategoryInterval(this);\n  };\n\n  return Axis;\n}();\n\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n} // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\n\n\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[0]\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize\n    };\n    ticksCoords.push(last);\n  }\n\n  var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\n\nexport default Axis;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModelCommonMixin =\n/** @class */\nfunction () {\n  function AxisModelCommonMixin() {}\n\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n\n\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n\n  return AxisModelCommonMixin;\n}();\n\nexport { AxisModelCommonMixin };"],
  "mappings": "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",
  "names": ["proto", "storage", "i", "AreaStyleMixin", "RichTextToken", "RichTextLine", "RichTextContentBlock", "line", "lineWidth", "lineHeight", "RectShape", "Rect", "ZRText", "clamp", "parsePercent", "round", "e", "idx", "max", "lg", "printableStr", "map", "_a", "keys", "round", "e", "_a", "dispatcher", "applyTransform", "mergePath", "subPixelOptimize", "subPixelOptimizeLine", "subPixelOptimizeRect", "mathSqrt", "mathSqrt", "CMD", "SVGPath", "Sub", "Group", "CircleShape", "Circle", "EllipseShape", "Ellipse", "PI", "PI2", "mathSin", "mathCos", "mathSqrt", "buildPath", "SectorShape", "Sector", "buildPath", "RingShape", "Ring", "PI2", "points", "distance", "points", "min", "max", "clone", "scale", "buildPath", "points", "PolygonShape", "Polygon", "buildPath", "PolylineShape", "Polyline", "buildPath", "subPixelOptimizeOutputShape", "LineShape", "Line", "subPixelOptimizeOutputShape", "BezierCurveShape", "BezierCurve", "ArcShape", "Arc", "CompoundPath", "scale", "Gradient", "LinearGradient", "RadialGradient", "OrientedBoundingRect", "minTv", "maxTv", "out", "min", "max", "mathMax", "mathMin", "layout", "mergePath", "subPixelOptimizeLine", "subPixelOptimizeRect", "subPixelOptimize", "applyTransform", "invert", "points", "mathMax", "mathMin", "labelStatesTexts", "TextStyleMixin", "LineStyleMixin", "ItemStyleMixin", "Model", "DataDiffer", "map", "SourceImpl", "DefaultDataProvider", "out", "proto", "_a", "storage", "extent", "min", "max", "DataDimensionInfo", "FilterOrderComparator", "SortOrderComparator", "FilterEqualityComparator", "isObject", "map", "List", "storage", "dim", "min", "max", "extent", "dist", "min2", "max2", "layout", "merge", "e", "defaults", "normalizeCssArray", "each", "parsePercent", "normalizeCssArray", "merge", "copy", "ComponentModel", "proto", "PaletteMixin", "inner", "DataFormatMixin", "isSeries", "Task", "e", "idxResult", "val", "ExternalSource", "errMsg", "SourceManager", "errMsg", "datasetModel", "_a", "TooltipMarkupStyleCreator", "isValueMultipleLine", "inner", "SeriesModel", "tmpArr", "_a", "_b", "proto", "inner", "inner", "ChartView", "proto", "inner", "Param", "e", "Draggable", "out", "out", "_calcOut", "e", "out", "box", "GestureMgr", "dist", "EmptyProxy", "HoveredResult", "Handler", "storage", "out", "compare", "Storage", "Animation", "FakeGlobalEvent", "DOMHandlerScope", "HandlerDomProxy", "backgroundColor", "ZRender", "storage", "e", "ComponentView", "Component_default", "points", "Region", "GeoJSONRegion", "min", "max", "min2", "max2", "center", "GeoSVGRegion", "center", "GlobalModel", "theme", "optionPreprocessorFuncs", "cmpts", "i", "cmpt", "ExtensionAPI", "CoordinateSystemManager", "OptionManager", "optionPreprocessorFuncs", "each", "isObject", "seriesType", "option", "inner", "colorPalette", "data", "PI", "Scheduler", "opt", "seriesType", "create", "e", "ECEventProcessor", "query", "data", "PI2", "CMD", "distance", "out", "dist", "points", "delta", "i", "item", "rect", "dir", "points", "keys", "LabelManager", "parsePercent", "seriesType", "out", "innerColor", "pattern", "keys", "i", "warn", "x", "y", "width", "height", "scale", "decal", "SVGParser", "stop", "points", "numberReg", "type", "value", "scale", "GeoSVGResource", "_a", "e", "points", "geoCoord", "points", "GeoJSONResource", "e", "assert", "each", "isFunction", "isObject", "indexOf", "version", "MessageCenter", "ECharts", "theme", "assert", "isObject", "each", "mathMin", "mathMax", "instances", "e", "view", "Component_default", "_a", "backgroundColor", "storage", "_super", "init", "dispose", "indexOf", "isFunction", "isObject", "each", "assert", "indexOf", "Component_default", "Scale", "extent", "OrdinalMeta", "map", "round", "extent", "contain", "normalize", "scale", "OrdinalScale", "contain", "normalize", "scale", "extent", "roundNumber", "round", "IntervalScale", "contain", "normalize", "scale", "extent", "seriesType", "key", "min", "scale", "parsePercent", "seriesType", "data", "TimeScale", "extent", "contain", "normalize", "scale", "unit", "out", "levelTicks", "i", "round", "mathFloor", "LogScale", "extent", "base", "contain", "normalize", "scale", "ScaleRawExtentInfo", "scale", "min", "max", "scale", "scale", "min", "max", "extent", "rotate", "inner", "tickValue", "Axis", "scale", "extent", "min", "max", "clamp", "round", "AxisModelCommonMixin"]
}
